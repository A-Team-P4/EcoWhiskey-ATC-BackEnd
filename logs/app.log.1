2025-10-21 22:29:50,822 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:29:50,822 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:29:50,824 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:29:50,824 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:29:50,826 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:29:50,826 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:29:50,828 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:29:50,829 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:29:50,829 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:29:50,832 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:29:50,832 | INFO | sqlalchemy.engine.Engine | [cached since 0.003303s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:29:50,833 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:29:50,833 | INFO | sqlalchemy.engine.Engine | [cached since 0.00394s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:29:50,834 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:29:50,834 | INFO | sqlalchemy.engine.Engine | [cached since 0.004559s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:29:50,835 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:29:50,835 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 22:29:50,836 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:29:50,836 | INFO | sqlalchemy.engine.Engine | [cached since 0.001655s ago] ('account_type', 'pg_catalog')
2025-10-21 22:29:50,837 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:30:06,604 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:30:06,604 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:30:06,605 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:30:06,606 | DEBUG | boto3.s3.transfer | Opting out of CRT Transfer Manager. Preferred client: auto, CRT available: False, Instance Optimized: False.
2025-10-21 22:30:06,606 | DEBUG | boto3.s3.transfer | Using default client. pid: 98287, thread: 6188118016
2025-10-21 22:30:06,606 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11ebcba10>}) about to wait for the following futures []
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11ebcba10>}) done waiting for dependent futures
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11ebcba10>}) with kwargs {'client': <botocore.client.S3 object at 0x11e745550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11ebca900>, 'osutil': <s3transfer.utils.OSUtils object at 0x11ebcaba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11ebcb230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11ebcba10>}
2025-10-21 22:30:06,606 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11ebcb230> for transfer request: 0.
2025-10-21 22:30:06,606 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:30:06,606 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:30:06,606 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11e745550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11f050440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x11da6a5c0>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x11da698a0>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x11da6afc0>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x11da69800>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x11da6ba60>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x11e789590>>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x11da6bc40>
2025-10-21 22:30:06,607 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:06,607 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Bucket': 'ecowhiskey-atc-audio', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': False, 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2025-10-21 22:30:06,608 | DEBUG | botocore.regions | Endpoint provider result: https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
2025-10-21 22:30:06,608 | DEBUG | botocore.regions | Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2025-10-21 22:30:06,608 | DEBUG | botocore.regions | Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x11da69bc0>
2025-10-21 22:30:06,608 | DEBUG | botocore.handlers | Adding expect 100 continue header to request.
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x11e78b4d0>>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:06,608 | DEBUG | botocore.endpoint | Making request for OperationModel(name=PutObject) with params: {'url_path': '/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'query_string': {}, 'method': 'PUT', 'headers': {'Content-Type': 'audio/mpeg', 'x-amz-sdk-checksum-algorithm': 'CRC32', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,G,Z,e,D cfg/retry-mode#legacy Botocore/1.40.32', 'Expect': '100-continue', 'Transfer-Encoding': 'chunked', 'Content-Encoding': 'aws-chunked', 'X-Amz-Trailer': 'x-amz-checksum-crc32', 'X-Amz-Decoded-Content-Length': '19124'}, 'body': <botocore.httpchecksum.AwsChunkedWrapper object at 0x11f0501a0>, 'auth_path': '/ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'url': 'https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e789d10>, 'has_streaming_input': True, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 's3_redirect': {'redirected': False, 'bucket': 'ecowhiskey-atc-audio', 'params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'Body': <s3transfer.utils.ReadFileChunk object at 0x11f050440>, 'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}, 'input_params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3'}, 'signing': {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-2'}]}, 'checksum': {'request_algorithm': {'algorithm': 'crc32', 'in': 'trailer', 'name': 'x-amz-checksum-crc32'}}}}
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11e712340>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e789bd0>>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x11da6bba0>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <function _set_extra_headers_for_unsigned_request at 0x11da80220>
2025-10-21 22:30:06,608 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x11e78b4d0>>
2025-10-21 22:30:06,608 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:06,609 | DEBUG | botocore.auth | CanonicalRequest:
PUT
/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3

content-encoding:aws-chunked
content-type:audio/mpeg
host:ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
x-amz-content-sha256:STREAMING-UNSIGNED-PAYLOAD-TRAILER
x-amz-date:20251022T043006Z
x-amz-decoded-content-length:19124
x-amz-sdk-checksum-algorithm:CRC32
x-amz-trailer:x-amz-checksum-crc32

content-encoding;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length;x-amz-sdk-checksum-algorithm;x-amz-trailer
STREAMING-UNSIGNED-PAYLOAD-TRAILER
2025-10-21 22:30:06,609 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043006Z
20251022/us-east-2/s3/aws4_request
df0481f4d4c67b45a68756eea3eafe405dce732cfdc22a787ff71674bcf847e7
2025-10-21 22:30:06,609 | DEBUG | botocore.auth | Signature:
46ae2beb6980e540953f4d8f9b08fe2459527aadc76e4955f46eac608100fe85
2025-10-21 22:30:06,609 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e703460>>
2025-10-21 22:30:06,609 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11e7123e0>
2025-10-21 22:30:06,609 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:06,609 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3, headers={'Content-Type': b'audio/mpeg', 'x-amz-sdk-checksum-algorithm': b'CRC32', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,G,U,Z,e,D cfg/retry-mode#legacy Botocore/1.40.32', 'Expect': b'100-continue', 'Transfer-Encoding': b'chunked', 'Content-Encoding': b'aws-chunked', 'X-Amz-Trailer': b'x-amz-checksum-crc32', 'X-Amz-Decoded-Content-Length': b'19124', 'X-Amz-Date': b'20251022T043006Z', 'X-Amz-Content-SHA256': b'STREAMING-UNSIGNED-PAYLOAD-TRAILER', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/s3/aws4_request, SignedHeaders=content-encoding;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length;x-amz-sdk-checksum-algorithm;x-amz-trailer, Signature=46ae2beb6980e540953f4d8f9b08fe2459527aadc76e4955f46eac608100fe85', 'amz-sdk-invocation-id': b'7132bd07-c6e9-4371-834e-36fbd4b70dfc', 'amz-sdk-request': b'attempt=1'}>
2025-10-21 22:30:06,610 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:06,610 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com:443
2025-10-21 22:30:06,967 | DEBUG | botocore.awsrequest | Waiting for 100 Continue response.
2025-10-21 22:30:07,101 | DEBUG | botocore.awsrequest | 100 Continue response seen, now sending request body.
2025-10-21 22:30:07,340 | DEBUG | urllib3.connectionpool | https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com:443 "PUT /sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3 HTTP/1.1" 200 0
2025-10-21 22:30:07,341 | DEBUG | botocore.hooks | Event before-parse.s3.PutObject: calling handler <function _handle_200_error at 0x11da6bf60>
2025-10-21 22:30:07,341 | DEBUG | botocore.hooks | Event before-parse.s3.PutObject: calling handler <function handle_expires_header at 0x11da6bd80>
2025-10-21 22:30:07,342 | DEBUG | botocore.parsers | Response headers: {'x-amz-id-2': 'bCwdPVe9HYud3sXLqwNJm9p2zHcXAhG7IXFhNf86vQQm7nNAkQH4D71wLywlQwo7H6puX5zjG4Vyj2iYasGmzSTCY4FtiYyyUo0c6pt8M0U=', 'x-amz-request-id': '096DQ2C0FAAWQZCN', 'Date': 'Wed, 22 Oct 2025 04:30:08 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"c7ffde3b547011fd46c0a49dfadbce20"', 'x-amz-checksum-crc32': 'EFC3Bg==', 'x-amz-checksum-type': 'FULL_OBJECT', 'Content-Length': '0', 'Server': 'AmazonS3'}
2025-10-21 22:30:07,342 | DEBUG | botocore.parsers | Response body:
b''
2025-10-21 22:30:07,342 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <function _update_status_code at 0x11da800e0>
2025-10-21 22:30:07,343 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11e78b250>
2025-10-21 22:30:07,343 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:07,343 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:07,343 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:30:07,345 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.StartTranscriptionJob: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:07,345 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.StartTranscriptionJob: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:07,346 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-2', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:07,346 | DEBUG | botocore.regions | Endpoint provider result: https://transcribe.us-east-2.amazonaws.com
2025-10-21 22:30:07,347 | DEBUG | botocore.hooks | Event before-call.transcribe.StartTranscriptionJob: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:07,347 | DEBUG | botocore.hooks | Event before-call.transcribe.StartTranscriptionJob: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:07,347 | DEBUG | botocore.endpoint | Making request for OperationModel(name=StartTranscriptionJob) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'Transcribe.StartTranscriptionJob', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TranscriptionJobName": "atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6", "LanguageCode": "es-US", "MediaFormat": "mp3", "Media": {"MediaFileUri": "s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"}}', 'url': 'https://transcribe.us-east-2.amazonaws.com/', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e97ca50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:07,348 | DEBUG | botocore.hooks | Event request-created.transcribe.StartTranscriptionJob: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9d8180>>
2025-10-21 22:30:07,348 | DEBUG | botocore.hooks | Event choose-signer.transcribe.StartTranscriptionJob: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:07,348 | DEBUG | botocore.hooks | Event choose-signer.transcribe.StartTranscriptionJob: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:07,349 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:07,349 | DEBUG | botocore.auth | CanonicalRequest:
POST
/

content-type:application/x-amz-json-1.1
host:transcribe.us-east-2.amazonaws.com
x-amz-date:20251022T043007Z
x-amz-target:Transcribe.StartTranscriptionJob

content-type;host;x-amz-date;x-amz-target
ab6df74a3e5e7beb207d52faecc47032753b559365625e59e45c5dbd860ada51
2025-10-21 22:30:07,349 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043007Z
20251022/us-east-2/transcribe/aws4_request
094439e55ec5a9eb599dab37024824bf45a5c41ef77a846bae8922cba3aeab91
2025-10-21 22:30:07,349 | DEBUG | botocore.auth | Signature:
07564a99f369f41dd263d0e5f08ad95c8df5597c1e15fbcd7b9206819f265348
2025-10-21 22:30:07,349 | DEBUG | botocore.hooks | Event request-created.transcribe.StartTranscriptionJob: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e7a1c50>>
2025-10-21 22:30:07,350 | DEBUG | botocore.hooks | Event request-created.transcribe.StartTranscriptionJob: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:07,350 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://transcribe.us-east-2.amazonaws.com/, headers={'X-Amz-Target': b'Transcribe.StartTranscriptionJob', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043007Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/transcribe/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=07564a99f369f41dd263d0e5f08ad95c8df5597c1e15fbcd7b9206819f265348', 'amz-sdk-invocation-id': b'cd6a5d86-5755-4fce-b852-82fb7dbc7c25', 'amz-sdk-request': b'attempt=1', 'Content-Length': '298'}>
2025-10-21 22:30:07,350 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:07,351 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): transcribe.us-east-2.amazonaws.com:443
2025-10-21 22:30:07,922 | DEBUG | urllib3.connectionpool | https://transcribe.us-east-2.amazonaws.com:443 "POST / HTTP/1.1" 200 411
2025-10-21 22:30:07,923 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': '1072c22a-077e-46a2-91de-dd918ac67bcd', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '411', 'Date': 'Wed, 22 Oct 2025 04:30:08 GMT'}
2025-10-21 22:30:07,923 | DEBUG | botocore.parsers | Response body:
b'{"TranscriptionJob":{"CreationTime":1.761107408023E9,"LanguageCode":"es-US","Media":{"MediaFileUri":"s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"},"MediaFormat":"mp3","StartTime":1.761107408039E9,"TranscriptionJobName":"atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6","TranscriptionJobStatus":"IN_PROGRESS"}}'
2025-10-21 22:30:07,924 | DEBUG | botocore.hooks | Event needs-retry.transcribe.StartTranscriptionJob: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9d9480>
2025-10-21 22:30:07,924 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:07,925 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:07,926 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:07,926 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-2', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:07,926 | DEBUG | botocore.regions | Endpoint provider result: https://transcribe.us-east-2.amazonaws.com
2025-10-21 22:30:07,926 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:07,927 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:07,927 | DEBUG | botocore.endpoint | Making request for OperationModel(name=GetTranscriptionJob) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'Transcribe.GetTranscriptionJob', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TranscriptionJobName": "atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6"}', 'url': 'https://transcribe.us-east-2.amazonaws.com/', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e97ca50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:07,927 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9d8180>>
2025-10-21 22:30:07,927 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:07,927 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:07,928 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:07,928 | DEBUG | botocore.auth | CanonicalRequest:
POST
/

content-type:application/x-amz-json-1.1
host:transcribe.us-east-2.amazonaws.com
x-amz-date:20251022T043007Z
x-amz-target:Transcribe.GetTranscriptionJob

content-type;host;x-amz-date;x-amz-target
dcdd7a860cab828586ebdb17816b5badf1f93839d2aac2511022236d5e33b918
2025-10-21 22:30:07,929 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043007Z
20251022/us-east-2/transcribe/aws4_request
13d5f18940739b57defc8cc83ace81f06bd28dcc9ad94db5cbee6ce3403babe4
2025-10-21 22:30:07,929 | DEBUG | botocore.auth | Signature:
bc93a33deee778e5cdeac55894e17589679501adb09a53cb682014a627ccd309
2025-10-21 22:30:07,931 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e7a1c50>>
2025-10-21 22:30:07,932 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:07,932 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://transcribe.us-east-2.amazonaws.com/, headers={'X-Amz-Target': b'Transcribe.GetTranscriptionJob', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043007Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/transcribe/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=bc93a33deee778e5cdeac55894e17589679501adb09a53cb682014a627ccd309', 'amz-sdk-invocation-id': b'ea4f341d-e07d-42f1-b251-a7991cde3f1d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '112'}>
2025-10-21 22:30:07,932 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:08,082 | DEBUG | urllib3.connectionpool | https://transcribe.us-east-2.amazonaws.com:443 "POST / HTTP/1.1" 200 495
2025-10-21 22:30:08,083 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': 'f22566f8-8a83-4448-aa31-997aeb58a3cb', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '495', 'Date': 'Wed, 22 Oct 2025 04:30:08 GMT'}
2025-10-21 22:30:08,083 | DEBUG | botocore.parsers | Response body:
b'{"TranscriptionJob":{"CreationTime":1.761107408023E9,"LanguageCode":"es-US","Media":{"MediaFileUri":"s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"},"MediaFormat":"mp3","Settings":{"ChannelIdentification":false,"ShowAlternatives":false},"StartTime":1.761107408039E9,"Transcript":{},"TranscriptionJobName":"atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6","TranscriptionJobStatus":"IN_PROGRESS"}}'
2025-10-21 22:30:08,084 | DEBUG | botocore.hooks | Event needs-retry.transcribe.GetTranscriptionJob: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9d9480>
2025-10-21 22:30:08,084 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:10,086 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:10,087 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:10,087 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-2', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:10,087 | DEBUG | botocore.regions | Endpoint provider result: https://transcribe.us-east-2.amazonaws.com
2025-10-21 22:30:10,088 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:10,088 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:10,088 | DEBUG | botocore.endpoint | Making request for OperationModel(name=GetTranscriptionJob) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'Transcribe.GetTranscriptionJob', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TranscriptionJobName": "atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6"}', 'url': 'https://transcribe.us-east-2.amazonaws.com/', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e97ca50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:10,088 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9d8180>>
2025-10-21 22:30:10,088 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:10,089 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:10,089 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:10,089 | DEBUG | botocore.auth | CanonicalRequest:
POST
/

content-type:application/x-amz-json-1.1
host:transcribe.us-east-2.amazonaws.com
x-amz-date:20251022T043010Z
x-amz-target:Transcribe.GetTranscriptionJob

content-type;host;x-amz-date;x-amz-target
dcdd7a860cab828586ebdb17816b5badf1f93839d2aac2511022236d5e33b918
2025-10-21 22:30:10,089 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043010Z
20251022/us-east-2/transcribe/aws4_request
03efd52243d7e51c11f25572ee1b7efb6c889fbe12c5bdb1ba0c765bbc10f817
2025-10-21 22:30:10,089 | DEBUG | botocore.auth | Signature:
f8bc4e10363c8e6bf38049a73f676b762e34f90131305799f725ffb7b3371638
2025-10-21 22:30:10,089 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e7a1c50>>
2025-10-21 22:30:10,090 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:10,090 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://transcribe.us-east-2.amazonaws.com/, headers={'X-Amz-Target': b'Transcribe.GetTranscriptionJob', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043010Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/transcribe/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=f8bc4e10363c8e6bf38049a73f676b762e34f90131305799f725ffb7b3371638', 'amz-sdk-invocation-id': b'5e4be877-a364-4573-94c9-43a7bc03d776', 'amz-sdk-request': b'attempt=1', 'Content-Length': '112'}>
2025-10-21 22:30:10,090 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:10,244 | DEBUG | urllib3.connectionpool | https://transcribe.us-east-2.amazonaws.com:443 "POST / HTTP/1.1" 200 524
2025-10-21 22:30:10,244 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': '297111b6-6136-4257-9029-60ae3b8c7def', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '524', 'Date': 'Wed, 22 Oct 2025 04:30:10 GMT'}
2025-10-21 22:30:10,244 | DEBUG | botocore.parsers | Response body:
b'{"TranscriptionJob":{"CreationTime":1.761107408023E9,"LanguageCode":"es-US","Media":{"MediaFileUri":"s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"},"MediaFormat":"mp3","MediaSampleRateHertz":16000,"Settings":{"ChannelIdentification":false,"ShowAlternatives":false},"StartTime":1.761107408039E9,"Transcript":{},"TranscriptionJobName":"atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6","TranscriptionJobStatus":"IN_PROGRESS"}}'
2025-10-21 22:30:10,244 | DEBUG | botocore.hooks | Event needs-retry.transcribe.GetTranscriptionJob: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9d9480>
2025-10-21 22:30:10,244 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:12,245 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:12,246 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:12,246 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-2', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:12,246 | DEBUG | botocore.regions | Endpoint provider result: https://transcribe.us-east-2.amazonaws.com
2025-10-21 22:30:12,247 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:12,247 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:12,247 | DEBUG | botocore.endpoint | Making request for OperationModel(name=GetTranscriptionJob) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'Transcribe.GetTranscriptionJob', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TranscriptionJobName": "atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6"}', 'url': 'https://transcribe.us-east-2.amazonaws.com/', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e97ca50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:12,247 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9d8180>>
2025-10-21 22:30:12,247 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:12,247 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:12,248 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:12,248 | DEBUG | botocore.auth | CanonicalRequest:
POST
/

content-type:application/x-amz-json-1.1
host:transcribe.us-east-2.amazonaws.com
x-amz-date:20251022T043012Z
x-amz-target:Transcribe.GetTranscriptionJob

content-type;host;x-amz-date;x-amz-target
dcdd7a860cab828586ebdb17816b5badf1f93839d2aac2511022236d5e33b918
2025-10-21 22:30:12,248 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043012Z
20251022/us-east-2/transcribe/aws4_request
2b3233694cc5e58b9a6124009e0e389f6ab39f4d5158bf10138dd598e49179d0
2025-10-21 22:30:12,248 | DEBUG | botocore.auth | Signature:
4cfcc0ae4e6d9661a6030af58f2f8dc1a45ba8e9a301b002df394402d5026a86
2025-10-21 22:30:12,248 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e7a1c50>>
2025-10-21 22:30:12,248 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:12,248 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://transcribe.us-east-2.amazonaws.com/, headers={'X-Amz-Target': b'Transcribe.GetTranscriptionJob', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043012Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/transcribe/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=4cfcc0ae4e6d9661a6030af58f2f8dc1a45ba8e9a301b002df394402d5026a86', 'amz-sdk-invocation-id': b'd9bf7091-e2a1-4332-bf78-1ba7a805f740', 'amz-sdk-request': b'attempt=1', 'Content-Length': '112'}>
2025-10-21 22:30:12,249 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:12,404 | DEBUG | urllib3.connectionpool | https://transcribe.us-east-2.amazonaws.com:443 "POST / HTTP/1.1" 200 524
2025-10-21 22:30:12,404 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': 'ff57d499-c2a8-4f8a-887f-ad965123e186', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '524', 'Date': 'Wed, 22 Oct 2025 04:30:12 GMT'}
2025-10-21 22:30:12,404 | DEBUG | botocore.parsers | Response body:
b'{"TranscriptionJob":{"CreationTime":1.761107408023E9,"LanguageCode":"es-US","Media":{"MediaFileUri":"s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"},"MediaFormat":"mp3","MediaSampleRateHertz":16000,"Settings":{"ChannelIdentification":false,"ShowAlternatives":false},"StartTime":1.761107408039E9,"Transcript":{},"TranscriptionJobName":"atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6","TranscriptionJobStatus":"IN_PROGRESS"}}'
2025-10-21 22:30:12,405 | DEBUG | botocore.hooks | Event needs-retry.transcribe.GetTranscriptionJob: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9d9480>
2025-10-21 22:30:12,405 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:14,407 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:14,408 | DEBUG | botocore.hooks | Event before-parameter-build.transcribe.GetTranscriptionJob: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:14,408 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-2', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:14,409 | DEBUG | botocore.regions | Endpoint provider result: https://transcribe.us-east-2.amazonaws.com
2025-10-21 22:30:14,409 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:14,409 | DEBUG | botocore.hooks | Event before-call.transcribe.GetTranscriptionJob: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:14,410 | DEBUG | botocore.endpoint | Making request for OperationModel(name=GetTranscriptionJob) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'Transcribe.GetTranscriptionJob', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TranscriptionJobName": "atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6"}', 'url': 'https://transcribe.us-east-2.amazonaws.com/', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e97ca50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:14,410 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9d8180>>
2025-10-21 22:30:14,410 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:14,410 | DEBUG | botocore.hooks | Event choose-signer.transcribe.GetTranscriptionJob: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:14,411 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:14,411 | DEBUG | botocore.auth | CanonicalRequest:
POST
/

content-type:application/x-amz-json-1.1
host:transcribe.us-east-2.amazonaws.com
x-amz-date:20251022T043014Z
x-amz-target:Transcribe.GetTranscriptionJob

content-type;host;x-amz-date;x-amz-target
dcdd7a860cab828586ebdb17816b5badf1f93839d2aac2511022236d5e33b918
2025-10-21 22:30:14,411 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043014Z
20251022/us-east-2/transcribe/aws4_request
3233c07c9f8a649bb6329e6fc37b3a7f748062f731e3e37161dca599936b030e
2025-10-21 22:30:14,411 | DEBUG | botocore.auth | Signature:
2e711e6ad16c9751d8ac2f9b6d0941fccfc96e64845787042d06c6592f03f28f
2025-10-21 22:30:14,411 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e7a1c50>>
2025-10-21 22:30:14,411 | DEBUG | botocore.hooks | Event request-created.transcribe.GetTranscriptionJob: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:14,412 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://transcribe.us-east-2.amazonaws.com/, headers={'X-Amz-Target': b'Transcribe.GetTranscriptionJob', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043014Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/transcribe/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=2e711e6ad16c9751d8ac2f9b6d0941fccfc96e64845787042d06c6592f03f28f', 'amz-sdk-invocation-id': b'3e95adff-55c4-42de-b5bc-c09a7c08a972', 'amz-sdk-request': b'attempt=1', 'Content-Length': '112'}>
2025-10-21 22:30:14,412 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:14,564 | DEBUG | urllib3.connectionpool | https://transcribe.us-east-2.amazonaws.com:443 "POST / HTTP/1.1" 200 2476
2025-10-21 22:30:14,565 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': '4fff5a90-e859-4a03-8c2a-d1f7753e261c', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '2476', 'Date': 'Wed, 22 Oct 2025 04:30:14 GMT'}
2025-10-21 22:30:14,566 | DEBUG | botocore.parsers | Response body:
b'{"TranscriptionJob":{"CompletionTime":1.761107412996E9,"CreationTime":1.761107408023E9,"LanguageCode":"es-US","Media":{"MediaFileUri":"s3://ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3"},"MediaFormat":"mp3","MediaSampleRateHertz":16000,"Settings":{"ChannelIdentification":false,"ShowAlternatives":false},"StartTime":1.761107408039E9,"Transcript":{"TranscriptFileUri":"https://s3.us-east-2.amazonaws.com/aws-transcribe-us-east-2-prod/334387323267/atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6/bd21155c-3e3b-46a6-8ed2-72f9daf7e245/asrOutput.json?X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGsaCXVzLWVhc3QtMiJGMEQCIFm85mHF4CZesm9SKEh0Y0W0YbJoGFifBWRjKdDdjx3pAiBm65d3GbS7CJql%2F3doi8VPIOVc%2FeEmiW9Jom4zp0LkyiqyBQglEAQaDDI0NjM2MTMyMjc1MiIMYMyA%2FMuT2mwBs2gfKo8F5tT0PY093QvvFqyr05HMUITsXfPu%2B0UR9N6s%2FXX2swjuDdf%2F3o4%2FMe4%2B4oaQSM9np%2BZhsAD4h0sfUbSzx6dclPVlVl%2FeG2IaiE8fACc8bMg7f4BTAodiskdnbrv2zOUDku13UbJkncph%2FLHY%2F6FooTHd1COl1CDIScKIlpxNAOSag5oczaSEIURUHxpzBFrA8iKX6aVrlxdVp4co11kv5Ig8A%2BwD8Z7%2BzsjrZLEwicA7crXniHn5XeD0gRdnPvo8gbnhmdsurdqT3VdBoVaVQkE%2BrZ%2BOinYven5YzNkmvxHMWr0mDddDGvLgGObd%2BN9bMvXUul%2BZN%2Bnn6MRsGsORy5TPCQug8fl9B9tQZxeoeHTBSx4zVppFvo%2FjrD7zTFTS2tYHmYgc%2BuS%2FHYqXyj58abUZlH9wD7KiOy%2FhtHwDP1btbqoQPOlzU2zMty4Kzs2fw7v9PPPsmrA5Rj9x7%2FDSkvpdTCQ8D7pA1dO5KynKmLJ%2Bs7ty0%2B2QdZ1eNZnq8hGv2o2BAzHEv5oR0lIcpNAKzZmgBUnFiq981RZrD5%2F7GkL%2Bap6MgUni1R%2Fo865GOQqblCIDaPJPg8ZY6YC35jLPr9fNCZNa34BlFDIqt5XJXDC59l7MP9PUFOmoaU3N%2By2DShii119UVBHPqEgzMl6rXsKdQJLsUk42PMhkcgzruJpJ%2Fx8qMpRkIKIyt4waZ4P6p4SXTCCs3xegzPoITtHNfp6dsDUcgg%2BAexw0FHCrViMwqueLHKF0ojDzAxD1hxZAo9XnMaPsgIwsY4feQkNaeJKIiVAsBcGdqbd6Kwf6vHIYLjz%2B96c3nuz00y8Ra%2BvIyMec098m2232guPWVrBdCVbVSjhYLmLq8u2Z5Q2sIjCwnuHHBjqyAatwe0WKXV9TghuBMyLkkWgDAKuM%2BGD1IP7ffipJG%2FNrhU8EaBgofpHm8HiE5Zp%2FoXMLUdwtoCwG%2F%2F6JdKzI5Ie1UdavuNpG%2FY7y3eGI08nzdHeh%2F9VpmXgM8rymL0CSjqCv9q8xYuVvezj9fLxQYGkI%2FMnh4YXj5ptxr3iqri5rrwyE%2FlY0mJY%2FVyxHjIAdxNzFnfuHa4vuczYQ8V7Wt%2F6mcO29ogyW91TvWHqDp3d3PV8%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20251022T043014Z&X-Amz-SignedHeaders=host&X-Amz-Expires=900&X-Amz-Credential=ASIATSXCHOUAF6WWXY5W%2F20251022%2Fus-east-2%2Fs3%2Faws4_request&X-Amz-Signature=9f5cadde4c63ebe71da57ca2158d712aa39fd16955f2535e060d5fb87135d28f"},"TranscriptionJobName":"atc-transcribe-7ebd0e42-2587-4a30-be09-f3ab9317a13b-baafc6208dda4d61a64966247d5ab5b6","TranscriptionJobStatus":"COMPLETED"}}'
2025-10-21 22:30:14,566 | DEBUG | botocore.hooks | Event needs-retry.transcribe.GetTranscriptionJob: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9d9480>
2025-10-21 22:30:14,566 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:15,114 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <function validate_bucket_name at 0x11da69800>
2025-10-21 22:30:15,114 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x11da6ba60>
2025-10-21 22:30:15,114 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:15,115 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x11e789590>>
2025-10-21 22:30:15,115 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:15,115 | DEBUG | botocore.hooks | Event before-parameter-build.s3.DeleteObject: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:15,115 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x11da6bc40>
2025-10-21 22:30:15,115 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:15,116 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Bucket': 'ecowhiskey-atc-audio', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': False, 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2025-10-21 22:30:15,116 | DEBUG | botocore.regions | Endpoint provider result: https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
2025-10-21 22:30:15,116 | DEBUG | botocore.regions | Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2025-10-21 22:30:15,116 | DEBUG | botocore.regions | Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2025-10-21 22:30:15,117 | DEBUG | botocore.hooks | Event before-call.s3.DeleteObject: calling handler <function add_expect_header at 0x11da69bc0>
2025-10-21 22:30:15,117 | DEBUG | botocore.hooks | Event before-call.s3.DeleteObject: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x11e78b4d0>>
2025-10-21 22:30:15,117 | DEBUG | botocore.hooks | Event before-call.s3.DeleteObject: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:15,117 | DEBUG | botocore.hooks | Event before-call.s3.DeleteObject: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:15,117 | DEBUG | botocore.endpoint | Making request for OperationModel(name=DeleteObject) with params: {'url_path': '/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'query_string': {}, 'method': 'DELETE', 'headers': {'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'', 'auth_path': '/ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'url': 'https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e789d10>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 's3_redirect': {'redirected': False, 'bucket': 'ecowhiskey-atc-audio', 'params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3'}}, 'input_params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3'}, 'signing': {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-2'}]}}}
2025-10-21 22:30:15,117 | DEBUG | botocore.hooks | Event request-created.s3.DeleteObject: calling handler <function signal_not_transferring at 0x11e712340>
2025-10-21 22:30:15,118 | DEBUG | botocore.hooks | Event request-created.s3.DeleteObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e789bd0>>
2025-10-21 22:30:15,118 | DEBUG | botocore.hooks | Event choose-signer.s3.DeleteObject: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:15,118 | DEBUG | botocore.hooks | Event before-sign.s3.DeleteObject: calling handler <function remove_arn_from_signing_path at 0x11da6bba0>
2025-10-21 22:30:15,118 | DEBUG | botocore.hooks | Event before-sign.s3.DeleteObject: calling handler <function _set_extra_headers_for_unsigned_request at 0x11da80220>
2025-10-21 22:30:15,118 | DEBUG | botocore.hooks | Event before-sign.s3.DeleteObject: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x11e78b4d0>>
2025-10-21 22:30:15,119 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:15,119 | DEBUG | botocore.auth | CanonicalRequest:
DELETE
/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3

host:ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251022T043015Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2025-10-21 22:30:15,119 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043015Z
20251022/us-east-2/s3/aws4_request
6498b4cfc8e12b65dc798ffe874bb9eedf3e4f46a8508c2bd54564e800e5d9c3
2025-10-21 22:30:15,119 | DEBUG | botocore.auth | Signature:
1739f6112cf9cbda6a5aa751bcf3a89e2bd4f7edd9de514d82544abb50bba005
2025-10-21 22:30:15,119 | DEBUG | botocore.hooks | Event request-created.s3.DeleteObject: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e703460>>
2025-10-21 22:30:15,119 | DEBUG | botocore.hooks | Event request-created.s3.DeleteObject: calling handler <function signal_transferring at 0x11e7123e0>
2025-10-21 22:30:15,119 | DEBUG | botocore.hooks | Event request-created.s3.DeleteObject: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:15,119 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=DELETE, url=https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3, headers={'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043015Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1739f6112cf9cbda6a5aa751bcf3a89e2bd4f7edd9de514d82544abb50bba005', 'amz-sdk-invocation-id': b'77db9fe4-e724-4695-8434-25bd2a66611b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '0'}>
2025-10-21 22:30:15,120 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:15,253 | DEBUG | urllib3.connectionpool | https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com:443 "DELETE /sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/0bed6651b1414baf9ea7ccf64cbb0d58.mp3 HTTP/1.1" 204 0
2025-10-21 22:30:15,254 | DEBUG | botocore.hooks | Event before-parse.s3.DeleteObject: calling handler <function _handle_200_error at 0x11da6bf60>
2025-10-21 22:30:15,254 | DEBUG | botocore.hooks | Event before-parse.s3.DeleteObject: calling handler <function handle_expires_header at 0x11da6bd80>
2025-10-21 22:30:15,254 | DEBUG | botocore.parsers | Response headers: {'x-amz-id-2': 'H+X/vUQgawQPM3nZLnqXZHHnPgYmGvt8ZV1egtMvXT/Vm0mulJCNTEXZ0k2pl8hZlfKWC59OwBAwl2CFjbv7aPzljRlcphXyguDDpd5zKLs=', 'x-amz-request-id': '8N387RKZSKJ685K4', 'Date': 'Wed, 22 Oct 2025 04:30:16 GMT', 'Server': 'AmazonS3'}
2025-10-21 22:30:15,254 | DEBUG | botocore.parsers | Response body:
b''
2025-10-21 22:30:15,255 | DEBUG | botocore.hooks | Event needs-retry.s3.DeleteObject: calling handler <function _update_status_code at 0x11da800e0>
2025-10-21 22:30:15,255 | DEBUG | botocore.hooks | Event needs-retry.s3.DeleteObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11e78b250>
2025-10-21 22:30:15,255 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:15,255 | DEBUG | botocore.hooks | Event needs-retry.s3.DeleteObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x11e78b390>>
2025-10-21 22:30:15,256 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:30:15,257 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:30:15,257 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:30:15,258 | DEBUG | botocore.hooks | Event before-parameter-build.bedrock-runtime.Converse: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:15,258 | DEBUG | botocore.hooks | Event before-parameter-build.bedrock-runtime.Converse: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:15,259 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:15,259 | DEBUG | botocore.regions | Endpoint provider result: https://bedrock-runtime.us-east-1.amazonaws.com
2025-10-21 22:30:15,260 | DEBUG | botocore.hooks | Event before-call.bedrock-runtime.Converse: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:15,260 | DEBUG | botocore.hooks | Event before-call.bedrock-runtime.Converse: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:15,261 | DEBUG | botocore.endpoint | Making request for OperationModel(name=Converse) with params: {'url_path': '/model/anthropic.claude-3-haiku-20240307-v1%3A0/converse', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"system": [{"text": "Eres un controlador a\\u00e9reo costarricense en la torre del Aeropuerto Tob\\u00edas Bola\\u00f1os (MRPV). Responde \\u00fanicamente con la frase de autorizaci\\u00f3n o instrucci\\u00f3n que escuchar\\u00edan los alumnos y SIEMPRE inicia la respuesta con el indicativo exacto \'PAVAS\'. No a\\u00f1adas explicaciones, comillas ni texto adicional."}], "messages": [{"role": "user", "content": [{"text": "Transcripci\\u00f3n textual del alumno:\\npavas Torre Alfa Noviembre India. Listo en.de espera.\\n\\nDatos inferidos por el sistema:\\n- Intento: tower_takeoff_clearance\\n- Indicativo: PAVAS\\n- Pista prevista: uno cero\\n- Frecuencia seleccionada: 118.300\\n\\nGenera la frase breve que debe transmitir el controlador."}]}], "inferenceConfig": {"maxTokens": 200, "temperature": 0.0, "topP": 0.9}}', 'url': 'https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1%3A0/converse', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x11e97dd10>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4', 'smithy.api#httpBearerAuth']}}
2025-10-21 22:30:15,261 | DEBUG | botocore.hooks | Event request-created.bedrock-runtime.Converse: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e9dad70>>
2025-10-21 22:30:15,261 | DEBUG | botocore.hooks | Event choose-signer.bedrock-runtime.Converse: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:15,262 | DEBUG | botocore.hooks | Event choose-signer.bedrock-runtime.Converse: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:15,262 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:15,262 | DEBUG | botocore.auth | CanonicalRequest:
POST
/model/anthropic.claude-3-haiku-20240307-v1%253A0/converse

content-type:application/json
host:bedrock-runtime.us-east-1.amazonaws.com
x-amz-date:20251022T043015Z

content-type;host;x-amz-date
1de338df0799d7ccbcaf009aab0b8e4f2e46ce008b1122ab207779e9d02ec6fe
2025-10-21 22:30:15,262 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043015Z
20251022/us-east-1/bedrock/aws4_request
19eaae819e4cf78a725b410cc274577845cf6794c1f8ade859eb77bec56707c9
2025-10-21 22:30:15,263 | DEBUG | botocore.auth | Signature:
0403a81039f74f049d2809d389a1eaf9506120bee0ba3decd7c17c2cb78c8390
2025-10-21 22:30:15,263 | DEBUG | botocore.hooks | Event request-created.bedrock-runtime.Converse: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e92d310>>
2025-10-21 22:30:15,263 | DEBUG | botocore.hooks | Event request-created.bedrock-runtime.Converse: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:15,263 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1%3A0/converse, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043015Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-1/bedrock/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=0403a81039f74f049d2809d389a1eaf9506120bee0ba3decd7c17c2cb78c8390', 'amz-sdk-invocation-id': b'e08c4d53-d327-493a-b63b-4df862ca4299', 'amz-sdk-request': b'attempt=1', 'Content-Length': '805'}>
2025-10-21 22:30:15,264 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:15,264 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): bedrock-runtime.us-east-1.amazonaws.com:443
2025-10-21 22:30:16,318 | DEBUG | urllib3.connectionpool | https://bedrock-runtime.us-east-1.amazonaws.com:443 "POST /model/anthropic.claude-3-haiku-20240307-v1%3A0/converse HTTP/1.1" 200 290
2025-10-21 22:30:16,319 | DEBUG | botocore.parsers | Response headers: {'Date': 'Wed, 22 Oct 2025 04:30:16 GMT', 'Content-Type': 'application/json', 'Content-Length': '290', 'Connection': 'keep-alive', 'x-amzn-RequestId': '4ef1aaea-166c-41bc-b571-1f883ebbcdfd'}
2025-10-21 22:30:16,320 | DEBUG | botocore.parsers | Response body:
b'{"metrics":{"latencyMs":562},"output":{"message":{"content":[{"text":"PAVAS Alfa Noviembre India, autorizado a despegar pista uno cero, mantener frecuencia."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"inputTokens":206,"outputTokens":30,"serverToolUsage":{},"totalTokens":236}}'
2025-10-21 22:30:16,321 | DEBUG | botocore.hooks | Event needs-retry.bedrock-runtime.Converse: calling handler <botocore.retryhandler.RetryHandler object at 0x11e9dbe10>
2025-10-21 22:30:16,322 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:16,322 | INFO | app.services.audio_pipeline | Respuesta LLM cruda: 'PAVAS Alfa Noviembre India, autorizado a despegar pista uno cero, mantener frecuencia.'
2025-10-21 22:30:16,322 | INFO | app.services.audio_pipeline | LLM aceptada intent=tower_takeoff_clearance -> 'PAVAS Alfa Noviembre India, autorizado a despegar pista uno cero, mantener frecuencia.'
2025-10-21 22:30:16,323 | DEBUG | botocore.hooks | Event before-parameter-build.polly.SynthesizeSpeech: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:16,323 | DEBUG | botocore.hooks | Event before-parameter-build.polly.SynthesizeSpeech: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:16,324 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
2025-10-21 22:30:16,324 | DEBUG | botocore.regions | Endpoint provider result: https://polly.us-east-1.amazonaws.com
2025-10-21 22:30:16,325 | DEBUG | botocore.hooks | Event before-call.polly.SynthesizeSpeech: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:16,325 | DEBUG | botocore.hooks | Event before-call.polly.SynthesizeSpeech: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:16,325 | DEBUG | botocore.endpoint | Making request for OperationModel(name=SynthesizeSpeech) with params: {'url_path': '/v1/speech', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32'}, 'body': b'{"TextType": "ssml", "Text": "<speak><prosody rate=\\"90%\\">PAVAS Alfa Noviembre India, autorizado a despegar pista uno cero, mantener frecuencia.</prosody></speak>", "VoiceId": "Mia", "Engine": "neural", "OutputFormat": "pcm", "SampleRate": "16000"}', 'url': 'https://polly.us-east-1.amazonaws.com/v1/speech', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x11e3106e0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2025-10-21 22:30:16,326 | DEBUG | botocore.hooks | Event request-created.polly.SynthesizeSpeech: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e310590>>
2025-10-21 22:30:16,326 | DEBUG | botocore.hooks | Event choose-signer.polly.SynthesizeSpeech: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:16,326 | DEBUG | botocore.hooks | Event choose-signer.polly.SynthesizeSpeech: calling handler <function _set_auth_scheme_preference_signer at 0x11da802c0>
2025-10-21 22:30:16,326 | DEBUG | botocore.hooks | Event before-sign.polly.SynthesizeSpeech: calling handler <function remove_content_type_header_for_presigning at 0x11da6bce0>
2025-10-21 22:30:16,327 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:16,327 | DEBUG | botocore.auth | CanonicalRequest:
POST
/v1/speech

content-type:application/json
host:polly.us-east-1.amazonaws.com
x-amz-date:20251022T043016Z

content-type;host;x-amz-date
0c412acaf2e741c51921a7e3e398f9688d2f44e5efe4db0041c9a208b8e8f852
2025-10-21 22:30:16,327 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043016Z
20251022/us-east-1/polly/aws4_request
eb12cbe476bb20ae769b54bd41dc435eb7fd91a4444125af8e8ff3f4334811e6
2025-10-21 22:30:16,327 | DEBUG | botocore.auth | Signature:
ef68d2624c20a81245c8a575e19aec7034864f38d2867769149212e6a9fad8fb
2025-10-21 22:30:16,327 | DEBUG | botocore.hooks | Event request-created.polly.SynthesizeSpeech: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11db0e990>>
2025-10-21 22:30:16,327 | DEBUG | botocore.hooks | Event request-created.polly.SynthesizeSpeech: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:16,327 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://polly.us-east-1.amazonaws.com/v1/speech, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'X-Amz-Date': b'20251022T043016Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-1/polly/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=ef68d2624c20a81245c8a575e19aec7034864f38d2867769149212e6a9fad8fb', 'amz-sdk-invocation-id': b'4d227a44-be5b-4d0e-84ff-908680d62746', 'amz-sdk-request': b'attempt=1', 'Content-Length': '249'}>
2025-10-21 22:30:16,328 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:16,328 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): polly.us-east-1.amazonaws.com:443
2025-10-21 22:30:16,848 | DEBUG | urllib3.connectionpool | https://polly.us-east-1.amazonaws.com:443 "POST /v1/speech HTTP/1.1" 200 None
2025-10-21 22:30:16,849 | DEBUG | botocore.parsers | Response headers: {'x-amzn-RequestId': '5f09ac08-6bac-48da-b14a-f0d4f1d1d934', 'x-amzn-RequestCharacters': '86', 'Date': 'Wed, 22 Oct 2025 04:30:16 GMT', 'Content-Type': 'audio/pcm', 'Transfer-Encoding': 'chunked', 'connection': 'keep-alive'}
2025-10-21 22:30:16,849 | DEBUG | botocore.parsers | Response body:
<botocore.response.StreamingBody object at 0x11f081690>
2025-10-21 22:30:16,850 | DEBUG | botocore.hooks | Event needs-retry.polly.SynthesizeSpeech: calling handler <botocore.retryhandler.RetryHandler object at 0x11e312660>
2025-10-21 22:30:16,850 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x11da6a5c0>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x11da698a0>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x11da6afc0>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x11da69800>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x11da6ba60>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x11e744ec0>>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x11db0f250>>
2025-10-21 22:30:17,140 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x11da680e0>
2025-10-21 22:30:17,141 | DEBUG | botocore.hooks | Event before-parameter-build.s3.PutObject: calling handler <function _handle_request_validation_mode_member at 0x11da80180>
2025-10-21 22:30:17,141 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x11da6bc40>
2025-10-21 22:30:17,141 | DEBUG | botocore.hooks | Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x11e744ec0>>
2025-10-21 22:30:17,141 | DEBUG | botocore.regions | Calling endpoint provider with parameters: {'Bucket': 'ecowhiskey-atc-audio', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': False, 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav', 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2025-10-21 22:30:17,141 | DEBUG | botocore.regions | Endpoint provider result: https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
2025-10-21 22:30:17,141 | DEBUG | botocore.regions | Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2025-10-21 22:30:17,141 | DEBUG | botocore.regions | Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2025-10-21 22:30:17,142 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x11da69bc0>
2025-10-21 22:30:17,142 | DEBUG | botocore.handlers | Adding expect 100 continue header to request.
2025-10-21 22:30:17,142 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x11e745010>>
2025-10-21 22:30:17,142 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x11d877c40>
2025-10-21 22:30:17,142 | DEBUG | botocore.hooks | Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x11da6b100>
2025-10-21 22:30:17,142 | DEBUG | botocore.endpoint | Making request for OperationModel(name=PutObject) with params: {'url_path': '/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav', 'query_string': {}, 'method': 'PUT', 'headers': {'Content-Type': 'audio/wav', 'User-Agent': 'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,D,Z,e cfg/retry-mode#legacy Botocore/1.40.32', 'Expect': '100-continue', 'Transfer-Encoding': 'chunked', 'Content-Encoding': 'aws-chunked', 'X-Amz-Trailer': 'x-amz-checksum-crc32', 'X-Amz-Decoded-Content-Length': '181184', 'x-amz-sdk-checksum-algorithm': 'CRC32'}, 'body': <botocore.httpchecksum.AwsChunkedWrapper object at 0x11f04dbd0>, 'auth_path': '/ecowhiskey-atc-audio/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav', 'url': 'https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav', 'context': {'client_region': 'us-east-2', 'client_config': <botocore.config.Config object at 0x11e487d90>, 'has_streaming_input': True, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 's3_redirect': {'redirected': False, 'bucket': 'ecowhiskey-atc-audio', 'params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav', 'Body': <_io.BytesIO object at 0x11f0bf600>, 'ContentType': 'audio/wav'}}, 'input_params': {'Bucket': 'ecowhiskey-atc-audio', 'Key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav'}, 'signing': {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-2'}]}, 'checksum': {'request_algorithm_header': {'name': 'x-amz-sdk-checksum-algorithm', 'value': 'CRC32'}, 'request_algorithm': {'algorithm': 'crc32', 'in': 'trailer', 'name': 'x-amz-checksum-crc32'}}}}
2025-10-21 22:30:17,142 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e487c50>>
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x104cb40e0>
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x11da6bba0>
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <function _set_extra_headers_for_unsigned_request at 0x11da80220>
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event before-sign.s3.PutObject: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x11e745010>>
2025-10-21 22:30:17,143 | DEBUG | botocore.auth | Calculating signature using v4 auth.
2025-10-21 22:30:17,143 | DEBUG | botocore.auth | CanonicalRequest:
PUT
/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav

content-encoding:aws-chunked
content-type:audio/wav
host:ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com
x-amz-content-sha256:STREAMING-UNSIGNED-PAYLOAD-TRAILER
x-amz-date:20251022T043017Z
x-amz-decoded-content-length:181184
x-amz-sdk-checksum-algorithm:CRC32
x-amz-trailer:x-amz-checksum-crc32

content-encoding;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length;x-amz-sdk-checksum-algorithm;x-amz-trailer
STREAMING-UNSIGNED-PAYLOAD-TRAILER
2025-10-21 22:30:17,143 | DEBUG | botocore.auth | StringToSign:
AWS4-HMAC-SHA256
20251022T043017Z
20251022/us-east-2/s3/aws4_request
5f1e742d5a219c0003948ef3285951428a65de648162b25989a43fc08873315c
2025-10-21 22:30:17,143 | DEBUG | botocore.auth | Signature:
68c34e05fe69729a885740ee4ab52ccde087d96fc017b77c1514bc1b3cf4317d
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x11e6fd480>>
2025-10-21 22:30:17,143 | DEBUG | botocore.hooks | Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x11da6b9c0>
2025-10-21 22:30:17,143 | DEBUG | botocore.endpoint | Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com/sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav, headers={'Content-Type': b'audio/wav', 'User-Agent': b'Boto3/1.40.32 md/Botocore#1.40.32 ua/2.1 os/macos#24.6.0 md/arch#arm64 lang/python#3.13.3 md/pyimpl#CPython m/b,U,Z,e,D cfg/retry-mode#legacy Botocore/1.40.32', 'Expect': b'100-continue', 'Transfer-Encoding': b'chunked', 'Content-Encoding': b'aws-chunked', 'X-Amz-Trailer': b'x-amz-checksum-crc32', 'X-Amz-Decoded-Content-Length': b'181184', 'x-amz-sdk-checksum-algorithm': b'CRC32', 'X-Amz-Date': b'20251022T043017Z', 'X-Amz-Content-SHA256': b'STREAMING-UNSIGNED-PAYLOAD-TRAILER', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAU3WYJUGBXNZ5J3HF/20251022/us-east-2/s3/aws4_request, SignedHeaders=content-encoding;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length;x-amz-sdk-checksum-algorithm;x-amz-trailer, Signature=68c34e05fe69729a885740ee4ab52ccde087d96fc017b77c1514bc1b3cf4317d', 'amz-sdk-invocation-id': b'c3ca7734-1a05-444d-a8a5-4ed386e769ae', 'amz-sdk-request': b'attempt=1'}>
2025-10-21 22:30:17,144 | DEBUG | botocore.httpsession | Certificate path: /Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/certifi/cacert.pem
2025-10-21 22:30:17,144 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com:443
2025-10-21 22:30:17,385 | DEBUG | botocore.awsrequest | Waiting for 100 Continue response.
2025-10-21 22:30:17,522 | DEBUG | botocore.awsrequest | 100 Continue response seen, now sending request body.
2025-10-21 22:30:18,093 | DEBUG | urllib3.connectionpool | https://ecowhiskey-atc-audio.s3.us-east-2.amazonaws.com:443 "PUT /sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/readback-a37454d73eee44b88394d6ec093f8bd9.wav HTTP/1.1" 200 0
2025-10-21 22:30:18,094 | DEBUG | botocore.hooks | Event before-parse.s3.PutObject: calling handler <function _handle_200_error at 0x11da6bf60>
2025-10-21 22:30:18,094 | DEBUG | botocore.hooks | Event before-parse.s3.PutObject: calling handler <function handle_expires_header at 0x11da6bd80>
2025-10-21 22:30:18,095 | DEBUG | botocore.parsers | Response headers: {'x-amz-id-2': '4jyB7uZnhy46+uXfscw5IyVax3y/YckM6ei1AkN2MHsqed9zfBwjli1NVh7iCQH0qYxQRGU7vhLM1uMqVhyTKHzQ8D9QLAVO', 'x-amz-request-id': '8XCZJMGHA42QF6D6', 'Date': 'Wed, 22 Oct 2025 04:30:18 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"356af66dd0b8cb7f59cda6a84d782a3d"', 'x-amz-checksum-crc32': 'WOPObA==', 'x-amz-checksum-type': 'FULL_OBJECT', 'Content-Length': '0', 'Server': 'AmazonS3'}
2025-10-21 22:30:18,095 | DEBUG | botocore.parsers | Response body:
b''
2025-10-21 22:30:18,095 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <function _update_status_code at 0x11da800e0>
2025-10-21 22:30:18,095 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11e7891d0>
2025-10-21 22:30:18,096 | DEBUG | botocore.retryhandler | No retry needed.
2025-10-21 22:30:18,096 | DEBUG | botocore.hooks | Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x11e744ec0>>
2025-10-21 22:30:18,150 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:30:18,152 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:30:18,152 | INFO | sqlalchemy.engine.Engine | [generated in 0.00019s] (datetime.datetime(2025, 10, 22, 4, 30, 6, 601261), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11496, 'null')
2025-10-21 22:30:18,156 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:32:49,406 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:32:49,406 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:32:49,408 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:32:49,408 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:32:49,411 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:32:49,411 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:32:49,412 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:32:49,414 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:32:49,414 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:32:49,418 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:32:49,418 | INFO | sqlalchemy.engine.Engine | [cached since 0.00493s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:32:49,419 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:32:49,419 | INFO | sqlalchemy.engine.Engine | [cached since 0.005933s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:32:49,420 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:32:49,420 | INFO | sqlalchemy.engine.Engine | [cached since 0.006755s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:32:49,421 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:32:49,421 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 22:32:49,423 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:32:49,423 | INFO | sqlalchemy.engine.Engine | [cached since 0.001597s ago] ('account_type', 'pg_catalog')
2025-10-21 22:32:49,424 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:33:02,071 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:33:02,071 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:02,073 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:33:02,073 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:02,075 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:33:02,075 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:02,076 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:33:02,078 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:02,078 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:02,083 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:02,083 | INFO | sqlalchemy.engine.Engine | [cached since 0.004777s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:02,084 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:02,084 | INFO | sqlalchemy.engine.Engine | [cached since 0.005692s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:02,085 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:02,085 | INFO | sqlalchemy.engine.Engine | [cached since 0.006595s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:02,086 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:33:02,086 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-21 22:33:02,088 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:33:02,088 | INFO | sqlalchemy.engine.Engine | [cached since 0.002458s ago] ('account_type', 'pg_catalog')
2025-10-21 22:33:02,089 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:33:18,859 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:33:18,859 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:18,862 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:33:18,862 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:18,864 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:33:18,864 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:33:18,866 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:33:18,867 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:18,867 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:18,871 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:18,871 | INFO | sqlalchemy.engine.Engine | [cached since 0.004155s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:18,872 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:18,872 | INFO | sqlalchemy.engine.Engine | [cached since 0.005017s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:18,873 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:33:18,873 | INFO | sqlalchemy.engine.Engine | [cached since 0.005763s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:33:18,874 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:33:18,874 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-21 22:33:18,876 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:33:18,876 | INFO | sqlalchemy.engine.Engine | [cached since 0.002056s ago] ('account_type', 'pg_catalog')
2025-10-21 22:33:18,877 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:34:01,472 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:34:01,473 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:34:01,473 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:34:01,473 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11fdd3a10>}) about to wait for the following futures []
2025-10-21 22:34:01,473 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11fdd3a10>}) done waiting for dependent futures
2025-10-21 22:34:01,473 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11fdd3a10>}) with kwargs {'client': <botocore.client.S3 object at 0x11f815550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11fdd2900>, 'osutil': <s3transfer.utils.OSUtils object at 0x11fdd2ba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11fdd3230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11fdd3a10>}
2025-10-21 22:34:01,474 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9bee742ad07b43d3956ffc3500c12f6d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11fdd3230> for transfer request: 0.
2025-10-21 22:34:01,474 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:34:01,474 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9bee742ad07b43d3956ffc3500c12f6d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:34:01,474 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:34:01,474 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9bee742ad07b43d3956ffc3500c12f6d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:34:01,474 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9bee742ad07b43d3956ffc3500c12f6d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11f815550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11ff50440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9bee742ad07b43d3956ffc3500c12f6d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:34:02,329 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:34:10,269 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:34:10,272 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:34:10,272 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:34:10,821 | WARNING | app.services.audio_pipeline | Bedrock converse fall: An error occurred (ResourceNotFoundException) when calling the Converse operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
Traceback (most recent call last):
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 317, in _generate_llm_clearance
    result = await run_in_threadpool(_invoke)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 297, in _invoke
    response = _BEDROCK_CLIENT.converse(
        modelId=settings.bedrock.model_id,
    ...<4 lines>...
        inferenceConfig=inference_cfg,
    )
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 602, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/context.py", line 123, in wrapper
    return func(*args, **kwargs)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 1078, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the Converse operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-21 22:34:10,831 | INFO | app.services.audio_pipeline | LLM sin respuesta util, usando plantilla intent=tower_takeoff_clearance
2025-10-21 22:34:10,831 | INFO | app.services.audio_pipeline | Plantilla aplicada intent=tower_takeoff_clearance -> 'PAVAS, autorizado a despegar pista uno cero'
2025-10-21 22:34:12,603 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:34:12,604 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:34:12,604 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] (datetime.datetime(2025, 10, 22, 4, 34, 1, 468860), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11092, 'null')
2025-10-21 22:34:12,607 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:36:09,004 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:36:09,004 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:36:09,006 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:36:09,006 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:36:09,008 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:36:09,008 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:36:09,009 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:36:09,011 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:36:09,011 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:36:09,015 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:36:09,015 | INFO | sqlalchemy.engine.Engine | [cached since 0.004354s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:36:09,016 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:36:09,016 | INFO | sqlalchemy.engine.Engine | [cached since 0.005202s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:36:09,017 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:36:09,017 | INFO | sqlalchemy.engine.Engine | [cached since 0.00595s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:36:09,018 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:36:09,018 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 22:36:09,020 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:36:09,021 | INFO | sqlalchemy.engine.Engine | [cached since 0.002345s ago] ('account_type', 'pg_catalog')
2025-10-21 22:36:09,021 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:36:43,050 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:36:43,050 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:36:43,050 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:36:43,050 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:36:43,050 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:36:43,051 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:36:43,052 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1228d3a10>}) about to wait for the following futures []
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1228d3a10>}) done waiting for dependent futures
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1228d3a10>}) with kwargs {'client': <botocore.client.S3 object at 0x122545550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1228d2900>, 'osutil': <s3transfer.utils.OSUtils object at 0x1228d2ba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1228d3230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1228d3a10>}
2025-10-21 22:36:43,052 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/242bab0354ac48369e3598e7f01677da.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1228d3230> for transfer request: 0.
2025-10-21 22:36:43,052 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/242bab0354ac48369e3598e7f01677da.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:36:43,052 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/242bab0354ac48369e3598e7f01677da.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:36:43,052 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/242bab0354ac48369e3598e7f01677da.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x122545550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x122a54440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/242bab0354ac48369e3598e7f01677da.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:36:43,797 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:36:52,146 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:36:52,148 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:36:52,148 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:36:52,723 | WARNING | app.services.audio_pipeline | Bedrock converse fall: An error occurred (ResourceNotFoundException) when calling the Converse operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
Traceback (most recent call last):
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 317, in _generate_llm_clearance
    result = await run_in_threadpool(_invoke)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 297, in _invoke
    response = _BEDROCK_CLIENT.converse(
        modelId=settings.bedrock.model_id,
    ...<4 lines>...
        inferenceConfig=inference_cfg,
    )
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 602, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/context.py", line 123, in wrapper
    return func(*args, **kwargs)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 1078, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the Converse operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-21 22:36:52,732 | INFO | app.services.audio_pipeline | LLM sin respuesta util, usando plantilla intent=tower_takeoff_clearance
2025-10-21 22:36:52,732 | INFO | app.services.audio_pipeline | Plantilla aplicada intent=tower_takeoff_clearance -> 'PAVAS, autorizado a despegar pista uno cero'
2025-10-21 22:36:54,291 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:36:54,292 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:36:54,292 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] (datetime.datetime(2025, 10, 22, 4, 36, 43, 46400), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11206, 'null')
2025-10-21 22:36:54,296 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:37:30,412 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:37:30,412 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:37:30,414 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:37:30,414 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:37:30,416 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:37:30,416 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:37:30,417 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:37:30,419 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:37:30,419 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:37:30,423 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:37:30,423 | INFO | sqlalchemy.engine.Engine | [cached since 0.004327s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:37:30,424 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:37:30,424 | INFO | sqlalchemy.engine.Engine | [cached since 0.005072s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:37:30,425 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:37:30,425 | INFO | sqlalchemy.engine.Engine | [cached since 0.005922s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:37:30,427 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:37:30,427 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 22:37:30,429 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:37:30,429 | INFO | sqlalchemy.engine.Engine | [cached since 0.001979s ago] ('account_type', 'pg_catalog')
2025-10-21 22:37:30,429 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:38:03,292 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:38:03,293 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:38:03,293 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:38:03,293 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:38:03,293 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:38:03,293 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec7fa10>}) about to wait for the following futures []
2025-10-21 22:38:03,293 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec7fa10>}) done waiting for dependent futures
2025-10-21 22:38:03,293 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec7fa10>}) with kwargs {'client': <botocore.client.S3 object at 0x10e8f1550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10ec7e900>, 'osutil': <s3transfer.utils.OSUtils object at 0x10ec7eba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10ec7f230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec7fa10>}
2025-10-21 22:38:03,293 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c26b44473627486c88be8cb7b6031d8a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10ec7f230> for transfer request: 0.
2025-10-21 22:38:03,293 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:38:03,294 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c26b44473627486c88be8cb7b6031d8a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:38:03,294 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:38:03,294 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c26b44473627486c88be8cb7b6031d8a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:38:03,294 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c26b44473627486c88be8cb7b6031d8a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e8f1550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10ecfc440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c26b44473627486c88be8cb7b6031d8a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:38:04,016 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:38:12,077 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:38:12,079 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:38:12,079 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:38:12,508 | WARNING | app.services.audio_pipeline | Bedrock converse fall: An error occurred (ValidationException) when calling the Converse operation: The provided model identifier is invalid.
Traceback (most recent call last):
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 317, in _generate_llm_clearance
    result = await run_in_threadpool(_invoke)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/app/services/audio_pipeline.py", line 297, in _invoke
    response = _BEDROCK_CLIENT.converse(
        modelId=settings.bedrock.model_id,
    ...<4 lines>...
        inferenceConfig=inference_cfg,
    )
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 602, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/context.py", line 123, in wrapper
    return func(*args, **kwargs)
  File "/Users/abraham_salas/EcoWhiskey-ATC-BackEnd/.venv/lib/python3.13/site-packages/botocore/client.py", line 1078, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ValidationException: An error occurred (ValidationException) when calling the Converse operation: The provided model identifier is invalid.
2025-10-21 22:38:12,518 | INFO | app.services.audio_pipeline | LLM sin respuesta util, usando plantilla intent=tower_takeoff_clearance
2025-10-21 22:38:12,518 | INFO | app.services.audio_pipeline | Plantilla aplicada intent=tower_takeoff_clearance -> 'PAVAS, autorizado a despegar pista uno cero'
2025-10-21 22:38:14,792 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:38:14,793 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:38:14,793 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] (datetime.datetime(2025, 10, 22, 4, 38, 3, 288861), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11455, 'null')
2025-10-21 22:38:14,796 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:40:58,632 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:40:58,632 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:40:58,634 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:40:58,634 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:40:58,636 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:40:58,636 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:40:58,638 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:40:58,639 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:40:58,639 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:40:58,660 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:40:58,661 | INFO | sqlalchemy.engine.Engine | [cached since 0.02137s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:40:58,662 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:40:58,662 | INFO | sqlalchemy.engine.Engine | [cached since 0.0227s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:40:58,663 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:40:58,663 | INFO | sqlalchemy.engine.Engine | [cached since 0.02385s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:40:58,665 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:40:58,665 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('user_status', 'pg_catalog')
2025-10-21 22:40:58,667 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:40:58,667 | INFO | sqlalchemy.engine.Engine | [cached since 0.00226s ago] ('account_type', 'pg_catalog')
2025-10-21 22:40:58,668 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:41:14,517 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:41:14,517 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:41:14,519 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:41:14,519 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:41:14,521 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:41:14,521 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:41:14,523 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:41:14,524 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:41:14,524 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:41:14,528 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:41:14,528 | INFO | sqlalchemy.engine.Engine | [cached since 0.003758s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:41:14,529 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:41:14,529 | INFO | sqlalchemy.engine.Engine | [cached since 0.005023s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:41:14,530 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:41:14,530 | INFO | sqlalchemy.engine.Engine | [cached since 0.006084s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:41:14,532 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:41:14,532 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 22:41:14,533 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:41:14,534 | INFO | sqlalchemy.engine.Engine | [cached since 0.001894s ago] ('account_type', 'pg_catalog')
2025-10-21 22:41:14,534 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:41:20,298 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:20,298 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:41:20,298 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:41:20,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:20,298 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:20,299 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:41:20,300 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:41:20,300 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1561d3a10>}) about to wait for the following futures []
2025-10-21 22:41:20,301 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1561d3a10>}) done waiting for dependent futures
2025-10-21 22:41:20,301 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1561d3a10>}) with kwargs {'client': <botocore.client.S3 object at 0x151e45550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1561d2900>, 'osutil': <s3transfer.utils.OSUtils object at 0x1561d2ba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1561d3230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1561d3a10>}
2025-10-21 22:41:20,301 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4f6589c339034ee09abbac6f9c1df2cd.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1561d3230> for transfer request: 0.
2025-10-21 22:41:20,301 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:41:20,301 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4f6589c339034ee09abbac6f9c1df2cd.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:41:20,301 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:41:20,301 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4f6589c339034ee09abbac6f9c1df2cd.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:41:20,302 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4f6589c339034ee09abbac6f9c1df2cd.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x151e45550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x156250440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4f6589c339034ee09abbac6f9c1df2cd.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:41:21,033 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:41:28,926 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:41:28,928 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:41:28,928 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:41:29,733 | INFO | app.services.audio_pipeline | Respuesta LLM cruda: 'PAVAS Torre Alfa Noviembre India, listo para despegue en la pista uno cero. Frecuencia 118.300.'
2025-10-21 22:41:29,734 | INFO | app.services.audio_pipeline | LLM aceptada intent=tower_takeoff_clearance -> 'PAVAS Torre Alfa Noviembre India, listo para despegue en la pista uno cero. Frecuencia 118.300.'
2025-10-21 22:41:32,864 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:41:32,867 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:41:32,867 | INFO | sqlalchemy.engine.Engine | [generated in 0.00023s] (datetime.datetime(2025, 10, 22, 4, 41, 20, 295536), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12512, 'null')
2025-10-21 22:41:32,873 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:41:58,231 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:41:58,232 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:41:58,232 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x156920050>}) about to wait for the following futures []
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x156920050>}) done waiting for dependent futures
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x156920050>}) with kwargs {'client': <botocore.client.S3 object at 0x151e45550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x15624dd10>, 'osutil': <s3transfer.utils.OSUtils object at 0x15624efd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x156918180>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x156920050>}
2025-10-21 22:41:58,233 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/abe9edea52c945d8991977456158eb5a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x156918180> for transfer request: 0.
2025-10-21 22:41:58,233 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/abe9edea52c945d8991977456158eb5a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:41:58,233 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/abe9edea52c945d8991977456158eb5a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:41:58,233 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/abe9edea52c945d8991977456158eb5a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x151e45550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x156920910>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/abe9edea52c945d8991977456158eb5a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:41:58,494 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:42:06,273 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'PAVAS'}
2025-10-21 22:42:06,274 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'PAVAS', 'runway': 'uno cero'}
2025-10-21 22:42:06,274 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=PAVAS runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:42:06,629 | INFO | app.services.audio_pipeline | Respuesta LLM cruda: 'PAVAS Torre Alfa Noviembre India, listo para despegue en la pista uno cero. Frecuencia 118.300.'
2025-10-21 22:42:06,629 | INFO | app.services.audio_pipeline | LLM aceptada intent=tower_takeoff_clearance -> 'PAVAS Torre Alfa Noviembre India, listo para despegue en la pista uno cero. Frecuencia 118.300.'
2025-10-21 22:42:09,555 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:42:09,556 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:42:09,556 | INFO | sqlalchemy.engine.Engine | [cached since 36.69s ago] (datetime.datetime(2025, 10, 22, 4, 41, 58, 230790), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11281, 'null')
2025-10-21 22:42:09,559 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:43:41,940 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:43:41,940 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:43:41,943 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:43:41,943 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:43:41,947 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:43:41,947 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:43:41,949 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:43:41,951 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:43:41,951 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:43:41,953 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:43:41,953 | INFO | sqlalchemy.engine.Engine | [cached since 0.002821s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:43:41,954 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:43:41,954 | INFO | sqlalchemy.engine.Engine | [cached since 0.003382s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:43:41,954 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:43:41,955 | INFO | sqlalchemy.engine.Engine | [cached since 0.003856s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:43:41,956 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:43:41,956 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('user_status', 'pg_catalog')
2025-10-21 22:43:41,958 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:43:41,958 | INFO | sqlalchemy.engine.Engine | [cached since 0.002383s ago] ('account_type', 'pg_catalog')
2025-10-21 22:43:41,959 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:45:13,560 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:45:13,560 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:45:13,561 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:45:13,562 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:45:13,563 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:45:13,563 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:45:13,564 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:45:13,566 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:45:13,566 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | [cached since 0.001756s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | [cached since 0.002214s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:45:13,568 | INFO | sqlalchemy.engine.Engine | [cached since 0.002618s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:45:13,569 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:45:13,569 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-21 22:45:13,570 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:45:13,570 | INFO | sqlalchemy.engine.Engine | [cached since 0.001008s ago] ('account_type', 'pg_catalog')
2025-10-21 22:45:13,571 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:45:26,945 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 22:45:26,946 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 22:45:26,947 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:45:26,947 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1215d3a10>}) about to wait for the following futures []
2025-10-21 22:45:26,947 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1215d3a10>}) done waiting for dependent futures
2025-10-21 22:45:26,947 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1215d3a10>}) with kwargs {'client': <botocore.client.S3 object at 0x121145550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1215d2900>, 'osutil': <s3transfer.utils.OSUtils object at 0x1215d2ba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1215d3230>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1215d3a10>}
2025-10-21 22:45:26,947 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9574665db01a4a3db79a6323ab169ae3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1215d3230> for transfer request: 0.
2025-10-21 22:45:26,947 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 22:45:26,947 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9574665db01a4a3db79a6323ab169ae3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 22:45:26,947 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:45:26,948 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9574665db01a4a3db79a6323ab169ae3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 22:45:26,948 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9574665db01a4a3db79a6323ab169ae3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x121145550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x121754440>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/9574665db01a4a3db79a6323ab169ae3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 22:45:27,753 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 22:45:36,141 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas'] slots={'callsign': 'ANI'}
2025-10-21 22:45:36,143 | INFO | app.services.audio_pipeline | LLM request armado intent=tower_takeoff_clearance freq=118.300 slots={'callsign': 'ANI', 'runway': 'uno cero'}
2025-10-21 22:45:36,143 | INFO | app.services.audio_pipeline | Invocando LLM intent=tower_takeoff_clearance callsign=ANI runway=uno cero transcript='pavas Torre Alfa Noviembre India. Listo en.de espera.'
2025-10-21 22:45:36,884 | INFO | app.services.audio_pipeline | Respuesta LLM cruda: 'ANI, autorizado a despegar pista uno cero.'
2025-10-21 22:45:36,885 | INFO | app.services.audio_pipeline | LLM aceptada intent=tower_takeoff_clearance -> 'ANI, autorizado a despegar pista uno cero.'
2025-10-21 22:45:39,175 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:45:39,177 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 22:45:39,177 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (datetime.datetime(2025, 10, 22, 4, 45, 26, 936746), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12181, 'null')
2025-10-21 22:45:39,181 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 22:59:49,832 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 22:59:49,832 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:59:49,834 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 22:59:49,834 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:59:49,835 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 22:59:49,835 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 22:59:49,836 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 22:59:49,837 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:59:49,837 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:59:49,841 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:59:49,842 | INFO | sqlalchemy.engine.Engine | [cached since 0.00417s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:59:49,842 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:59:49,842 | INFO | sqlalchemy.engine.Engine | [cached since 0.004695s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:59:49,842 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 22:59:49,843 | INFO | sqlalchemy.engine.Engine | [cached since 0.005153s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 22:59:49,844 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:59:49,844 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 22:59:49,845 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 22:59:49,845 | INFO | sqlalchemy.engine.Engine | [cached since 0.001162s ago] ('account_type', 'pg_catalog')
2025-10-21 22:59:49,845 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:00:08,190 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:00:08,190 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:08,192 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:00:08,192 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:08,194 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:00:08,194 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:08,196 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:00:08,197 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:08,198 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:08,201 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:08,201 | INFO | sqlalchemy.engine.Engine | [cached since 0.003585s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:08,202 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:08,202 | INFO | sqlalchemy.engine.Engine | [cached since 0.004427s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:08,203 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:08,203 | INFO | sqlalchemy.engine.Engine | [cached since 0.005122s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:08,204 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:08,204 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('user_status', 'pg_catalog')
2025-10-21 23:00:08,206 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:08,206 | INFO | sqlalchemy.engine.Engine | [cached since 0.002286s ago] ('account_type', 'pg_catalog')
2025-10-21 23:00:08,207 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:00:25,307 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:00:25,307 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:25,309 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:00:25,309 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:25,310 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:00:25,310 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:25,311 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:00:25,314 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:25,314 | INFO | sqlalchemy.engine.Engine | [generated in 0.00031s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:25,317 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:25,317 | INFO | sqlalchemy.engine.Engine | [cached since 0.002811s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:25,317 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:25,317 | INFO | sqlalchemy.engine.Engine | [cached since 0.003386s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:25,318 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:25,318 | INFO | sqlalchemy.engine.Engine | [cached since 0.003833s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:25,319 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:25,319 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:00:25,320 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:25,320 | INFO | sqlalchemy.engine.Engine | [cached since 0.001339s ago] ('account_type', 'pg_catalog')
2025-10-21 23:00:25,320 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:00:43,880 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:00:43,880 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:43,882 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:00:43,882 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:43,884 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:00:43,884 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:00:43,886 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:00:43,887 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:43,888 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:43,893 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:43,893 | INFO | sqlalchemy.engine.Engine | [cached since 0.005404s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:43,894 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:43,894 | INFO | sqlalchemy.engine.Engine | [cached since 0.006412s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:43,895 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:00:43,895 | INFO | sqlalchemy.engine.Engine | [cached since 0.007418s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:00:43,896 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:43,896 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 23:00:43,898 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:00:43,898 | INFO | sqlalchemy.engine.Engine | [cached since 0.002277s ago] ('account_type', 'pg_catalog')
2025-10-21 23:00:43,899 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:05:22,602 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:05:22,603 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:22,605 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:05:22,605 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:22,607 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:05:22,607 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:22,608 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:05:22,610 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:22,610 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:22,614 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:22,614 | INFO | sqlalchemy.engine.Engine | [cached since 0.004909s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:22,615 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:22,615 | INFO | sqlalchemy.engine.Engine | [cached since 0.005829s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:22,616 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:22,616 | INFO | sqlalchemy.engine.Engine | [cached since 0.00671s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:22,618 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:05:22,618 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:05:22,620 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:05:22,620 | INFO | sqlalchemy.engine.Engine | [cached since 0.002214s ago] ('account_type', 'pg_catalog')
2025-10-21 23:05:22,621 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:05:33,045 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:05:33,046 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:33,047 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:05:33,047 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:33,049 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:05:33,049 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:05:33,050 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:05:33,057 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:33,058 | INFO | sqlalchemy.engine.Engine | [generated in 0.00103s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:33,066 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:33,067 | INFO | sqlalchemy.engine.Engine | [cached since 0.009607s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:33,068 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:33,068 | INFO | sqlalchemy.engine.Engine | [cached since 0.01127s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:33,070 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:05:33,070 | INFO | sqlalchemy.engine.Engine | [cached since 0.01299s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:05:33,072 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:05:33,072 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('user_status', 'pg_catalog')
2025-10-21 23:05:33,073 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:05:33,074 | INFO | sqlalchemy.engine.Engine | [cached since 0.001382s ago] ('account_type', 'pg_catalog')
2025-10-21 23:05:33,074 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:07:35,773 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:19491]
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:07:35,774 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:07:35,775 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11c7782f0>}) about to wait for the following futures []
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11c7782f0>}) done waiting for dependent futures
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11c7782f0>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11c6e30e0>, 'osutil': <s3transfer.utils.OSUtils object at 0x11c6e3380>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11c6e3a10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11c7782f0>}
2025-10-21 23:07:35,775 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4ab09bb6fe294025bb830752c6195d2d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11c6e3a10> for transfer request: 0.
2025-10-21 23:07:35,775 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4ab09bb6fe294025bb830752c6195d2d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:07:35,775 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4ab09bb6fe294025bb830752c6195d2d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:07:35,775 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4ab09bb6fe294025bb830752c6195d2d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11c778c20>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/4ab09bb6fe294025bb830752c6195d2d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:07:36,528 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:07:44,393 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas']
2025-10-21 23:07:48,127 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:07:48,130 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:07:48,130 | INFO | sqlalchemy.engine.Engine | [generated in 0.00023s] (datetime.datetime(2025, 10, 22, 5, 7, 35, 764861), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12306, 'null')
2025-10-21 23:07:48,133 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:08:24,592 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:13767]
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:24,593 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:08:24,594 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:08:24,594 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c550>}) about to wait for the following futures []
2025-10-21 23:08:24,594 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c550>}) done waiting for dependent futures
2025-10-21 23:08:24,594 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c550>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11c772210>, 'osutil': <s3transfer.utils.OSUtils object at 0x11c7734d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11cb09350>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c550>}
2025-10-21 23:08:24,594 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/8a4a0a5418914afe9c3ff756c90468f7.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11cb09350> for transfer request: 0.
2025-10-21 23:08:24,594 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:08:24,594 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/8a4a0a5418914afe9c3ff756c90468f7.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:08:24,594 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:08:24,594 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/8a4a0a5418914afe9c3ff756c90468f7.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:08:24,595 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/8a4a0a5418914afe9c3ff756c90468f7.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11cb3ce10>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/8a4a0a5418914afe9c3ff756c90468f7.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:08:25,204 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:08:33,034 | INFO | app.services.audio_pipeline | Intent no detectado transcript='Alfa Golfo Oscar en.de espera.'
2025-10-21 23:08:34,177 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:08:34,177 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:08:34,178 | INFO | sqlalchemy.engine.Engine | [cached since 46.05s ago] (datetime.datetime(2025, 10, 22, 5, 8, 24, 591653), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 9536, 'null')
2025-10-21 23:08:34,181 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:08:53,995 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:53,996 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:53,997 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:13443]
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:08:53,998 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:08:54,000 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:08:54,000 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c050>}) about to wait for the following futures []
2025-10-21 23:08:54,000 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c050>}) done waiting for dependent futures
2025-10-21 23:08:54,001 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c050>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11c7734d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x11c773890>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11c7a2030>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb3c050>}
2025-10-21 23:08:54,001 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/433798ccbf194be58f9afc181de41d0a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11c7a2030> for transfer request: 0.
2025-10-21 23:08:54,001 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:08:54,001 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/433798ccbf194be58f9afc181de41d0a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:08:54,002 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:08:54,002 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/433798ccbf194be58f9afc181de41d0a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:08:54,002 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/433798ccbf194be58f9afc181de41d0a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11cb3c410>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/433798ccbf194be58f9afc181de41d0a.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:08:54,250 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:01,733 | INFO | app.services.audio_pipeline | Intent no detectado transcript='P Tre Alfa Golf Oscar en.de espera.'
2025-10-21 23:09:02,517 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:09:02,517 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:09:02,517 | INFO | sqlalchemy.engine.Engine | [cached since 74.39s ago] (datetime.datetime(2025, 10, 22, 5, 8, 53, 994130), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 8475, 'null')
2025-10-21 23:09:02,520 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:09:26,246 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:15063]
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:26,247 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:09:26,247 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb09cd0>}) about to wait for the following futures []
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb09cd0>}) done waiting for dependent futures
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb09cd0>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11cb090f0>, 'osutil': <s3transfer.utils.OSUtils object at 0x11cb08e90>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11cb18750>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb09cd0>}
2025-10-21 23:09:26,248 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/47452052a5f54bd18409cc3828bedbec.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11cb18750> for transfer request: 0.
2025-10-21 23:09:26,248 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/47452052a5f54bd18409cc3828bedbec.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:09:26,248 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/47452052a5f54bd18409cc3828bedbec.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:09:26,248 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/47452052a5f54bd18409cc3828bedbec.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11cb0a190>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/47452052a5f54bd18409cc3828bedbec.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:09:26,486 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:34,369 | INFO | app.services.audio_pipeline | Intent no detectado transcript='P Story Alfa Golfo Oscar en.de espera.'
2025-10-21 23:09:35,718 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:09:35,719 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:09:35,719 | INFO | sqlalchemy.engine.Engine | [cached since 107.6s ago] (datetime.datetime(2025, 10, 22, 5, 9, 26, 246323), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 9424, 'null')
2025-10-21 23:09:35,727 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:15603]
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:57,731 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:09:57,732 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb0a060>}) about to wait for the following futures []
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb0a060>}) done waiting for dependent futures
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb0a060>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11cb095b0>, 'osutil': <s3transfer.utils.OSUtils object at 0x11cb08b00>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11cb33850>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb0a060>}
2025-10-21 23:09:57,732 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/ff627fb778de446c9dabfcbbfbc9e131.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11cb33850> for transfer request: 0.
2025-10-21 23:09:57,732 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/ff627fb778de446c9dabfcbbfbc9e131.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:09:57,732 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/ff627fb778de446c9dabfcbbfbc9e131.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:09:57,732 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/ff627fb778de446c9dabfcbbfbc9e131.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11cb0a520>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/ff627fb778de446c9dabfcbbfbc9e131.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:09:57,977 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:15603]
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:09:58,062 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:09:58,063 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb42690>}) about to wait for the following futures []
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb42690>}) done waiting for dependent futures
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb42690>}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11cb40170>, 'osutil': <s3transfer.utils.OSUtils object at 0x11cb41fd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11cb54110>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11cb42690>}
2025-10-21 23:09:58,063 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b4d6a992783b4d2b805e738a11fe6e18.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11cb54110> for transfer request: 0.
2025-10-21 23:09:58,063 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b4d6a992783b4d2b805e738a11fe6e18.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:09:58,063 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b4d6a992783b4d2b805e738a11fe6e18.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:09:58,063 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b4d6a992783b4d2b805e738a11fe6e18.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11c245400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11cb42b10>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b4d6a992783b4d2b805e738a11fe6e18.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:09:58,310 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:10:05,728 | INFO | app.services.audio_pipeline | Intent no detectado transcript='pavas Torre Alfa Golfo Oscar en.de espera.'
2025-10-21 23:10:06,228 | INFO | app.services.audio_pipeline | Intent no detectado transcript='pavas Torre Alfa Golfo Oscar en.de espera.'
2025-10-21 23:10:07,041 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:10:07,041 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:10:07,042 | INFO | sqlalchemy.engine.Engine | [cached since 138.9s ago] (datetime.datetime(2025, 10, 22, 5, 9, 57, 730655), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 9254, 'null')
2025-10-21 23:10:07,046 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:10:07,234 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:10:07,235 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:10:07,235 | INFO | sqlalchemy.engine.Engine | [cached since 139.1s ago] (datetime.datetime(2025, 10, 22, 5, 9, 58, 61779), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 9129, 'null')
2025-10-21 23:10:07,238 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:13:07,851 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:13:07,851 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:07,854 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:13:07,854 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:07,857 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:13:07,857 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:07,858 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:13:07,860 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:07,860 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:07,867 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:07,867 | INFO | sqlalchemy.engine.Engine | [cached since 0.006505s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:07,868 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:07,868 | INFO | sqlalchemy.engine.Engine | [cached since 0.007857s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:07,869 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:07,869 | INFO | sqlalchemy.engine.Engine | [cached since 0.008634s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:07,870 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:13:07,870 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 23:13:07,872 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:13:07,872 | INFO | sqlalchemy.engine.Engine | [cached since 0.001815s ago] ('account_type', 'pg_catalog')
2025-10-21 23:13:07,873 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:13:17,696 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:13:17,696 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:17,698 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:13:17,698 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:17,700 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:13:17,700 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:13:17,701 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:13:17,703 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:17,703 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:17,707 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:17,707 | INFO | sqlalchemy.engine.Engine | [cached since 0.004182s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:17,708 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:17,708 | INFO | sqlalchemy.engine.Engine | [cached since 0.005s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:17,709 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:13:17,709 | INFO | sqlalchemy.engine.Engine | [cached since 0.006021s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:13:17,710 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:13:17,710 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:13:17,712 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:13:17,712 | INFO | sqlalchemy.engine.Engine | [cached since 0.001703s ago] ('account_type', 'pg_catalog')
2025-10-21 23:13:17,713 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:16:03,733 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:15603]
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:16:03,734 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:16:03,735 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:16:03,735 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f278440>}) about to wait for the following futures []
2025-10-21 23:16:03,735 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f278440>}) done waiting for dependent futures
2025-10-21 23:16:03,735 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f278440>}) with kwargs {'client': <botocore.client.S3 object at 0x10ecb5400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10f053230>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f0534d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f053b60>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f278440>}
2025-10-21 23:16:03,735 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b2a7e8b71b7b461e80d874c90914eddf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f053b60> for transfer request: 0.
2025-10-21 23:16:03,735 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:16:03,736 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b2a7e8b71b7b461e80d874c90914eddf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:16:03,736 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:16:03,736 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b2a7e8b71b7b461e80d874c90914eddf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:16:03,736 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b2a7e8b71b7b461e80d874c90914eddf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10ecb5400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f278d70>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/b2a7e8b71b7b461e80d874c90914eddf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:16:04,553 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:16:13,495 | INFO | app.services.audio_pipeline | Intent detectado id=tower_takeoff_clearance confianza=0.80 tokens=['en.de espera', 'pavas']
2025-10-21 23:16:16,867 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:16:16,869 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:16:16,869 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (datetime.datetime(2025, 10, 22, 5, 16, 3, 729963), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 13081, 'null')
2025-10-21 23:16:16,873 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:18:51,970 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:18:51,970 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:18:51,973 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:18:51,973 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:18:51,975 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:18:51,975 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:18:51,976 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:18:51,978 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:18:51,978 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:18:51,981 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:18:51,981 | INFO | sqlalchemy.engine.Engine | [cached since 0.003371s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:18:51,982 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:18:51,982 | INFO | sqlalchemy.engine.Engine | [cached since 0.004011s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:18:51,983 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:18:51,983 | INFO | sqlalchemy.engine.Engine | [cached since 0.004545s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:18:51,984 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:18:51,984 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:18:51,985 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:18:51,985 | INFO | sqlalchemy.engine.Engine | [cached since 0.001638s ago] ('account_type', 'pg_catalog')
2025-10-21 23:18:51,986 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:19:05,700 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:19:05,700 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:05,702 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:19:05,702 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:05,703 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:19:05,703 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:05,704 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:19:05,706 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:05,706 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:05,710 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:05,710 | INFO | sqlalchemy.engine.Engine | [cached since 0.003535s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:05,710 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:05,711 | INFO | sqlalchemy.engine.Engine | [cached since 0.004348s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:05,711 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:05,711 | INFO | sqlalchemy.engine.Engine | [cached since 0.004976s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:05,712 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:19:05,712 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:19:05,714 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:19:05,714 | INFO | sqlalchemy.engine.Engine | [cached since 0.001675s ago] ('account_type', 'pg_catalog')
2025-10-21 23:19:05,715 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:19:15,243 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:19:15,243 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:15,245 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:19:15,245 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:15,247 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:19:15,247 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:19:15,248 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:19:15,250 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:15,250 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:15,254 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:15,254 | INFO | sqlalchemy.engine.Engine | [cached since 0.003798s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:15,254 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:15,254 | INFO | sqlalchemy.engine.Engine | [cached since 0.004519s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:15,255 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:19:15,255 | INFO | sqlalchemy.engine.Engine | [cached since 0.005315s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:19:15,257 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:19:15,257 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:19:15,259 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:19:15,259 | INFO | sqlalchemy.engine.Engine | [cached since 0.001935s ago] ('account_type', 'pg_catalog')
2025-10-21 23:19:15,259 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:20:14,112 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:20:14,113 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:14,117 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:20:14,117 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:14,120 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:20:14,120 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:14,122 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:20:14,124 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:14,124 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:14,128 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:14,128 | INFO | sqlalchemy.engine.Engine | [cached since 0.004143s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:14,128 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:14,128 | INFO | sqlalchemy.engine.Engine | [cached since 0.004784s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:14,129 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:14,129 | INFO | sqlalchemy.engine.Engine | [cached since 0.00529s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:14,130 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:14,130 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 23:20:14,131 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:14,131 | INFO | sqlalchemy.engine.Engine | [cached since 0.001157s ago] ('account_type', 'pg_catalog')
2025-10-21 23:20:14,132 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:20:30,917 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:20:30,917 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:30,919 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:20:30,920 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:30,922 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:20:30,923 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:30,924 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:20:30,926 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:30,926 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:30,929 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:30,929 | INFO | sqlalchemy.engine.Engine | [cached since 0.003327s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:30,930 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:30,930 | INFO | sqlalchemy.engine.Engine | [cached since 0.004095s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:30,931 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:30,931 | INFO | sqlalchemy.engine.Engine | [cached since 0.004837s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:30,936 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:30,936 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('user_status', 'pg_catalog')
2025-10-21 23:20:30,937 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:30,937 | INFO | sqlalchemy.engine.Engine | [cached since 0.00155s ago] ('account_type', 'pg_catalog')
2025-10-21 23:20:30,938 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:20:44,114 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:20:44,115 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:44,117 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:20:44,117 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:44,119 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:20:44,119 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:20:44,127 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:20:44,129 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:44,129 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:44,133 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:44,133 | INFO | sqlalchemy.engine.Engine | [cached since 0.004937s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:44,134 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:44,134 | INFO | sqlalchemy.engine.Engine | [cached since 0.005837s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:44,135 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:20:44,135 | INFO | sqlalchemy.engine.Engine | [cached since 0.006674s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:20:44,137 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:44,137 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 23:20:44,139 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:20:44,139 | INFO | sqlalchemy.engine.Engine | [cached since 0.002085s ago] ('account_type', 'pg_catalog')
2025-10-21 23:20:44,140 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:21:09,313 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:21:09,313 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:21:09,315 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:21:09,315 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:21:09,317 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:21:09,317 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:21:09,318 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:21:09,320 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:21:09,320 | INFO | sqlalchemy.engine.Engine | [generated in 0.00026s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:21:09,322 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:21:09,322 | INFO | sqlalchemy.engine.Engine | [cached since 0.002199s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:21:09,322 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:21:09,322 | INFO | sqlalchemy.engine.Engine | [cached since 0.002788s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:21:09,323 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:21:09,323 | INFO | sqlalchemy.engine.Engine | [cached since 0.003261s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:21:09,324 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:21:09,324 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:21:09,325 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:21:09,325 | INFO | sqlalchemy.engine.Engine | [cached since 0.001186s ago] ('account_type', 'pg_catalog')
2025-10-21 23:21:09,326 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:26:10,528 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:26:10,528 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:26:10,530 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:26:10,530 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:26:10,532 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:26:10,532 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:26:10,534 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:26:10,535 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:26:10,535 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:26:10,540 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:26:10,540 | INFO | sqlalchemy.engine.Engine | [cached since 0.004837s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:26:10,541 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:26:10,541 | INFO | sqlalchemy.engine.Engine | [cached since 0.005943s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:26:10,542 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:26:10,542 | INFO | sqlalchemy.engine.Engine | [cached since 0.006616s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:26:10,543 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:26:10,543 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:26:10,545 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:26:10,545 | INFO | sqlalchemy.engine.Engine | [cached since 0.001773s ago] ('account_type', 'pg_catalog')
2025-10-21 23:26:10,545 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:28:19,975 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:28:19,975 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:28:19,978 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:28:19,978 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:28:19,980 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:28:19,980 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:28:19,982 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:28:19,983 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:28:19,983 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:28:19,988 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:28:19,988 | INFO | sqlalchemy.engine.Engine | [cached since 0.004354s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:28:19,989 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:28:19,989 | INFO | sqlalchemy.engine.Engine | [cached since 0.00536s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:28:19,989 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:28:19,989 | INFO | sqlalchemy.engine.Engine | [cached since 0.006146s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:28:19,991 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:28:19,991 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-21 23:28:19,993 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:28:19,993 | INFO | sqlalchemy.engine.Engine | [cached since 0.002018s ago] ('account_type', 'pg_catalog')
2025-10-21 23:28:19,994 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:29:01,459 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:29:01,459 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:01,461 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:29:01,461 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:01,463 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:29:01,463 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:01,465 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:29:01,466 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:01,467 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:01,470 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:01,471 | INFO | sqlalchemy.engine.Engine | [cached since 0.004117s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:01,471 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:01,471 | INFO | sqlalchemy.engine.Engine | [cached since 0.004703s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:01,472 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:01,472 | INFO | sqlalchemy.engine.Engine | [cached since 0.005265s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:01,473 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:01,473 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:29:01,474 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:01,474 | INFO | sqlalchemy.engine.Engine | [cached since 0.001069s ago] ('account_type', 'pg_catalog')
2025-10-21 23:29:01,474 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:29:37,884 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:29:37,884 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:37,886 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:29:37,886 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:37,889 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:29:37,889 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:37,890 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:29:37,892 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:37,892 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:37,900 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:37,900 | INFO | sqlalchemy.engine.Engine | [cached since 0.008407s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:37,901 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:37,901 | INFO | sqlalchemy.engine.Engine | [cached since 0.009106s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:37,902 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:37,902 | INFO | sqlalchemy.engine.Engine | [cached since 0.009623s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:37,903 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:37,903 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-21 23:29:37,904 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:37,904 | INFO | sqlalchemy.engine.Engine | [cached since 0.001052s ago] ('account_type', 'pg_catalog')
2025-10-21 23:29:37,904 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:29:47,485 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-21 23:29:47,485 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:47,502 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-21 23:29:47,503 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:47,505 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-21 23:29:47,505 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-21 23:29:47,514 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:29:47,516 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:47,517 | INFO | sqlalchemy.engine.Engine | [generated in 0.00026s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:47,520 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:47,520 | INFO | sqlalchemy.engine.Engine | [cached since 0.004193s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:47,521 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:47,521 | INFO | sqlalchemy.engine.Engine | [cached since 0.005124s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:47,522 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-21 23:29:47,522 | INFO | sqlalchemy.engine.Engine | [cached since 0.006032s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-21 23:29:47,524 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:47,524 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-21 23:29:47,525 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-21 23:29:47,525 | INFO | sqlalchemy.engine.Engine | [cached since 0.001759s ago] ('account_type', 'pg_catalog')
2025-10-21 23:29:47,526 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-21 23:30:41,473 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:15603]
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-21 23:30:41,474 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-21 23:30:41,475 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:30:41,475 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e680440>}) about to wait for the following futures []
2025-10-21 23:30:41,475 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e680440>}) done waiting for dependent futures
2025-10-21 23:30:41,475 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e680440>}) with kwargs {'client': <botocore.client.S3 object at 0x10e045400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e4e3230>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e4e34d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e4e3b60>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e680440>}
2025-10-21 23:30:41,476 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c591c7bac16c4069b69721bb79c61672.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e4e3b60> for transfer request: 0.
2025-10-21 23:30:41,476 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-21 23:30:41,476 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c591c7bac16c4069b69721bb79c61672.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-21 23:30:41,476 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:30:41,476 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c591c7bac16c4069b69721bb79c61672.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-21 23:30:41,476 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c591c7bac16c4069b69721bb79c61672.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e045400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e680d70>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/7ebd0e42-2587-4a30-be09-f3ab9317a13b/c591c7bac16c4069b69721bb79c61672.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-21 23:30:42,146 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-21 23:30:50,391 | INFO | app.controllers.audio | Transcripcin recibida session=7ebd0e42-2587-4a30-be09-f3ab9317a13b: pavas Torre Alfa Golfo Oscar en.de espera.
2025-10-21 23:30:50,392 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='pavas Torre Alfa Golfo Oscar en.de espera.'
2025-10-21 23:30:51,109 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "unknown",
  "confidence": 0.0,
  "frequencyGroup": ""
}
2025-10-21 23:30:51,110 | INFO | app.services.audio_pipeline | Intent no detectado transcript='pavas Torre Alfa Golfo Oscar en.de espera.'
2025-10-21 23:30:53,994 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-21 23:30:53,996 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-21 23:30:53,996 | INFO | sqlalchemy.engine.Engine | [generated in 0.00025s] (datetime.datetime(2025, 10, 22, 5, 30, 41, 466282), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12492, 'null')
2025-10-21 23:30:53,999 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 08:26:08,687 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 08:26:08,687 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:26:08,700 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 08:26:08,701 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:26:08,718 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 08:26:08,719 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:26:08,722 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 08:26:08,726 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:26:08,726 | INFO | sqlalchemy.engine.Engine | [generated in 0.00023s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:26:08,736 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:26:08,736 | INFO | sqlalchemy.engine.Engine | [cached since 0.009947s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:26:08,737 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:26:08,737 | INFO | sqlalchemy.engine.Engine | [cached since 0.01085s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:26:08,737 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:26:08,738 | INFO | sqlalchemy.engine.Engine | [cached since 0.01166s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:26:08,739 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:26:08,739 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-22 08:26:08,741 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:26:08,741 | INFO | sqlalchemy.engine.Engine | [cached since 0.002055s ago] ('account_type', 'pg_catalog')
2025-10-22 08:26:08,743 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 08:27:04,094 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 08:27:04,095 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:27:04,097 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 08:27:04,097 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:27:04,099 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 08:27:04,099 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:27:04,101 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 08:27:04,102 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:27:04,102 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:27:04,110 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:27:04,110 | INFO | sqlalchemy.engine.Engine | [cached since 0.008125s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:27:04,111 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:27:04,111 | INFO | sqlalchemy.engine.Engine | [cached since 0.008926s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:27:04,112 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:27:04,112 | INFO | sqlalchemy.engine.Engine | [cached since 0.009479s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:27:04,113 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:27:04,113 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 08:27:04,115 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:27:04,115 | INFO | sqlalchemy.engine.Engine | [cached since 0.001815s ago] ('account_type', 'pg_catalog')
2025-10-22 08:27:04,116 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 08:28:43,438 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 08:28:43,438 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:28:43,440 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 08:28:43,440 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:28:43,442 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 08:28:43,442 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:28:43,444 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 08:28:43,446 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:28:43,446 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:28:43,451 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:28:43,451 | INFO | sqlalchemy.engine.Engine | [cached since 0.00515s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:28:43,452 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:28:43,452 | INFO | sqlalchemy.engine.Engine | [cached since 0.006056s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:28:43,453 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:28:43,453 | INFO | sqlalchemy.engine.Engine | [cached since 0.00687s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:28:43,454 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:28:43,454 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 08:28:43,456 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:28:43,456 | INFO | sqlalchemy.engine.Engine | [cached since 0.001969s ago] ('account_type', 'pg_catalog')
2025-10-22 08:28:43,456 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 08:29:23,895 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 08:29:23,895 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:23,897 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 08:29:23,897 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:23,899 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 08:29:23,899 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:23,900 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 08:29:23,902 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:23,902 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:23,904 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:23,904 | INFO | sqlalchemy.engine.Engine | [cached since 0.002567s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:23,905 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:23,905 | INFO | sqlalchemy.engine.Engine | [cached since 0.003159s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:23,905 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:23,906 | INFO | sqlalchemy.engine.Engine | [cached since 0.003713s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:23,907 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:29:23,907 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 08:29:23,908 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:29:23,908 | INFO | sqlalchemy.engine.Engine | [cached since 0.001273s ago] ('account_type', 'pg_catalog')
2025-10-22 08:29:23,908 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 08:29:38,135 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 08:29:38,135 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:38,137 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 08:29:38,137 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:38,138 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 08:29:38,138 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 08:29:38,140 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 08:29:38,142 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:38,142 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:38,145 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:38,145 | INFO | sqlalchemy.engine.Engine | [cached since 0.003771s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:38,146 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:38,146 | INFO | sqlalchemy.engine.Engine | [cached since 0.004357s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:38,146 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 08:29:38,146 | INFO | sqlalchemy.engine.Engine | [cached since 0.004882s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 08:29:38,147 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:29:38,147 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 08:29:38,149 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 08:29:38,149 | INFO | sqlalchemy.engine.Engine | [cached since 0.001334s ago] ('account_type', 'pg_catalog')
2025-10-22 08:29:38,149 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:00:39,857 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:00:39,857 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:00:39,859 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:00:39,859 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:00:39,862 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:00:39,862 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:00:39,863 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:00:39,865 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:00:39,865 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:00:39,871 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:00:39,871 | INFO | sqlalchemy.engine.Engine | [cached since 0.006266s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:00:39,872 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:00:39,872 | INFO | sqlalchemy.engine.Engine | [cached since 0.007329s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:00:39,873 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:00:39,873 | INFO | sqlalchemy.engine.Engine | [cached since 0.008206s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:00:39,874 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:00:39,874 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-22 16:00:39,876 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:00:39,876 | INFO | sqlalchemy.engine.Engine | [cached since 0.001958s ago] ('account_type', 'pg_catalog')
2025-10-22 16:00:39,877 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:01:09,941 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:01:09,942 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:09,944 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:01:09,944 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:09,946 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:01:09,946 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:09,947 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:01:09,949 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:09,949 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:09,954 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:09,954 | INFO | sqlalchemy.engine.Engine | [cached since 0.004959s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:09,955 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:09,955 | INFO | sqlalchemy.engine.Engine | [cached since 0.005947s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:09,956 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:09,956 | INFO | sqlalchemy.engine.Engine | [cached since 0.00676s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:09,957 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:09,957 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:01:09,959 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:09,959 | INFO | sqlalchemy.engine.Engine | [cached since 0.001757s ago] ('account_type', 'pg_catalog')
2025-10-22 16:01:09,960 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:01:15,413 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:01:15,413 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:15,415 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:01:15,415 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:15,417 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:01:15,417 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:15,419 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:01:15,421 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:15,421 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:15,426 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:15,427 | INFO | sqlalchemy.engine.Engine | [cached since 0.005633s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:15,428 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:15,428 | INFO | sqlalchemy.engine.Engine | [cached since 0.006881s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:15,429 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:15,429 | INFO | sqlalchemy.engine.Engine | [cached since 0.007957s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:15,430 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:15,430 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:01:15,432 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:15,432 | INFO | sqlalchemy.engine.Engine | [cached since 0.001696s ago] ('account_type', 'pg_catalog')
2025-10-22 16:01:15,432 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:01:29,889 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:01:29,889 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:29,891 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:01:29,891 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:29,893 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:01:29,893 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:29,894 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:01:29,896 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:29,896 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:29,900 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:29,900 | INFO | sqlalchemy.engine.Engine | [cached since 0.004239s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:29,901 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:29,901 | INFO | sqlalchemy.engine.Engine | [cached since 0.00496s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:29,902 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:29,902 | INFO | sqlalchemy.engine.Engine | [cached since 0.005824s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:29,903 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:29,903 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-22 16:01:29,905 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:29,905 | INFO | sqlalchemy.engine.Engine | [cached since 0.001639s ago] ('account_type', 'pg_catalog')
2025-10-22 16:01:29,905 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:01:52,088 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:01:52,088 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:52,091 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:01:52,091 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:52,093 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:01:52,093 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:01:52,094 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:01:52,097 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:52,097 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:52,101 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:52,101 | INFO | sqlalchemy.engine.Engine | [cached since 0.004313s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:52,101 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:52,101 | INFO | sqlalchemy.engine.Engine | [cached since 0.004859s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:52,102 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:01:52,102 | INFO | sqlalchemy.engine.Engine | [cached since 0.005477s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:01:52,104 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:52,104 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-22 16:01:52,105 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:01:52,105 | INFO | sqlalchemy.engine.Engine | [cached since 0.001378s ago] ('account_type', 'pg_catalog')
2025-10-22 16:01:52,106 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:02:05,607 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:02:05,608 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:05,610 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:02:05,610 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:05,613 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:02:05,613 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:05,614 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:02:05,616 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:05,616 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:05,621 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:05,621 | INFO | sqlalchemy.engine.Engine | [cached since 0.004472s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:05,622 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:05,622 | INFO | sqlalchemy.engine.Engine | [cached since 0.00542s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:05,622 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:05,622 | INFO | sqlalchemy.engine.Engine | [cached since 0.006099s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:05,623 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:05,623 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:02:05,625 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:05,625 | INFO | sqlalchemy.engine.Engine | [cached since 0.001789s ago] ('account_type', 'pg_catalog')
2025-10-22 16:02:05,626 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:02:18,764 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:02:18,764 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:18,766 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:02:18,766 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:18,768 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:02:18,768 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:18,769 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:02:18,771 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:18,771 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:18,773 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:18,773 | INFO | sqlalchemy.engine.Engine | [cached since 0.002572s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:18,774 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:18,774 | INFO | sqlalchemy.engine.Engine | [cached since 0.00311s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:18,774 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:18,774 | INFO | sqlalchemy.engine.Engine | [cached since 0.003586s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:18,775 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:18,775 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:02:18,777 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:18,777 | INFO | sqlalchemy.engine.Engine | [cached since 0.001308s ago] ('account_type', 'pg_catalog')
2025-10-22 16:02:18,777 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:02:39,567 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:02:39,568 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:39,574 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:02:39,574 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:39,577 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:02:39,577 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:39,628 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:02:39,630 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:39,631 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:39,633 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:39,633 | INFO | sqlalchemy.engine.Engine | [cached since 0.002799s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:39,634 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:39,634 | INFO | sqlalchemy.engine.Engine | [cached since 0.003526s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:39,634 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:39,634 | INFO | sqlalchemy.engine.Engine | [cached since 0.004064s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:39,636 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:39,636 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('user_status', 'pg_catalog')
2025-10-22 16:02:39,638 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:39,638 | INFO | sqlalchemy.engine.Engine | [cached since 0.001735s ago] ('account_type', 'pg_catalog')
2025-10-22 16:02:39,638 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:02:47,808 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:02:47,808 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:47,810 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:02:47,810 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:47,811 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:02:47,811 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:02:47,813 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:02:47,815 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:47,815 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | [cached since 0.002992s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | [cached since 0.00347s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:02:47,818 | INFO | sqlalchemy.engine.Engine | [cached since 0.003917s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:02:47,820 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:47,820 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 16:02:47,821 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:02:47,821 | INFO | sqlalchemy.engine.Engine | [cached since 0.001184s ago] ('account_type', 'pg_catalog')
2025-10-22 16:02:47,821 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:03:48,391 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:03:48,391 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:03:48,392 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:03:48,392 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:03:48,393 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:03:48,393 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:03:48,394 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:03:48,396 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:03:48,396 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:03:48,399 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:03:48,399 | INFO | sqlalchemy.engine.Engine | [cached since 0.003126s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:03:48,400 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:03:48,400 | INFO | sqlalchemy.engine.Engine | [cached since 0.003695s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:03:48,400 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:03:48,400 | INFO | sqlalchemy.engine.Engine | [cached since 0.004158s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:03:48,401 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:03:48,401 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:03:48,403 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:03:48,403 | INFO | sqlalchemy.engine.Engine | [cached since 0.001408s ago] ('account_type', 'pg_catalog')
2025-10-22 16:03:48,403 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:38:48,650 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:38:48,657 | INFO | sqlalchemy.engine.Engine | SELECT users.id, users.email, users.first_name, users.last_name, users.password_hash, users.status, users.account_type, users.school, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-10-22 16:38:48,657 | INFO | sqlalchemy.engine.Engine | [generated in 0.00053s] ('abraham.salas.alfaro@gmail.com',)
2025-10-22 16:38:48,739 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:38:48,770 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:38:48,771 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 16:38:48,771 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] (datetime.datetime(2025, 10, 22, 22, 38, 48, 571397), 'POST', 'http://localhost:8000/auth/login', 200, '127.0.0.1', 173, 'null')
2025-10-22 16:38:48,776 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:39:53,739 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:39:53,741 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 16:39:53,741 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 16:39:53,741 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:39:53,741 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:39:53,742 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:39:53,743 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 16:39:53,748 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:39:53,748 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e5d42f0>}) about to wait for the following futures []
2025-10-22 16:39:53,749 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e5d42f0>}) done waiting for dependent futures
2025-10-22 16:39:53,749 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e5d42f0>}) with kwargs {'client': <botocore.client.S3 object at 0x10e045400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e3ecd70>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e3ee900>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e3ee270>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e5d42f0>}
2025-10-22 16:39:53,749 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/1f7a034a8f6744a9a921c93293a3ce8d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e3ee270> for transfer request: 0.
2025-10-22 16:39:53,749 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:39:53,749 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/1f7a034a8f6744a9a921c93293a3ce8d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 16:39:53,749 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:39:53,750 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/1f7a034a8f6744a9a921c93293a3ce8d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 16:39:53,750 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/1f7a034a8f6744a9a921c93293a3ce8d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e045400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e5d4c20>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/1f7a034a8f6744a9a921c93293a3ce8d.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 16:39:54,390 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:41:56,959 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:41:56,962 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 16:41:56,962 | INFO | sqlalchemy.engine.Engine | [cached since 188.2s ago] (datetime.datetime(2025, 10, 22, 22, 39, 53, 725952), 'POST', 'http://localhost:8000/audio/analyze', 502, '127.0.0.1', 123179, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 16:41:56,968 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:44:34,362 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:44:34,362 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:44:34,365 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:44:34,365 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:44:34,367 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:44:34,367 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:44:34,369 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:44:34,371 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:44:34,371 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:44:34,377 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:44:34,377 | INFO | sqlalchemy.engine.Engine | [cached since 0.006294s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:44:34,377 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:44:34,377 | INFO | sqlalchemy.engine.Engine | [cached since 0.006913s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:44:34,378 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:44:34,378 | INFO | sqlalchemy.engine.Engine | [cached since 0.007386s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:44:34,379 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:44:34,379 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 16:44:34,381 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:44:34,381 | INFO | sqlalchemy.engine.Engine | [cached since 0.001923s ago] ('account_type', 'pg_catalog')
2025-10-22 16:44:34,382 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:44:49,574 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:44:49,575 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 16:44:49,575 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:44:49,575 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125d8c590>}) about to wait for the following futures []
2025-10-22 16:44:49,576 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125d8c590>}) done waiting for dependent futures
2025-10-22 16:44:49,576 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125d8c590>}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x125bef380>, 'osutil': <s3transfer.utils.OSUtils object at 0x125bef620>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x125befcb0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x125d8c590>}
2025-10-22 16:44:49,576 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/6f00aa35f0304d49a857b109e715a160.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x125befcb0> for transfer request: 0.
2025-10-22 16:44:49,576 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:44:49,576 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/6f00aa35f0304d49a857b109e715a160.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 16:44:49,576 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:44:49,576 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/6f00aa35f0304d49a857b109e715a160.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 16:44:49,576 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/6f00aa35f0304d49a857b109e715a160.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x125d8cec0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/6f00aa35f0304d49a857b109e715a160.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 16:44:50,103 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:44:59,794 | INFO | app.controllers.audio | Transcripcin recibida session=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 16:44:59,844 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:44:59,849 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:44:59,849 | INFO | sqlalchemy.engine.Engine | [generated in 0.00019s] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:44:59,860 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:44:59,861 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:44:59,899 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:44:59,899 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:44:59,899 | INFO | sqlalchemy.engine.Engine | [cached since 0.05004s ago] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:44:59,902 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:44:59,902 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:44:59,905 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.'
2025-10-22 16:45:00,460 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.95,
  "frequencyGroup": "tower"
}
2025-10-22 16:45:00,461 | INFO | app.services.audio_pipeline | Frecuencia fuera de rango (LLM) intent=tower_takeoff_clearance freq=121.7 esperado=118.3, 118.30, 118.300
2025-10-22 16:45:00,462 | INFO | app.controllers.audio | Frecuencia invlida session=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c intent=tower_takeoff_clearance freq=121.7 reason=La frecuencia esperada para esta solicitud es 118.3, 118.30, 118.300.
2025-10-22 16:45:00,520 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:00,520 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:45:00,520 | INFO | sqlalchemy.engine.Engine | [cached since 0.6711s ago] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:45:00,523 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:45:00,523 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:45:02,036 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:02,037 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 16:45:02,037 | INFO | sqlalchemy.engine.Engine | [generated in 0.00022s] (datetime.datetime(2025, 10, 22, 22, 44, 49, 571157), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12409, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 16:45:02,042 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:221]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_field with data[259:278]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_value with data[280:336]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_field with data[338:350]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_value with data[352:362]
2025-10-22 16:45:22,035 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:45:22,036 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:45:22,036 | DEBUG | python_multipart.multipart | Calling on_part_data with data[366:43574]
2025-10-22 16:45:22,036 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:45:22,036 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 16:45:22,036 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:45:22,036 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715ccd0>}) about to wait for the following futures []
2025-10-22 16:45:22,036 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715ccd0>}) done waiting for dependent futures
2025-10-22 16:45:22,036 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715ccd0>}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x125d83c50>, 'osutil': <s3transfer.utils.OSUtils object at 0x125d83b10>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1271295b0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715ccd0>}
2025-10-22 16:45:22,036 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/e15641d439aa4df7a1e8d12910dc09f3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1271295b0> for transfer request: 0.
2025-10-22 16:45:22,036 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:45:22,037 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/e15641d439aa4df7a1e8d12910dc09f3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 16:45:22,037 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:45:22,037 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/e15641d439aa4df7a1e8d12910dc09f3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 16:45:22,037 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/e15641d439aa4df7a1e8d12910dc09f3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x12715d590>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/703b04c3-a467-4f64-a9c2-36e4d9d2ca2c/e15641d439aa4df7a1e8d12910dc09f3.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 16:45:22,305 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:45:32,151 | INFO | app.controllers.audio | Transcripcin recibida session=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 16:45:32,188 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:32,188 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:45:32,188 | INFO | sqlalchemy.engine.Engine | [cached since 32.34s ago] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:45:32,191 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:45:32,191 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:45:32,225 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:32,225 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:45:32,225 | INFO | sqlalchemy.engine.Engine | [cached since 32.38s ago] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:45:32,228 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:45:32,228 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:45:32,231 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.'
2025-10-22 16:45:32,523 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.95,
  "frequencyGroup": "tower"
}
2025-10-22 16:45:32,524 | INFO | app.services.audio_pipeline | Intent determinado via LLM id=tower_takeoff_clearance confianza=0.95
2025-10-22 16:45:32,524 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_takeoff_clearance freq_group=tower
SYSTEM> Eres un controlador de torre en espaol (Costa Rica). Gestionas autorizaciones de despegue/aterrizaje, transferencias y avisos de pista. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 080/12

Turnos previos:
  1. Student: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos alm...
2025-10-22 16:45:32,952 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_takeoff_clearance: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 16:45:32,953 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=tower_takeoff_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 16:45:32,955 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['wind_report', 'takeoff_clearance', 'maintain_heading', 'report_altitude'], 'wind_direction': 80, 'wind_speed': 12, 'wind_report': '080/12', 'climb_instruction': 'Mantenga rumbo de pista', 'report_altitude_ft': 5000, 'report_altitude_phrase': '5000 pies', 'instruction_code': 'takeoff_clearance'}
2025-10-22 16:45:32,955 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=tower_takeoff_clearance texto='Alfa Noviembre India, Viento 080/12. Autorizado a despegar pista uno cero. Mantenga rumbo de pista. Notifique pasando 5000 pies.'
2025-10-22 16:45:32,955 | INFO | app.controllers.audio | Frase final para Polly session=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c intent=tower_takeoff_clearance fallback=False: Alfa Noviembre India, Viento 080/12. Autorizado a despegar pista uno cero. Mantenga rumbo de pista. Notifique pasando 5000 pies.
2025-10-22 16:45:33,010 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:33,010 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:45:33,010 | INFO | sqlalchemy.engine.Engine | [cached since 33.16s ago] (UUID('703b04c3-a467-4f64-a9c2-36e4d9d2ca2c'),)
2025-10-22 16:45:33,014 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=703b04c3-a467-4f64-a9c2-36e4d9d2ca2c
2025-10-22 16:45:33,014 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:45:34,585 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:45:34,586 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 16:45:34,586 | INFO | sqlalchemy.engine.Engine | [cached since 32.55s ago] (datetime.datetime(2025, 10, 22, 22, 45, 22, 34829), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12498, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 16:45:34,588 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:53:38,092 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 16:53:38,095 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:221]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[259:278]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[280:336]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[338:350]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[352:362]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_part_data with data[366:43574]
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 16:53:38,096 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 16:53:38,103 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:53:38,103 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d6d0>}) about to wait for the following futures []
2025-10-22 16:53:38,103 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d6d0>}) done waiting for dependent futures
2025-10-22 16:53:38,103 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d6d0>}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x125d83110>, 'osutil': <s3transfer.utils.OSUtils object at 0x125d83ed0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x125db1f20>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d6d0>}
2025-10-22 16:53:38,104 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/6c9f4f7f956f4a619bb34346c85771e4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x125db1f20> for transfer request: 0.
2025-10-22 16:53:38,104 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 16:53:38,104 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/6c9f4f7f956f4a619bb34346c85771e4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 16:53:38,104 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:53:38,104 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/6c9f4f7f956f4a619bb34346c85771e4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 16:53:38,104 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/6c9f4f7f956f4a619bb34346c85771e4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x125845400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x12715d090>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/6c9f4f7f956f4a619bb34346c85771e4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 16:53:38,927 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 16:53:48,562 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 16:53:48,616 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:53:48,617 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:53:48,617 | INFO | sqlalchemy.engine.Engine | [cached since 334.5s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 16:53:48,622 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 16:53:48,623 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:53:48,658 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:53:48,658 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:53:48,658 | INFO | sqlalchemy.engine.Engine | [cached since 334.6s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 16:53:48,661 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 16:53:48,661 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:53:48,663 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.'
2025-10-22 16:53:48,963 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.95,
  "frequencyGroup": "tower"
}
2025-10-22 16:53:48,964 | INFO | app.services.audio_pipeline | Intent determinado via LLM id=tower_takeoff_clearance confianza=0.95
2025-10-22 16:53:48,965 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_takeoff_clearance freq_group=tower
SYSTEM> Eres un controlador de torre en espaol (Costa Rica). Gestionas autorizaciones de despegue/aterrizaje, transferencias y avisos de pista. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 080/12

Turnos previos:
  1. Student: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos alm...
2025-10-22 16:53:49,397 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_takeoff_clearance: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 16:53:49,398 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=tower_takeoff_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 16:53:49,398 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['wind_report', 'takeoff_clearance', 'maintain_heading', 'report_altitude'], 'wind_direction': 80, 'wind_speed': 12, 'wind_report': '080/12', 'climb_instruction': 'Mantenga rumbo de pista', 'report_altitude_ft': 5000, 'report_altitude_phrase': '5000 pies', 'instruction_code': 'takeoff_clearance'}
2025-10-22 16:53:49,399 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=tower_takeoff_clearance texto='Alfa Noviembre India, Viento 080/12. Autorizado a despegar pista uno cero. Mantenga rumbo de pista. Notifique pasando 5000 pies.'
2025-10-22 16:53:49,399 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=tower_takeoff_clearance fallback=False: Alfa Noviembre India, Viento 080/12. Autorizado a despegar pista uno cero. Mantenga rumbo de pista. Notifique pasando 5000 pies.
2025-10-22 16:53:49,448 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:53:49,448 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 16:53:49,448 | INFO | sqlalchemy.engine.Engine | [cached since 335.4s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 16:53:49,452 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 16:53:49,452 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 16:53:51,693 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:53:51,693 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 16:53:51,693 | INFO | sqlalchemy.engine.Engine | [cached since 335.4s ago] (datetime.datetime(2025, 10, 22, 22, 53, 38, 89482), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 13558, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 16:53:51,699 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:58:20,549 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:58:20,549 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:20,551 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:58:20,551 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:20,553 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:58:20,554 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:20,555 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:58:20,556 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:20,557 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:20,573 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:20,573 | INFO | sqlalchemy.engine.Engine | [cached since 0.01639s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:20,575 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:20,575 | INFO | sqlalchemy.engine.Engine | [cached since 0.01844s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:20,576 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:20,576 | INFO | sqlalchemy.engine.Engine | [cached since 0.02s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:20,578 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:20,578 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-22 16:58:20,579 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:20,579 | INFO | sqlalchemy.engine.Engine | [cached since 0.001263s ago] ('account_type', 'pg_catalog')
2025-10-22 16:58:20,579 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:58:45,270 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:58:45,270 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:45,272 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:58:45,272 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:45,274 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:58:45,274 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:45,275 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:58:45,277 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:45,277 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:45,281 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:45,281 | INFO | sqlalchemy.engine.Engine | [cached since 0.004134s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:45,282 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:45,282 | INFO | sqlalchemy.engine.Engine | [cached since 0.004817s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:45,283 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:45,283 | INFO | sqlalchemy.engine.Engine | [cached since 0.005626s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:45,284 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:45,284 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-22 16:58:45,286 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:45,286 | INFO | sqlalchemy.engine.Engine | [cached since 0.002547s ago] ('account_type', 'pg_catalog')
2025-10-22 16:58:45,288 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 16:58:53,265 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 16:58:53,265 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:53,267 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 16:58:53,267 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:53,269 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 16:58:53,270 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 16:58:53,271 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 16:58:53,273 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:53,273 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:53,276 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:53,277 | INFO | sqlalchemy.engine.Engine | [cached since 0.003817s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:53,277 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:53,277 | INFO | sqlalchemy.engine.Engine | [cached since 0.004629s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:53,278 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 16:58:53,278 | INFO | sqlalchemy.engine.Engine | [cached since 0.005515s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 16:58:53,279 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:53,279 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 16:58:53,281 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 16:58:53,281 | INFO | sqlalchemy.engine.Engine | [cached since 0.00163s ago] ('account_type', 'pg_catalog')
2025-10-22 16:58:53,282 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:00:13,297 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:00:13,298 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:00:13,299 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:00:13,299 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125b8c6e0>}) about to wait for the following futures []
2025-10-22 17:00:13,299 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125b8c6e0>}) done waiting for dependent futures
2025-10-22 17:00:13,300 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x125b8c6e0>}) with kwargs {'client': <botocore.client.S3 object at 0x121745550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x125aef4d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x125aef770>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x125aefe00>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x125b8c6e0>}
2025-10-22 17:00:13,300 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/de2db983f6964a80b6898f548cdd1ab0.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x125aefe00> for transfer request: 0.
2025-10-22 17:00:13,300 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:00:13,300 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/de2db983f6964a80b6898f548cdd1ab0.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:00:13,300 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:00:13,300 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/de2db983f6964a80b6898f548cdd1ab0.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:00:13,300 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/de2db983f6964a80b6898f548cdd1ab0.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x121745550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x125b8d010>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/de2db983f6964a80b6898f548cdd1ab0.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:00:13,843 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:00:23,570 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:00:23,622 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:00:23,627 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:00:23,628 | INFO | sqlalchemy.engine.Engine | [generated in 0.00023s] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:00:23,632 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:00:23,632 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:00:23,667 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:00:23,667 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:00:23,667 | INFO | sqlalchemy.engine.Engine | [cached since 0.0401s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:00:23,670 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:00:23,670 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:00:23,673 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'plan de vuelo', 'zona eco']
2025-10-22 17:00:23,674 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 p...
2025-10-22 17:00:24,282 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista en uso uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:00:24,283 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista en uso uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:00:24,284 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:00:24,285 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:00:24,285 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:00:24,331 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:00:24,331 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:00:24,331 | INFO | sqlalchemy.engine.Engine | [cached since 0.7041s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:00:24,335 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:00:24,335 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:00:26,104 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:00:26,106 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:00:26,106 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] (datetime.datetime(2025, 10, 22, 23, 0, 13, 287126), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12773, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:00:26,110 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:02:54,497 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:02:54,498 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:32449]
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:02:54,499 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:02:54,506 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:02:54,507 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d310>}) about to wait for the following futures []
2025-10-22 17:02:54,507 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d310>}) done waiting for dependent futures
2025-10-22 17:02:54,507 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d310>}) with kwargs {'client': <botocore.client.S3 object at 0x121745550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x12715c2d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x12715c190>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1271315b0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x12715d310>}
2025-10-22 17:02:54,507 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/b7c78a85a2574ef5aadbfd1f0814aae9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1271315b0> for transfer request: 0.
2025-10-22 17:02:54,507 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:02:54,507 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/b7c78a85a2574ef5aadbfd1f0814aae9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:02:54,507 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:02:54,507 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/b7c78a85a2574ef5aadbfd1f0814aae9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:02:54,508 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/b7c78a85a2574ef5aadbfd1f0814aae9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x121745550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x12715dbd0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/b7c78a85a2574ef5aadbfd1f0814aae9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:02:55,098 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:03:04,762 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: QNH 3005 Transponder 0522 rodaremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India.
2025-10-22 17:03:04,816 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:03:04,817 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:03:04,817 | INFO | sqlalchemy.engine.Engine | [cached since 161.2s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:03:04,821 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:03:04,822 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:03:04,856 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:03:04,856 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:03:04,856 | INFO | sqlalchemy.engine.Engine | [cached since 161.2s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:03:04,859 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:03:04,859 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:03:04,861 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['pista 10', 'transponder', 'qnh', 'pista', 'transponder', 'qnh']
2025-10-22 17:03:04,862 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
QNH 3005 Transponder 0522 rodaremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: QNH 3005 Transponder 0522 rodaremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India. (freq=121.7)

Debes extraer la intencin y los slots solicitados.
Slots oblig...
2025-10-22 17:03:05,434 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Transponder 0522",
    "runway_human": "pista 10 Alfa Noviembre India",
    "taxi_route": "va Alfa dos Alfa",
    "squawk_code": "0522",
    "qnh_value": "3005",
    "wind_report": "Viento 070/12"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:03:05,435 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Transponder 0522', 'runway': None, 'runway_human': 'pista 10 Alfa Noviembre India', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': 'Viento 070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'va Alfa dos Alfa', 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:03:05,435 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'AAANI', 'callsign_spelled': 'Transponder 0522', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': 'Viento 070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'va Alfa dos Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:03:05,436 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Transponder 0522, recibido. Pista en uso uno cero. Viento Viento 070/12. Transponder 0522. QNH 3005. Ruede va va Alfa dos Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:03:05,436 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Transponder 0522, recibido. Pista en uso uno cero. Viento Viento 070/12. Transponder 0522. QNH 3005. Ruede va va Alfa dos Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:03:05,483 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:03:05,483 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:03:05,483 | INFO | sqlalchemy.engine.Engine | [cached since 161.9s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:03:05,487 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:03:05,487 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:03:07,564 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:03:07,565 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:03:07,565 | INFO | sqlalchemy.engine.Engine | [cached since 161.5s ago] (datetime.datetime(2025, 10, 22, 23, 2, 54, 493048), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 13026, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:03:07,569 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:04:24,921 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:04:24,921 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:24,923 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:04:24,923 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:24,925 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:04:24,925 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:24,927 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:04:24,929 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:24,929 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:24,934 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:24,934 | INFO | sqlalchemy.engine.Engine | [cached since 0.005146s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:24,935 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:24,935 | INFO | sqlalchemy.engine.Engine | [cached since 0.005981s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:24,935 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:24,935 | INFO | sqlalchemy.engine.Engine | [cached since 0.006677s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:24,937 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:24,937 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-22 17:04:24,939 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:24,939 | INFO | sqlalchemy.engine.Engine | [cached since 0.002258s ago] ('account_type', 'pg_catalog')
2025-10-22 17:04:24,941 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:04:30,593 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:04:30,593 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:30,595 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:04:30,595 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:30,598 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:04:30,598 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:30,599 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:04:30,601 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:30,601 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:30,604 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:30,604 | INFO | sqlalchemy.engine.Engine | [cached since 0.003686s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:30,605 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:30,605 | INFO | sqlalchemy.engine.Engine | [cached since 0.004555s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:30,606 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:30,606 | INFO | sqlalchemy.engine.Engine | [cached since 0.005301s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:30,607 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:30,607 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:04:30,609 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:30,609 | INFO | sqlalchemy.engine.Engine | [cached since 0.001609s ago] ('account_type', 'pg_catalog')
2025-10-22 17:04:30,610 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:04:37,537 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:04:37,537 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:37,539 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:04:37,539 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:37,541 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:04:37,541 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:04:37,543 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:04:37,545 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:37,545 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:37,549 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:37,549 | INFO | sqlalchemy.engine.Engine | [cached since 0.004225s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:37,549 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:37,549 | INFO | sqlalchemy.engine.Engine | [cached since 0.004875s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:37,550 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:04:37,550 | INFO | sqlalchemy.engine.Engine | [cached since 0.005571s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:04:37,551 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:37,551 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:04:37,553 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:04:37,553 | INFO | sqlalchemy.engine.Engine | [cached since 0.001891s ago] ('account_type', 'pg_catalog')
2025-10-22 17:04:37,554 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:10:11,116 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:10:11,116 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:10:11,116 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:10:11,117 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43141]
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:10:11,118 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:10:11,121 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:10:11,122 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114d90590>}) about to wait for the following futures []
2025-10-22 17:10:11,122 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114d90590>}) done waiting for dependent futures
2025-10-22 17:10:11,122 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114d90590>}) with kwargs {'client': <botocore.client.S3 object at 0x114845400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x114bf3380>, 'osutil': <s3transfer.utils.OSUtils object at 0x114bf3620>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x114bf3cb0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x114d90590>}
2025-10-22 17:10:11,122 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/320d63f1046344f79c3b3352659f2681.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x114bf3cb0> for transfer request: 0.
2025-10-22 17:10:11,122 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:10:11,123 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/320d63f1046344f79c3b3352659f2681.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:10:11,123 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/320d63f1046344f79c3b3352659f2681.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:10:11,124 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/320d63f1046344f79c3b3352659f2681.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x114845400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x114d90ec0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/320d63f1046344f79c3b3352659f2681.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:10:11,132 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:10:11,826 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:10:21,622 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: pa superficie Alfa Noviembre India en hangar 37 Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:10:21,622 | INFO | app.logs.transcript | student | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | text=pa superficie Alfa Noviembre India en hangar 37 Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:10:21,675 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:10:21,681 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:10:21,681 | INFO | sqlalchemy.engine.Engine | [generated in 0.00024s] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:10:21,686 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:10:21,686 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:10:21,721 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:10:21,721 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:10:21,721 | INFO | sqlalchemy.engine.Engine | [cached since 0.04097s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:10:21,724 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:10:21,724 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:10:21,728 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:10:21,728 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
pa superficie Alfa Noviembre India en hangar 37 Solicitamos abrir plan de vuelo a zona Eco va Paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: pa superficie Alfa Noviembre India en hangar 37 Solicitamos abrir plan de vuelo a zona Eco...
2025-10-22 17:10:22,443 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "pista en uso uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:10:22,444 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'pista en uso uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:10:22,445 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:10:22,445 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:10:22,446 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:10:22,480 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:10:22,480 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:10:22,480 | INFO | sqlalchemy.engine.Engine | [cached since 0.7995s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:10:22,482 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:10:22,482 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:10:22,484 | INFO | app.logs.transcript | controller | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:10:24,156 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:10:24,159 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:10:24,160 | INFO | sqlalchemy.engine.Engine | [generated in 0.00024s] (datetime.datetime(2025, 10, 22, 23, 10, 11, 102453), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12990, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:10:24,174 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:11:23,868 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:11:23,868 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:34717]
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:11:23,869 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:11:23,873 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:11:23,873 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11695d450>}) about to wait for the following futures []
2025-10-22 17:11:23,874 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11695d450>}) done waiting for dependent futures
2025-10-22 17:11:23,874 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11695d450>}) with kwargs {'client': <botocore.client.S3 object at 0x114845400>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11695c410>, 'osutil': <s3transfer.utils.OSUtils object at 0x11695c2d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1169316e0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11695d450>}
2025-10-22 17:11:23,874 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/81976ec3510c4b28a681d891e0008961.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1169316e0> for transfer request: 0.
2025-10-22 17:11:23,874 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:11:23,874 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/81976ec3510c4b28a681d891e0008961.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:11:23,874 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/81976ec3510c4b28a681d891e0008961.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:11:23,874 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:11:23,875 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/81976ec3510c4b28a681d891e0008961.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x114845400>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11695dd10>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/81976ec3510c4b28a681d891e0008961.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:11:24,411 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:11:33,913 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: QNH3005 Transponder 0522 Rodaremos va Alfa dos Alfa al.de espera Pista 10 Alfa Noviembre India.
2025-10-22 17:11:33,915 | INFO | app.logs.transcript | student | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | text=QNH3005 Transponder 0522 Rodaremos va Alfa dos Alfa al.de espera Pista 10 Alfa Noviembre India.
2025-10-22 17:11:33,968 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:11:33,969 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:11:33,969 | INFO | sqlalchemy.engine.Engine | [cached since 72.26s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:11:33,972 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:11:33,972 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:11:34,007 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:11:34,007 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:11:34,007 | INFO | sqlalchemy.engine.Engine | [cached since 72.3s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:11:34,010 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:11:34,010 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:11:34,013 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['pista 10', 'transponder', 'pista', 'transponder', 'qnh']
2025-10-22 17:11:34,014 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
QNH3005 Transponder 0522 Rodaremos va Alfa dos Alfa al.de espera Pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: QNH3005 Transponder 0522 Rodaremos va Alfa dos Alfa al.de espera Pista 10 Alfa Noviembre India. (freq=121.7)

Debes extraer la intencin y los slots solicitados.
Slots obligat...
2025-10-22 17:11:34,437 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "QNH3005",
    "runway_human": "Pista 10 Alfa Noviembre"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:11:34,439 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'QNH3005', 'runway': None, 'runway_human': 'Pista 10 Alfa Noviembre', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:11:34,440 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'AAANI', 'callsign_spelled': 'QNH3005', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:11:34,440 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:11:34,440 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:11:34,495 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:11:34,495 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:11:34,496 | INFO | sqlalchemy.engine.Engine | [cached since 72.79s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:11:34,499 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:11:34,499 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:11:34,503 | INFO | app.logs.transcript | controller | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:11:35,925 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:11:35,926 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:11:35,926 | INFO | sqlalchemy.engine.Engine | [cached since 71.74s ago] (datetime.datetime(2025, 10, 22, 23, 11, 23, 858638), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12017, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:11:35,930 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:19:00,894 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:19:00,894 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:00,896 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:19:00,896 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:00,898 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:19:00,899 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:00,900 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:19:00,901 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:00,902 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:00,907 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:00,907 | INFO | sqlalchemy.engine.Engine | [cached since 0.005442s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:00,908 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:00,908 | INFO | sqlalchemy.engine.Engine | [cached since 0.006332s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:00,908 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:00,908 | INFO | sqlalchemy.engine.Engine | [cached since 0.006979s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:00,910 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:19:00,910 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-22 17:19:00,911 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:19:00,911 | INFO | sqlalchemy.engine.Engine | [cached since 0.001606s ago] ('account_type', 'pg_catalog')
2025-10-22 17:19:00,912 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:19:17,069 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:19:17,070 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:17,073 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:19:17,073 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:17,076 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:19:17,076 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:19:17,080 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:19:17,083 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:17,083 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:17,088 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:17,088 | INFO | sqlalchemy.engine.Engine | [cached since 0.004662s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:17,088 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:17,088 | INFO | sqlalchemy.engine.Engine | [cached since 0.00534s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:17,089 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:19:17,089 | INFO | sqlalchemy.engine.Engine | [cached since 0.005942s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:19:17,090 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:19:17,090 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 17:19:17,091 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:19:17,091 | INFO | sqlalchemy.engine.Engine | [cached since 0.001248s ago] ('account_type', 'pg_catalog')
2025-10-22 17:19:17,092 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:21:01,235 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:21:01,235 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:01,237 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:21:01,237 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:01,239 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:21:01,239 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:01,240 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:21:01,242 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:01,242 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:01,245 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:01,245 | INFO | sqlalchemy.engine.Engine | [cached since 0.002922s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:01,245 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:01,245 | INFO | sqlalchemy.engine.Engine | [cached since 0.003435s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:01,246 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:01,246 | INFO | sqlalchemy.engine.Engine | [cached since 0.00391s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:01,247 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:21:01,247 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 17:21:01,248 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:21:01,248 | INFO | sqlalchemy.engine.Engine | [cached since 0.001484s ago] ('account_type', 'pg_catalog')
2025-10-22 17:21:01,249 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:21:23,123 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:21:23,123 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:23,125 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:21:23,125 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:23,127 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:21:23,127 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:21:23,128 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:21:23,130 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:23,130 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:23,134 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:23,134 | INFO | sqlalchemy.engine.Engine | [cached since 0.004255s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:23,135 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:23,135 | INFO | sqlalchemy.engine.Engine | [cached since 0.005103s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:23,136 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:21:23,136 | INFO | sqlalchemy.engine.Engine | [cached since 0.005783s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:21:23,137 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:21:23,137 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:21:23,139 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:21:23,139 | INFO | sqlalchemy.engine.Engine | [cached since 0.001696s ago] ('account_type', 'pg_catalog')
2025-10-22 17:21:23,139 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:23:11,977 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:23:11,977 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:23:11,979 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:23:11,979 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:23:11,980 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:23:11,980 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:23:11,982 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:23:11,987 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:23:11,987 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:23:11,991 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:23:11,991 | INFO | sqlalchemy.engine.Engine | [cached since 0.004346s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:23:11,992 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:23:11,992 | INFO | sqlalchemy.engine.Engine | [cached since 0.004955s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:23:11,992 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:23:11,992 | INFO | sqlalchemy.engine.Engine | [cached since 0.005448s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:23:11,993 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:23:11,993 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:23:11,994 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:23:11,994 | INFO | sqlalchemy.engine.Engine | [cached since 0.001082s ago] ('account_type', 'pg_catalog')
2025-10-22 17:23:11,995 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:24:37,298 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:24:37,298 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:24:37,300 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:24:37,300 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:24:37,302 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:24:37,302 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:24:37,303 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:24:37,305 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:24:37,305 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:24:37,310 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:24:37,311 | INFO | sqlalchemy.engine.Engine | [cached since 0.005488s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:24:37,328 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:24:37,328 | INFO | sqlalchemy.engine.Engine | [cached since 0.02303s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:24:37,329 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:24:37,330 | INFO | sqlalchemy.engine.Engine | [cached since 0.02536s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:24:37,333 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:24:37,333 | INFO | sqlalchemy.engine.Engine | [generated in 0.00037s] ('user_status', 'pg_catalog')
2025-10-22 17:24:37,336 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:24:37,336 | INFO | sqlalchemy.engine.Engine | [cached since 0.002779s ago] ('account_type', 'pg_catalog')
2025-10-22 17:24:37,337 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:25:21,599 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:25:21,600 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 17:25:21,600 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:25:21,600 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:25:21,602 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:25:21,602 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1108902f0>}) about to wait for the following futures []
2025-10-22 17:25:21,602 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1108902f0>}) done waiting for dependent futures
2025-10-22 17:25:21,602 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1108902f0>}) with kwargs {'client': <botocore.client.S3 object at 0x10c43d550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10c7f70e0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10c7f7380>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10c7f7a10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1108902f0>}
2025-10-22 17:25:21,602 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/91bcbfd3d8a44a4db31dabf17e61ded2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10c7f7a10> for transfer request: 0.
2025-10-22 17:25:21,602 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:25:21,602 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/91bcbfd3d8a44a4db31dabf17e61ded2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:25:21,602 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:25:21,603 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/91bcbfd3d8a44a4db31dabf17e61ded2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:25:21,603 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/91bcbfd3d8a44a4db31dabf17e61ded2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10c43d550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x110890c20>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/91bcbfd3d8a44a4db31dabf17e61ded2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:25:22,222 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:27:20,850 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:27:20,851 | INFO | app.logs.transcript | student | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | text=Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:27:20,944 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:27:20,949 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:27:20,949 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:27:20,952 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:27:20,953 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:27:20,979 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:27:20,979 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:27:20,979 | INFO | sqlalchemy.engine.Engine | [cached since 0.03074s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:27:20,981 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:27:20,981 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:27:20,983 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:27:20,984 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zo...
2025-10-22 17:27:21,681 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Pava",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:27:21,685 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Pava', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:27:21,686 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Pava', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:27:21,687 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:27:21,687 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:27:21,687 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:27:21,736 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:27:21,736 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:27:21,736 | INFO | sqlalchemy.engine.Engine | [cached since 0.7874s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:27:21,739 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:27:21,739 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:27:21,743 | INFO | app.logs.transcript | controller | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:27:23,659 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:27:23,661 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:27:23,661 | INFO | sqlalchemy.engine.Engine | [generated in 0.00019s] (datetime.datetime(2025, 10, 22, 23, 25, 21, 585946), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 122025, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:27:23,664 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:27:52,632 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:27:52,632 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:27:52,635 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:27:52,635 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:27:52,637 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:27:52,637 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:27:52,639 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:27:52,641 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:27:52,641 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:27:52,646 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:27:52,646 | INFO | sqlalchemy.engine.Engine | [cached since 0.005275s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:27:52,647 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:27:52,647 | INFO | sqlalchemy.engine.Engine | [cached since 0.00609s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:27:52,647 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:27:52,647 | INFO | sqlalchemy.engine.Engine | [cached since 0.006764s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:27:52,648 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:27:52,649 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-22 17:27:52,650 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:27:52,650 | INFO | sqlalchemy.engine.Engine | [cached since 0.001625s ago] ('account_type', 'pg_catalog')
2025-10-22 17:27:52,651 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:27:58,096 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:27:58,097 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:27:58,097 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ee902f0>}) about to wait for the following futures []
2025-10-22 17:27:58,097 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ee902f0>}) done waiting for dependent futures
2025-10-22 17:27:58,097 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ee902f0>}) with kwargs {'client': <botocore.client.S3 object at 0x10ea45550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10ee030e0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10ee03380>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10ee03a10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ee902f0>}
2025-10-22 17:27:58,097 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/ed679c69b6bb4235b4bdac30381c8bc1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10ee03a10> for transfer request: 0.
2025-10-22 17:27:58,097 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:27:58,097 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/ed679c69b6bb4235b4bdac30381c8bc1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:27:58,097 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:27:58,097 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/ed679c69b6bb4235b4bdac30381c8bc1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:27:58,098 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/ed679c69b6bb4235b4bdac30381c8bc1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10ea45550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10ee90c20>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/ed679c69b6bb4235b4bdac30381c8bc1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:27:58,876 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:29:42,865 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:29:42,865 | INFO | app.logs.transcript | student | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | text=Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:29:42,927 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:29:42,936 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:29:42,936 | INFO | sqlalchemy.engine.Engine | [generated in 0.00024s] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:29:42,942 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:29:42,943 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:29:42,979 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:29:42,979 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:29:42,979 | INFO | sqlalchemy.engine.Engine | [cached since 0.04274s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:29:42,981 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:29:42,981 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:29:42,984 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:29:42,985 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zo...
2025-10-22 17:29:43,687 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Pava",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:29:43,688 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Pava', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:29:43,689 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Pava', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:29:43,690 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:29:43,690 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:29:43,690 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:29:43,737 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:29:43,737 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:29:43,737 | INFO | sqlalchemy.engine.Engine | [cached since 0.8012s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:29:43,740 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:29:43,741 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:29:43,745 | INFO | app.logs.transcript | controller | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:29:46,138 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:29:46,139 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:29:46,139 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (datetime.datetime(2025, 10, 22, 23, 27, 58, 92518), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 107992, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:29:46,144 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:30:58,913 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:30:58,913 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:30:58,915 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:30:58,915 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:30:58,917 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:30:58,917 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:30:58,918 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:30:58,920 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:30:58,920 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:30:58,923 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:30:58,923 | INFO | sqlalchemy.engine.Engine | [cached since 0.003503s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:30:58,924 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:30:58,924 | INFO | sqlalchemy.engine.Engine | [cached since 0.004112s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:30:58,924 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:30:58,924 | INFO | sqlalchemy.engine.Engine | [cached since 0.004563s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:30:58,925 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:30:58,925 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:30:58,926 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:30:58,926 | INFO | sqlalchemy.engine.Engine | [cached since 0.001174s ago] ('account_type', 'pg_catalog')
2025-10-22 17:30:58,927 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:43573]
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:31:02,784 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:31:02,785 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:31:02,785 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12ad902f0>}) about to wait for the following futures []
2025-10-22 17:31:02,785 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12ad902f0>}) done waiting for dependent futures
2025-10-22 17:31:02,785 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12ad902f0>}) with kwargs {'client': <botocore.client.S3 object at 0x12a945550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x12ad030e0>, 'osutil': <s3transfer.utils.OSUtils object at 0x12ad03380>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x12ad03a10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x12ad902f0>}
2025-10-22 17:31:02,785 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/4aa991633f1e4220a82f6477bf05c532.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x12ad03a10> for transfer request: 0.
2025-10-22 17:31:02,785 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:31:02,785 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/4aa991633f1e4220a82f6477bf05c532.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:31:02,786 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:31:02,786 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/4aa991633f1e4220a82f6477bf05c532.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:31:02,786 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/4aa991633f1e4220a82f6477bf05c532.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x12a945550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x12ad90c20>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/1f71f9b5-1c51-4846-a238-3bf5ab2d6c59/4aa991633f1e4220a82f6477bf05c532.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:31:03,325 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:32:47,598 | INFO | app.controllers.audio | Transcripcin recibida session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:32:47,600 | INFO | app.logs.transcript | student | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | text=Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:32:47,656 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:32:47,665 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:32:47,665 | INFO | sqlalchemy.engine.Engine | [generated in 0.00025s] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:32:47,670 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:32:47,670 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:32:47,703 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:32:47,704 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:32:47,704 | INFO | sqlalchemy.engine.Engine | [cached since 0.0389s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:32:47,707 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:32:47,707 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:32:47,710 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:32:47,711 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zona eco va paso de ocho moo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pava superficie Alfa Noviembre India y Hangar 37. Solicitamos abrir plan de vuelo a zo...
2025-10-22 17:32:48,442 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Pava",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:32:48,443 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Pava', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:32:48,444 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Pava', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:32:48,445 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:32:48,445 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:32:48,445 | INFO | app.controllers.audio | Frase final para Polly session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 intent=ground_taxi_clearance fallback=False: Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:32:48,490 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:32:48,491 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:32:48,491 | INFO | sqlalchemy.engine.Engine | [cached since 0.8259s ago] (UUID('1f71f9b5-1c51-4846-a238-3bf5ab2d6c59'),)
2025-10-22 17:32:48,494 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59
2025-10-22 17:32:48,494 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:32:48,497 | INFO | app.logs.transcript | controller | session=1f71f9b5-1c51-4846-a238-3bf5ab2d6c59 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Pava, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:32:50,512 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:32:50,514 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:32:50,514 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] (datetime.datetime(2025, 10, 22, 23, 31, 2, 780494), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 107689, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:32:50,519 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:38:58,998 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-22 17:38:58,999 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:38:59,001 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-22 17:38:59,001 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:38:59,004 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-22 17:38:59,004 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-22 17:38:59,006 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:38:59,007 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:38:59,007 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:38:59,013 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:38:59,013 | INFO | sqlalchemy.engine.Engine | [cached since 0.005956s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:38:59,015 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:38:59,015 | INFO | sqlalchemy.engine.Engine | [cached since 0.007807s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:38:59,016 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-22 17:38:59,016 | INFO | sqlalchemy.engine.Engine | [cached since 0.008685s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-22 17:38:59,017 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:38:59,017 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-22 17:38:59,019 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-22 17:38:59,019 | INFO | sqlalchemy.engine.Engine | [cached since 0.001779s ago] ('account_type', 'pg_catalog')
2025-10-22 17:38:59,020 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:39:01,300 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:01,303 | INFO | sqlalchemy.engine.Engine | SELECT users.id, users.email, users.first_name, users.last_name, users.password_hash, users.status, users.account_type, users.school, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-10-22 17:39:01,303 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('abraham.salas.alfaro@gmail.com',)
2025-10-22 17:39:01,348 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:39:01,378 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:01,379 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:39:01,379 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] (datetime.datetime(2025, 10, 22, 23, 39, 1, 252986), 'POST', 'http://localhost:8000/auth/login', 200, '127.0.0.1', 99, 'null')
2025-10-22 17:39:01,382 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:39:36,412 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:46705]
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:39:36,413 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:39:36,414 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8d8050>}) about to wait for the following futures []
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8d8050>}) done waiting for dependent futures
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8d8050>}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e700ad0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e702660>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e701fd0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8d8050>}
2025-10-22 17:39:36,414 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/7bb1833cfdbb458f93202004e2c05195.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e701fd0> for transfer request: 0.
2025-10-22 17:39:36,414 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/7bb1833cfdbb458f93202004e2c05195.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:39:36,414 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/7bb1833cfdbb458f93202004e2c05195.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:39:36,414 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/7bb1833cfdbb458f93202004e2c05195.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e8d8980>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/7bb1833cfdbb458f93202004e2c05195.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:39:37,309 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:39:47,351 | INFO | app.controllers.audio | Transcripcin recibida session=40435535-3694-43ee-abfb-565e8a481e71: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:39:47,351 | INFO | app.logs.transcript | student | session=40435535-3694-43ee-abfb-565e8a481e71 | frequency=118.0 | text=pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:39:47,401 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:47,402 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:39:47,402 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:39:47,405 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:39:47,405 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:39:47,441 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:47,442 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:39:47,442 | INFO | sqlalchemy.engine.Engine | [cached since 0.03998s ago] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:39:47,444 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:39:47,445 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:39:47,448 | INFO | app.services.audio_pipeline | Frecuencia fuera de rango intent=ground_taxi_clearance freq=118.0 esperado=121.7, 121.70, 121.700
2025-10-22 17:39:47,448 | INFO | app.controllers.audio | Frecuencia invlida session=40435535-3694-43ee-abfb-565e8a481e71 intent=ground_taxi_clearance freq=118.0 reason=La frecuencia esperada para esta solicitud es 121.7, 121.70, 121.700.
2025-10-22 17:39:47,477 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:47,477 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:39:47,477 | INFO | sqlalchemy.engine.Engine | [cached since 0.07527s ago] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:39:47,480 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:39:47,480 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:39:47,483 | INFO | app.logs.transcript | controller | session=40435535-3694-43ee-abfb-565e8a481e71 | frequency=118.0 | intent=ground_taxi_clearance | fallback=None | text=La frecuencia esperada para esta solicitud es 121.7, 121.70, 121.700.
2025-10-22 17:39:48,989 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:39:48,990 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:39:48,990 | INFO | sqlalchemy.engine.Engine | [cached since 47.61s ago] (datetime.datetime(2025, 10, 22, 23, 39, 36, 411410), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12535, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:39:48,994 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:40:06,873 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:06,873 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:40:06,873 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:40:06,873 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:46705]
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:06,874 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:40:06,874 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:40:06,874 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911090>}) about to wait for the following futures []
2025-10-22 17:40:06,875 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911090>}) done waiting for dependent futures
2025-10-22 17:40:06,875 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911090>}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e860e10>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e861450>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e8e50f0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911090>}
2025-10-22 17:40:06,875 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/a00c3cdea4c244fd9e98b07e5cba58ab.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e8e50f0> for transfer request: 0.
2025-10-22 17:40:06,875 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:40:06,875 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/a00c3cdea4c244fd9e98b07e5cba58ab.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:40:06,875 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:40:06,875 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/a00c3cdea4c244fd9e98b07e5cba58ab.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:40:06,875 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/a00c3cdea4c244fd9e98b07e5cba58ab.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e911950>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/40435535-3694-43ee-abfb-565e8a481e71/a00c3cdea4c244fd9e98b07e5cba58ab.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:40:07,231 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:40:16,574 | INFO | app.controllers.audio | Transcripcin recibida session=40435535-3694-43ee-abfb-565e8a481e71: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:40:16,576 | INFO | app.logs.transcript | student | session=40435535-3694-43ee-abfb-565e8a481e71 | frequency=121.7 | text=pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:40:16,620 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:16,620 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:16,620 | INFO | sqlalchemy.engine.Engine | [cached since 29.22s ago] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:40:16,624 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:40:16,624 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:16,660 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:16,660 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:16,660 | INFO | sqlalchemy.engine.Engine | [cached since 29.26s ago] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:40:16,662 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:40:16,662 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:16,665 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:40:16,666 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona ...
2025-10-22 17:40:17,381 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:40:17,382 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:40:17,383 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:40:17,383 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:40:17,383 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:40:17,383 | INFO | app.controllers.audio | Frase final para Polly session=40435535-3694-43ee-abfb-565e8a481e71 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:40:17,427 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:17,428 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:17,428 | INFO | sqlalchemy.engine.Engine | [cached since 30.03s ago] (UUID('40435535-3694-43ee-abfb-565e8a481e71'),)
2025-10-22 17:40:17,430 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=40435535-3694-43ee-abfb-565e8a481e71
2025-10-22 17:40:17,431 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:17,434 | INFO | app.logs.transcript | controller | session=40435535-3694-43ee-abfb-565e8a481e71 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:40:18,476 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:18,477 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:40:18,477 | INFO | sqlalchemy.engine.Engine | [cached since 77.1s ago] (datetime.datetime(2025, 10, 22, 23, 40, 6, 873084), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 11551, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:40:18,484 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:40:46,138 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:46705]
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:40:46,139 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:40:46,140 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911950>}) about to wait for the following futures []
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911950>}) done waiting for dependent futures
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911950>}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e860050>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e860a50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e866f10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e911950>}
2025-10-22 17:40:46,140 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/ad3b9e8982234ba7b8421755bbf2da22.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e866f10> for transfer request: 0.
2025-10-22 17:40:46,140 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/ad3b9e8982234ba7b8421755bbf2da22.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:40:46,140 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/ad3b9e8982234ba7b8421755bbf2da22.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:40:46,140 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/ad3b9e8982234ba7b8421755bbf2da22.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e9111d0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/ad3b9e8982234ba7b8421755bbf2da22.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:40:46,433 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:40:55,936 | INFO | app.controllers.audio | Transcripcin recibida session=427db17f-fe02-4c55-8979-2903f0ff2b7f: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:40:55,936 | INFO | app.logs.transcript | student | session=427db17f-fe02-4c55-8979-2903f0ff2b7f | frequency=121.7 | text=pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:40:55,985 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:55,985 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:55,985 | INFO | sqlalchemy.engine.Engine | [cached since 68.58s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:40:55,988 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:40:55,988 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:56,024 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:56,025 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:56,025 | INFO | sqlalchemy.engine.Engine | [cached since 68.62s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:40:56,027 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:40:56,028 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:56,031 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:40:56,032 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona ...
2025-10-22 17:40:56,565 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:40:56,566 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:40:56,567 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:40:56,567 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:40:56,567 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:40:56,567 | INFO | app.controllers.audio | Frase final para Polly session=427db17f-fe02-4c55-8979-2903f0ff2b7f intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:40:56,618 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:56,619 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:40:56,619 | INFO | sqlalchemy.engine.Engine | [cached since 69.22s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:40:56,622 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:40:56,623 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:40:56,627 | INFO | app.logs.transcript | controller | session=427db17f-fe02-4c55-8979-2903f0ff2b7f | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:40:58,293 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:40:58,293 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:40:58,293 | INFO | sqlalchemy.engine.Engine | [cached since 116.9s ago] (datetime.datetime(2025, 10, 22, 23, 40, 46, 138431), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12106, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:40:58,296 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-22 17:42:02,144 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-22 17:42:02,145 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-22 17:42:02,146 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:46705]
2025-10-22 17:42:02,146 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-22 17:42:02,146 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-22 17:42:02,148 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:42:02,149 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8e6780>}) about to wait for the following futures []
2025-10-22 17:42:02,149 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8e6780>}) done waiting for dependent futures
2025-10-22 17:42:02,149 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8e6780>}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e8e50f0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e8e5ba0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e975450>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e8e6780>}
2025-10-22 17:42:02,149 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/82d20359f2c44c12ac424adb114e2ee1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e975450> for transfer request: 0.
2025-10-22 17:42:02,149 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-22 17:42:02,149 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/82d20359f2c44c12ac424adb114e2ee1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-22 17:42:02,149 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:42:02,149 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/82d20359f2c44c12ac424adb114e2ee1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-22 17:42:02,150 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/82d20359f2c44c12ac424adb114e2ee1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10e345550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10e8e6c40>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/427db17f-fe02-4c55-8979-2903f0ff2b7f/82d20359f2c44c12ac424adb114e2ee1.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-22 17:42:02,689 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-22 17:42:12,380 | INFO | app.controllers.audio | Transcripcin recibida session=427db17f-fe02-4c55-8979-2903f0ff2b7f: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:42:12,381 | INFO | app.logs.transcript | student | session=427db17f-fe02-4c55-8979-2903f0ff2b7f | frequency=121.7 | text=pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-22 17:42:12,446 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:42:12,446 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:42:12,446 | INFO | sqlalchemy.engine.Engine | [cached since 145s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:42:12,450 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:42:12,450 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:42:12,485 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:42:12,485 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:42:12,485 | INFO | sqlalchemy.engine.Engine | [cached since 145.1s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:42:12,487 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:42:12,488 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:42:12,491 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-22 17:42:12,492 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogos 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: pa superficie Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona ...
2025-10-22 17:42:12,872 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-22 17:42:12,873 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-22 17:42:12,874 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'missing_readback_items': 'qnh 3005, transponder 0522, alfa 2, pista 10', 'instruction_codes': ['readback_correction', 'acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-22 17:42:12,874 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-22 17:42:12,875 | INFO | app.services.audio_pipeline | Normalizacin de slots con advertencias (ground_taxi_clearance): ['readback_incomplete']
2025-10-22 17:42:12,875 | INFO | app.controllers.audio | Frase final para Polly session=427db17f-fe02-4c55-8979-2903f0ff2b7f intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:42:12,916 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:42:12,916 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-22 17:42:12,916 | INFO | sqlalchemy.engine.Engine | [cached since 145.5s ago] (UUID('427db17f-fe02-4c55-8979-2903f0ff2b7f'),)
2025-10-22 17:42:12,918 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=427db17f-fe02-4c55-8979-2903f0ff2b7f
2025-10-22 17:42:12,918 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-22 17:42:12,920 | INFO | app.logs.transcript | controller | session=427db17f-fe02-4c55-8979-2903f0ff2b7f | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, Corrija colacin: falta qnh 3005, transponder 0522, alfa 2, pista 10. recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-22 17:42:14,546 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-22 17:42:14,547 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-22 17:42:14,547 | INFO | sqlalchemy.engine.Engine | [cached since 193.2s ago] (datetime.datetime(2025, 10, 22, 23, 42, 2, 143168), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 12360, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-22 17:42:14,550 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:22:26,915 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-26 18:22:26,915 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:22:26,919 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-26 18:22:26,919 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:22:26,922 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-26 18:22:26,922 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:22:26,923 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:22:26,926 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-26 18:22:26,926 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-26 18:22:26,932 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-26 18:22:26,932 | INFO | sqlalchemy.engine.Engine | [cached since 0.006882s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-26 18:22:26,933 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-26 18:22:26,933 | INFO | sqlalchemy.engine.Engine | [cached since 0.007805s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-26 18:22:26,934 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-26 18:22:26,934 | INFO | sqlalchemy.engine.Engine | [cached since 0.008409s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-26 18:22:26,935 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-26 18:22:26,935 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-26 18:22:26,936 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-26 18:22:26,936 | INFO | sqlalchemy.engine.Engine | [cached since 0.001293s ago] ('account_type', 'pg_catalog')
2025-10-26 18:22:26,937 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:22:40,411 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:22:40,415 | INFO | sqlalchemy.engine.Engine | SELECT users.id, users.email, users.first_name, users.last_name, users.password_hash, users.status, users.account_type, users.school, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-10-26 18:22:40,415 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('abraham.salas.alfaro@gmail.com',)
2025-10-26 18:22:40,474 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:22:40,502 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:22:40,503 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-26 18:22:40,503 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] (datetime.datetime(2025, 10, 27, 0, 22, 40, 357609), 'POST', 'http://localhost:8000/auth/login', 200, '127.0.0.1', 120, 'null')
2025-10-26 18:22:40,508 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:23:55,241 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-26 18:23:55,242 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-26 18:23:55,243 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:23:55,243 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:23:55,243 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:36123]
2025-10-26 18:23:55,243 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:23:55,243 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-26 18:23:55,243 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-26 18:23:55,243 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ebd8050>}) about to wait for the following futures []
2025-10-26 18:23:55,243 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ebd8050>}) done waiting for dependent futures
2025-10-26 18:23:55,243 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ebd8050>}) with kwargs {'client': <botocore.client.S3 object at 0x10a631550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e9fcad0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10e9fe660>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e9fdfd0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ebd8050>}
2025-10-26 18:23:55,244 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/d7035aee35b243b4b0da1f865b9f7e24.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e9fdfd0> for transfer request: 0.
2025-10-26 18:23:55,244 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-26 18:23:55,244 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/d7035aee35b243b4b0da1f865b9f7e24.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-26 18:23:55,244 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-26 18:23:55,244 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/d7035aee35b243b4b0da1f865b9f7e24.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-26 18:23:55,244 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/d7035aee35b243b4b0da1f865b9f7e24.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10a631550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10ebd8980>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/d7035aee35b243b4b0da1f865b9f7e24.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-26 18:23:56,442 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-26 18:24:06,950 | INFO | app.controllers.audio | Transcripcin recibida session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-26 18:24:06,950 | INFO | app.logs.transcript | student | session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 | frequency=121.700 | text=Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.
2025-10-26 18:24:07,000 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:24:07,001 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:24:07,001 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:24:07,006 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:24:07,006 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:24:07,048 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:24:07,048 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:24:07,048 | INFO | sqlalchemy.engine.Engine | [cached since 0.04788s ago] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:24:07,051 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:24:07,052 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:24:07,055 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'plan de vuelo', 'zona eco']
2025-10-26 18:24:07,058 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogo 7000 pies dos almas a bordo. Capitn Salas Autonoma tres horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Alfa Noviembre India en hangar 37. Solicitamos abrir plan de vuelo a zona Eco va paso de Oomogo 7000 p...
2025-10-26 18:24:07,944 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista en uso uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-26 18:24:07,945 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista en uso uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-26 18:24:07,946 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-26 18:24:07,946 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-26 18:24:07,947 | INFO | app.controllers.audio | Frase final para Polly session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-26 18:24:08,003 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:24:08,003 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:24:08,004 | INFO | sqlalchemy.engine.Engine | [cached since 1.003s ago] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:24:08,008 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:24:08,009 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:24:08,012 | INFO | app.logs.transcript | controller | session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 | frequency=121.700 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-26 18:24:11,345 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:24:11,345 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-26 18:24:11,345 | INFO | sqlalchemy.engine.Engine | [cached since 90.83s ago] (datetime.datetime(2025, 10, 27, 0, 23, 55, 241103), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 16052, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-26 18:24:11,348 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:25:36,782 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:222]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_field with data[260:279]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_value with data[281:337]
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:25:36,783 | DEBUG | python_multipart.multipart | Calling on_header_field with data[339:351]
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_header_value with data[353:363]
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_part_data with data[367:29751]
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-26 18:25:36,784 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-26 18:25:36,784 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-26 18:25:36,784 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec10910>}) about to wait for the following futures []
2025-10-26 18:25:36,784 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec10910>}) done waiting for dependent futures
2025-10-26 18:25:36,784 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec10910>}) with kwargs {'client': <botocore.client.S3 object at 0x10a631550>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10eb64e10>, 'osutil': <s3transfer.utils.OSUtils object at 0x10eb65450>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10ebe50f0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ec10910>}
2025-10-26 18:25:36,784 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/586ee8e2d93749a7905e046ebd5701bf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10ebe50f0> for transfer request: 0.
2025-10-26 18:25:36,784 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-26 18:25:36,784 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/586ee8e2d93749a7905e046ebd5701bf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-26 18:25:36,784 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-26 18:25:36,784 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/586ee8e2d93749a7905e046ebd5701bf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-26 18:25:36,785 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/586ee8e2d93749a7905e046ebd5701bf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10a631550>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10ec11bd0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/316c3f31-281a-4ef1-a8a7-cc4deabf8d02/586ee8e2d93749a7905e046ebd5701bf.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-26 18:25:37,654 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-26 18:25:48,093 | INFO | app.controllers.audio | Transcripcin recibida session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02: QNH3005 Transponder 0522. Lo haremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India.
2025-10-26 18:25:48,094 | INFO | app.logs.transcript | student | session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 | frequency=121.700 | text=QNH3005 Transponder 0522. Lo haremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India.
2025-10-26 18:25:48,132 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:25:48,132 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:25:48,132 | INFO | sqlalchemy.engine.Engine | [cached since 101.1s ago] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:25:48,135 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:25:48,135 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:25:48,167 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:25:48,167 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:25:48,168 | INFO | sqlalchemy.engine.Engine | [cached since 101.2s ago] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:25:48,170 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:25:48,170 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:25:48,173 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['pista 10', 'transponder', 'pista', 'transponder', 'qnh']
2025-10-26 18:25:48,174 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
QNH3005 Transponder 0522. Lo haremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: QNH3005 Transponder 0522. Lo haremos va Alfa dos Alfa al.de espera pista 10 Alfa Noviembre India. (freq=121.700)

Debes extraer la intencin y los slots solicitados.
Slots o...
2025-10-26 18:25:48,646 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "QNH3005",
    "runway_human": "pista 10"
  },
  "notes": {
    "observations": []
  }
}
2025-10-26 18:25:48,647 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'QNH3005', 'runway': None, 'runway_human': 'pista 10', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-26 18:25:48,647 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'AAANI', 'callsign_spelled': 'QNH3005', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-26 18:25:48,647 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-26 18:25:48,647 | INFO | app.controllers.audio | Frase final para Polly session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 intent=ground_taxi_clearance fallback=False: QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-26 18:25:48,686 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:25:48,686 | INFO | sqlalchemy.engine.Engine | SELECT training_contexts.id, training_contexts.training_session_id, training_contexts.user_id, training_contexts.context, training_contexts.created_at, training_contexts.updated_at 
FROM training_contexts 
WHERE training_contexts.training_session_id = $1::UUID
2025-10-26 18:25:48,686 | INFO | sqlalchemy.engine.Engine | [cached since 101.7s ago] (UUID('316c3f31-281a-4ef1-a8a7-cc4deabf8d02'),)
2025-10-26 18:25:48,689 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=316c3f31-281a-4ef1-a8a7-cc4deabf8d02
2025-10-26 18:25:48,689 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-26 18:25:48,693 | INFO | app.logs.transcript | controller | session=316c3f31-281a-4ef1-a8a7-cc4deabf8d02 | frequency=121.700 | intent=ground_taxi_clearance | fallback=None | text=QNH3005, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-26 18:25:53,684 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:25:53,685 | INFO | sqlalchemy.engine.Engine | INSERT INTO request_logs (timestamp, method, url, status_code, client_ip, duration_ms, "user") VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::INTEGER, $5::VARCHAR, $6::INTEGER, $7::JSON) RETURNING request_logs.id
2025-10-26 18:25:53,685 | INFO | sqlalchemy.engine.Engine | [cached since 193.2s ago] (datetime.datetime(2025, 10, 27, 0, 25, 36, 782262), 'POST', 'http://localhost:8000/audio/analyze', 200, '127.0.0.1', 16853, '{"id": 1, "email": "abraham.salas.alfaro@gmail.com", "name": "Abraham Salas", "accountType": "student", "school": null}')
2025-10-26 18:25:53,688 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:48:54,589 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-26 18:48:54,589 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:48:54,592 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-26 18:48:54,592 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:48:54,594 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-26 18:48:54,594 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-26 18:48:54,595 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-26 18:48:54,595 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-26 18:48:54,596 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-26 18:48:54,600 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-26 18:48:54,600 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-26 18:48:54,605 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-26 18:48:54,605 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-26 18:48:54,608 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-26 18:48:54,608 | INFO | sqlalchemy.engine.Engine | [cached since 0.003715s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-26 18:48:54,609 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-26 18:48:54,609 | INFO | sqlalchemy.engine.Engine | [cached since 0.004611s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-26 18:48:54,610 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-26 18:48:54,610 | INFO | sqlalchemy.engine.Engine | [cached since 0.005302s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-26 18:48:54,610 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-26 18:48:54,610 | INFO | sqlalchemy.engine.Engine | [cached since 0.005959s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-26 18:48:54,612 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-26 18:48:54,612 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-26 18:48:54,614 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-26 18:48:54,614 | INFO | sqlalchemy.engine.Engine | [cached since 0.002721s ago] ('account_type', 'pg_catalog')
2025-10-26 18:48:54,618 | INFO | sqlalchemy.engine.Engine | 
CREATE TABLE ecowhiskey.hello_messages (
	id SERIAL NOT NULL, 
	message TEXT NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


2025-10-26 18:48:54,618 | INFO | sqlalchemy.engine.Engine | [no key 0.00009s] ()
2025-10-26 18:48:54,634 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_hello_messages_created_at ON ecowhiskey.hello_messages (created_at)
2025-10-26 18:48:54,634 | INFO | sqlalchemy.engine.Engine | [no key 0.00014s] ()
2025-10-26 18:48:54,636 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_hello_messages_id ON ecowhiskey.hello_messages (id)
2025-10-26 18:48:54,636 | INFO | sqlalchemy.engine.Engine | [no key 0.00006s] ()
2025-10-26 18:48:54,637 | INFO | sqlalchemy.engine.Engine | 
CREATE TABLE ecowhiskey.request_logs (
	id SERIAL NOT NULL, 
	timestamp TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	method VARCHAR(10) NOT NULL, 
	url VARCHAR(2048) NOT NULL, 
	status_code INTEGER NOT NULL, 
	client_ip VARCHAR(64), 
	duration_ms INTEGER, 
	session_id VARCHAR(512), 
	session_fingerprint VARCHAR(64), 
	session_user_id VARCHAR(128), 
	session_started_at TIMESTAMP WITHOUT TIME ZONE, 
	session_expires_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-26 18:48:54,637 | INFO | sqlalchemy.engine.Engine | [no key 0.00006s] ()
2025-10-26 18:48:54,640 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_request_logs_session_fingerprint ON ecowhiskey.request_logs (session_fingerprint)
2025-10-26 18:48:54,640 | INFO | sqlalchemy.engine.Engine | [no key 0.00005s] ()
2025-10-26 18:48:54,642 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_request_logs_timestamp ON ecowhiskey.request_logs (timestamp)
2025-10-26 18:48:54,642 | INFO | sqlalchemy.engine.Engine | [no key 0.00006s] ()
2025-10-26 18:48:54,643 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_request_logs_id ON ecowhiskey.request_logs (id)
2025-10-26 18:48:54,643 | INFO | sqlalchemy.engine.Engine | [no key 0.00005s] ()
2025-10-26 18:48:54,644 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_request_logs_session_user_id ON ecowhiskey.request_logs (session_user_id)
2025-10-26 18:48:54,644 | INFO | sqlalchemy.engine.Engine | [no key 0.00004s] ()
2025-10-26 18:48:54,645 | INFO | sqlalchemy.engine.Engine | 
CREATE TABLE ecowhiskey.schools (
	id SERIAL NOT NULL, 
	name VARCHAR(120) NOT NULL, 
	value VARCHAR(20) NOT NULL, 
	location VARCHAR(120) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


2025-10-26 18:48:54,645 | INFO | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2025-10-26 18:48:54,647 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_schools_id ON ecowhiskey.schools (id)
2025-10-26 18:48:54,647 | INFO | sqlalchemy.engine.Engine | [no key 0.00008s] ()
2025-10-26 18:48:54,648 | INFO | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_schools_value ON ecowhiskey.schools (value)
2025-10-26 18:48:54,648 | INFO | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2025-10-26 18:48:54,649 | INFO | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_schools_name ON ecowhiskey.schools (name)
2025-10-26 18:48:54,649 | INFO | sqlalchemy.engine.Engine | [no key 0.00005s] ()
2025-10-26 18:48:54,650 | INFO | sqlalchemy.engine.Engine | 
CREATE TABLE ecowhiskey.users (
	id SERIAL NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	first_name VARCHAR(50) NOT NULL, 
	last_name VARCHAR(50) NOT NULL, 
	password_hash VARCHAR(256) NOT NULL, 
	status user_status NOT NULL, 
	account_type account_type NOT NULL, 
	school_id INTEGER, 
	photo TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT 'NOW()' NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT 'NOW()' NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES ecowhiskey.schools (id) ON DELETE SET NULL
)


2025-10-26 18:48:54,650 | INFO | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2025-10-26 18:48:54,653 | INFO | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_email ON ecowhiskey.users (email)
2025-10-26 18:48:54,653 | INFO | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2025-10-26 18:48:54,654 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_users_id ON ecowhiskey.users (id)
2025-10-26 18:48:54,654 | INFO | sqlalchemy.engine.Engine | [no key 0.00006s] ()
2025-10-26 18:48:54,655 | INFO | sqlalchemy.engine.Engine | 
CREATE TABLE ecowhiskey.training_contexts (
	id UUID NOT NULL, 
	training_session_id UUID NOT NULL, 
	user_id INTEGER NOT NULL, 
	context JSONB NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT 'NOW()' NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT 'NOW()' NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (training_session_id), 
	FOREIGN KEY(user_id) REFERENCES ecowhiskey.users (id) ON DELETE CASCADE
)


2025-10-26 18:48:54,655 | INFO | sqlalchemy.engine.Engine | [no key 0.00006s] ()
2025-10-26 18:48:54,657 | INFO | sqlalchemy.engine.Engine | CREATE INDEX ix_training_contexts_user_id ON ecowhiskey.training_contexts (user_id)
2025-10-26 18:48:54,657 | INFO | sqlalchemy.engine.Engine | [no key 0.00005s] ()
2025-10-26 18:48:54,658 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-26 18:48:54,658 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-26 18:48:54,658 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-26 18:48:54,658 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-26 18:48:54,662 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-26 18:48:54,662 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] ()
2025-10-26 18:48:54,677 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-26 18:48:54,688 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 18:13:52,710 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 18:13:52,710 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 18:13:52,713 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 18:13:52,713 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 18:13:52,715 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 18:13:52,715 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 18:13:52,716 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:13:52,716 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 18:13:52,716 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 18:13:52,718 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:13:52,718 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 18:13:52,721 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 18:13:52,721 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 18:13:52,724 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 18:13:52,724 | INFO | sqlalchemy.engine.Engine | [cached since 0.003143s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 18:13:52,724 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 18:13:52,725 | INFO | sqlalchemy.engine.Engine | [cached since 0.003989s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 18:13:52,725 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 18:13:52,725 | INFO | sqlalchemy.engine.Engine | [cached since 0.004563s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 18:13:52,726 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 18:13:52,726 | INFO | sqlalchemy.engine.Engine | [cached since 0.005011s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 18:13:52,727 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 18:13:52,727 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-28 18:13:52,732 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 18:13:52,732 | INFO | sqlalchemy.engine.Engine | [cached since 0.004797s ago] ('account_type', 'pg_catalog')
2025-10-28 18:13:52,733 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 18:13:52,734 | INFO | sqlalchemy.engine.Engine | [generated in 0.00114s] ()
2025-10-28 18:13:52,738 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 18:13:52,738 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 18:13:52,742 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 18:13:52,742 | INFO | sqlalchemy.engine.Engine | [generated in 0.00062s] ()
2025-10-28 18:13:52,763 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 18:13:52,769 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 18:15:54,032 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:15:54,032 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:15:54,032 | INFO | sqlalchemy.engine.Engine | [cached since 121.3s ago] ()
2025-10-28 18:15:54,046 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:15:54,046 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:15:54,063 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:16:02,746 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:16:02,746 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:16:02,746 | INFO | sqlalchemy.engine.Engine | [cached since 130s ago] ()
2025-10-28 18:16:02,748 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:16:02,748 | INFO | sqlalchemy.engine.Engine | [cached since 8.702s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:16:02,761 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:16:11,755 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:16:11,755 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:16:11,755 | INFO | sqlalchemy.engine.Engine | [cached since 139s ago] ()
2025-10-28 18:16:11,757 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:16:11,757 | INFO | sqlalchemy.engine.Engine | [cached since 17.71s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:16:11,772 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:16:30,562 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:16:30,563 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:16:30,563 | INFO | sqlalchemy.engine.Engine | [cached since 157.8s ago] ()
2025-10-28 18:16:30,565 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:16:30,566 | INFO | sqlalchemy.engine.Engine | [cached since 36.52s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:16:30,581 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:17:40,470 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:17:40,471 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:17:40,471 | INFO | sqlalchemy.engine.Engine | [cached since 227.8s ago] ()
2025-10-28 18:17:40,473 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:17:40,473 | INFO | sqlalchemy.engine.Engine | [cached since 106.4s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:17:40,494 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:17:52,085 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:17:52,085 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:17:52,085 | INFO | sqlalchemy.engine.Engine | [cached since 239.4s ago] ()
2025-10-28 18:17:52,088 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:17:52,088 | INFO | sqlalchemy.engine.Engine | [cached since 118s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:17:52,102 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:18:09,570 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:18:09,571 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:18:09,571 | INFO | sqlalchemy.engine.Engine | [cached since 256.9s ago] ()
2025-10-28 18:18:09,573 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:18:09,573 | INFO | sqlalchemy.engine.Engine | [cached since 135.5s ago] ('abraham.salas.alfaro@gmail.com',)
2025-10-28 18:18:09,585 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:18:38,514 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:18:38,514 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:18:38,515 | INFO | sqlalchemy.engine.Engine | [cached since 285.8s ago] ()
2025-10-28 18:18:38,522 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:18:38,522 | INFO | sqlalchemy.engine.Engine | [cached since 164.5s ago] ('hola@mail.com',)
2025-10-28 18:18:38,554 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.users (email, first_name, last_name, password_hash, status, account_type, school_id, photo) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::user_status, $6::account_type, $7::INTEGER, $8::VARCHAR) RETURNING ecowhiskey.users.id, ecowhiskey.users.created_at, ecowhiskey.users.updated_at
2025-10-28 18:18:38,554 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ('hola@mail.com', 'hola', 'hola', '1a3E7APp+uQ2ErUCzhJTb2zFr7yDt+gGkjfAlWjidb6XS1uMMVLF9PQNcn9Almz7', 'ACTIVE', 'STUDENT', None, None)
2025-10-28 18:18:38,558 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 18:18:38,587 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:18:38,589 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 18:18:38,589 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] (1,)
2025-10-28 18:18:38,597 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:18:51,107 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:18:51,108 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:18:51,108 | INFO | sqlalchemy.engine.Engine | [cached since 298.4s ago] ()
2025-10-28 18:18:51,110 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:18:51,111 | INFO | sqlalchemy.engine.Engine | [cached since 177.1s ago] ('hola@gmail.com',)
2025-10-28 18:18:51,127 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:19:06,166 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:19:06,167 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:19:06,167 | INFO | sqlalchemy.engine.Engine | [cached since 313.5s ago] ()
2025-10-28 18:19:06,169 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:19:06,169 | INFO | sqlalchemy.engine.Engine | [cached since 192.1s ago] ('hola@gmail.com',)
2025-10-28 18:19:06,185 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:19:28,744 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:19:28,744 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:19:28,744 | INFO | sqlalchemy.engine.Engine | [cached since 336s ago] ()
2025-10-28 18:19:28,747 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:19:28,747 | INFO | sqlalchemy.engine.Engine | [cached since 214.7s ago] ('hola@gmail.com',)
2025-10-28 18:19:28,762 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 18:19:53,748 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 18:19:53,749 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 18:19:53,749 | INFO | sqlalchemy.engine.Engine | [cached since 361s ago] ()
2025-10-28 18:19:53,751 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 18:19:53,751 | INFO | sqlalchemy.engine.Engine | [cached since 239.7s ago] ('hola@mail.com',)
2025-10-28 18:19:53,789 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:37:36,832 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:37:36,832 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:37:36,835 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:37:36,835 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:37:36,837 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:37:36,837 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:37:36,838 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:37:36,838 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:37:36,838 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:37:36,840 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:37:36,840 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 20:37:36,855 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:37:36,855 | INFO | sqlalchemy.engine.Engine | [generated in 0.00021s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:37:36,874 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:37:36,874 | INFO | sqlalchemy.engine.Engine | [cached since 0.01917s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:37:36,876 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:37:36,877 | INFO | sqlalchemy.engine.Engine | [cached since 0.02142s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:37:36,880 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:37:36,880 | INFO | sqlalchemy.engine.Engine | [cached since 0.02516s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:37:36,881 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:37:36,881 | INFO | sqlalchemy.engine.Engine | [cached since 0.02605s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:37:36,882 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:37:36,882 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-28 20:37:36,884 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:37:36,884 | INFO | sqlalchemy.engine.Engine | [cached since 0.002042s ago] ('account_type', 'pg_catalog')
2025-10-28 20:37:36,885 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:37:36,885 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:37:36,888 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:37:36,888 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:37:36,890 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:37:36,890 | INFO | sqlalchemy.engine.Engine | [generated in 0.00026s] ()
2025-10-28 20:37:36,923 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:37:36,933 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:37:43,817 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:37:43,818 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:37:43,818 | INFO | sqlalchemy.engine.Engine | [cached since 6.977s ago] ()
2025-10-28 20:37:43,834 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 20:37:43,834 | INFO | sqlalchemy.engine.Engine | [generated in 0.00019s] ('hello@mail.com',)
2025-10-28 20:37:43,850 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:38:06,126 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:38:06,127 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:38:06,127 | INFO | sqlalchemy.engine.Engine | [cached since 29.29s ago] ()
2025-10-28 20:38:06,130 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 20:38:06,130 | INFO | sqlalchemy.engine.Engine | [cached since 22.3s ago] ('hola@mail.com',)
2025-10-28 20:38:06,167 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:38:12,164 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:38:12,165 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:38:12,165 | INFO | sqlalchemy.engine.Engine | [cached since 35.32s ago] ()
2025-10-28 20:38:12,168 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 20:38:12,168 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] (1,)
2025-10-28 20:38:12,180 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB) RETURNING ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at
2025-10-28 20:38:12,180 | INFO | sqlalchemy.engine.Engine | [generated in 0.00023s] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'), UUID('ced30892-3556-4236-9d65-3419a030e1c3'), 1, '{"route": "MRPV-MRPV", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1013", "windDirection": "150", "windSpeed": "4", "wind": "150/4"}, "objectives": []}')
2025-10-28 20:38:12,182 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:38:12,214 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:38:12,215 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-10-28 20:38:12,215 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:38:12,217 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:41:37,233 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:41:37,234 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 20:41:37,234 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 20:41:37,234 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:41:37,234 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:41:37,234 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:54373]
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:41:37,235 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 20:41:37,248 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:41:37,249 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e429550>}) about to wait for the following futures []
2025-10-28 20:41:37,249 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e429550>}) done waiting for dependent futures
2025-10-28 20:41:37,250 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e429550>}) with kwargs {'client': <botocore.client.S3 object at 0x11d461a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11e0767b0>, 'osutil': <s3transfer.utils.OSUtils object at 0x11e4286e0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11e428d70>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e429550>}
2025-10-28 20:41:37,250 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/b2c151ba3ade4102a69ebbd59deaedf9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11e428d70> for transfer request: 0.
2025-10-28 20:41:37,250 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:41:37,250 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/b2c151ba3ade4102a69ebbd59deaedf9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 20:41:37,250 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:41:37,250 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/b2c151ba3ade4102a69ebbd59deaedf9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 20:41:37,250 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/b2c151ba3ade4102a69ebbd59deaedf9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x11d461a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11e429e80>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/b2c151ba3ade4102a69ebbd59deaedf9.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 20:41:38,224 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:41:48,346 | INFO | app.controllers.audio | Transcripcin recibida session=ee29f855-1899-4d82-8cf9-caca02a56c63: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.
2025-10-28 20:41:48,347 | INFO | app.logs.transcript | student | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | text=Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.
2025-10-28 20:41:48,400 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:41:48,402 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:41:48,402 | INFO | sqlalchemy.engine.Engine | [generated in 0.00025s] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:41:48,406 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=ee29f855-1899-4d82-8cf9-caca02a56c63
2025-10-28 20:41:48,406 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:41:48,441 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:41:48,441 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:41:48,441 | INFO | sqlalchemy.engine.Engine | [cached since 0.0394s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:41:48,443 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=ee29f855-1899-4d82-8cf9-caca02a56c63
2025-10-28 20:41:48,444 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:41:48,447 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'almas a bordo', 'superficie', 'plan de vuelo']
2025-10-28 20:41:48,447 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de ...
2025-10-28 20:41:49,299 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-28 20:41:49,300 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-28 20:41:49,301 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-28 20:41:49,301 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-28 20:41:49,302 | INFO | app.controllers.audio | Frase final para Polly session=ee29f855-1899-4d82-8cf9-caca02a56c63 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:41:49,355 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:41:49,355 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:41:49,355 | INFO | sqlalchemy.engine.Engine | [cached since 0.9536s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:41:49,359 | WARNING | app.services.context_repository | No se puede registrar turno; TrainingContext inexistente session_id=ee29f855-1899-4d82-8cf9-caca02a56c63
2025-10-28 20:41:49,359 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:41:49,364 | INFO | app.logs.transcript | controller | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:45:07,563 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:45:07,563 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:07,566 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:45:07,566 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:07,568 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:45:07,568 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:07,569 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:45:07,570 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:45:07,570 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:45:07,571 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:45:07,571 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:45:07,573 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:07,573 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:07,578 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:07,578 | INFO | sqlalchemy.engine.Engine | [cached since 0.004984s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:07,579 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:07,579 | INFO | sqlalchemy.engine.Engine | [cached since 0.005892s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:07,580 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:07,580 | INFO | sqlalchemy.engine.Engine | [cached since 0.006536s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:07,580 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:07,580 | INFO | sqlalchemy.engine.Engine | [cached since 0.007242s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:07,582 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:45:07,582 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 20:45:07,584 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:45:07,584 | INFO | sqlalchemy.engine.Engine | [cached since 0.002434s ago] ('account_type', 'pg_catalog')
2025-10-28 20:45:07,585 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:45:07,585 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] ()
2025-10-28 20:45:07,587 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:45:07,587 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:45:07,589 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:45:07,589 | INFO | sqlalchemy.engine.Engine | [generated in 0.00029s] ()
2025-10-28 20:45:07,603 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:45:07,618 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:45:23,225 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:45:23,225 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:23,228 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:45:23,228 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:23,230 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:45:23,230 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:45:23,232 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:45:23,232 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:45:23,232 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 20:45:23,234 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:45:23,234 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 20:45:23,237 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:23,237 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:23,241 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:23,241 | INFO | sqlalchemy.engine.Engine | [cached since 0.003787s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:23,242 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:23,242 | INFO | sqlalchemy.engine.Engine | [cached since 0.004722s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:23,242 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:23,242 | INFO | sqlalchemy.engine.Engine | [cached since 0.005391s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:23,243 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:45:23,243 | INFO | sqlalchemy.engine.Engine | [cached since 0.006221s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:45:23,245 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:45:23,245 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-28 20:45:23,247 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:45:23,247 | INFO | sqlalchemy.engine.Engine | [cached since 0.002566s ago] ('account_type', 'pg_catalog')
2025-10-28 20:45:23,248 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:45:23,248 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:45:23,250 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:45:23,250 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:45:23,254 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:45:23,255 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ()
2025-10-28 20:45:23,275 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:45:23,283 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:53:47,165 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:53:47,165 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:53:47,168 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:53:47,169 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:53:47,172 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:53:47,172 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:53:47,174 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:53:47,174 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:53:47,174 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:53:47,176 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:53:47,176 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:53:47,178 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:53:47,179 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:53:47,182 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:53:47,182 | INFO | sqlalchemy.engine.Engine | [cached since 0.003594s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:53:47,184 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:53:47,184 | INFO | sqlalchemy.engine.Engine | [cached since 0.005249s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:53:47,185 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:53:47,185 | INFO | sqlalchemy.engine.Engine | [cached since 0.006286s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:53:47,185 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:53:47,185 | INFO | sqlalchemy.engine.Engine | [cached since 0.007042s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:53:47,187 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:53:47,187 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-28 20:53:47,189 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:53:47,189 | INFO | sqlalchemy.engine.Engine | [cached since 0.002609s ago] ('account_type', 'pg_catalog')
2025-10-28 20:53:47,190 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:53:47,190 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:53:47,192 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:53:47,192 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:53:47,195 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:53:47,195 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 20:53:47,210 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:53:47,217 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:54:06,379 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:54:06,379 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:06,381 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:54:06,381 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:06,383 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:54:06,383 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:06,384 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:54:06,385 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:54:06,385 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:54:06,386 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:54:06,386 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:54:06,388 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:06,388 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:06,392 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:06,392 | INFO | sqlalchemy.engine.Engine | [cached since 0.003376s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:06,393 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:06,393 | INFO | sqlalchemy.engine.Engine | [cached since 0.004504s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:06,394 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:06,394 | INFO | sqlalchemy.engine.Engine | [cached since 0.005423s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:06,395 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:06,395 | INFO | sqlalchemy.engine.Engine | [cached since 0.006354s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:06,396 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:54:06,396 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('user_status', 'pg_catalog')
2025-10-28 20:54:06,398 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:54:06,399 | INFO | sqlalchemy.engine.Engine | [cached since 0.002202s ago] ('account_type', 'pg_catalog')
2025-10-28 20:54:06,399 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:54:06,399 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:54:06,401 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:54:06,401 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 20:54:06,402 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:54:06,403 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 20:54:06,415 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:54:06,428 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:54:33,076 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 20:54:33,076 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:33,079 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 20:54:33,079 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:33,081 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 20:54:33,081 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 20:54:33,082 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:54:33,083 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 20:54:33,083 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 20:54:33,084 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:54:33,084 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:54:33,086 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:33,086 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:33,090 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:33,090 | INFO | sqlalchemy.engine.Engine | [cached since 0.003576s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:33,091 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:33,091 | INFO | sqlalchemy.engine.Engine | [cached since 0.004441s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:33,092 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:33,092 | INFO | sqlalchemy.engine.Engine | [cached since 0.005384s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:33,092 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 20:54:33,092 | INFO | sqlalchemy.engine.Engine | [cached since 0.006309s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 20:54:33,094 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:54:33,094 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-28 20:54:33,096 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 20:54:33,096 | INFO | sqlalchemy.engine.Engine | [cached since 0.001975s ago] ('account_type', 'pg_catalog')
2025-10-28 20:54:33,097 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 20:54:33,097 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-28 20:54:33,099 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 20:54:33,099 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 20:54:33,100 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 20:54:33,100 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ()
2025-10-28 20:54:33,115 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:54:33,123 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 20:55:51,355 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:54373]
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:55:51,356 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 20:55:51,379 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:55:51,379 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:55:51,379 | INFO | sqlalchemy.engine.Engine | [cached since 78.29s ago] ()
2025-10-28 20:55:51,385 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 20:55:51,385 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] (1,)
2025-10-28 20:55:51,397 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:55:51,397 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11041e660>}) about to wait for the following futures []
2025-10-28 20:55:51,398 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11041e660>}) done waiting for dependent futures
2025-10-28 20:55:51,398 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11041e660>}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11041d550>, 'osutil': <s3transfer.utils.OSUtils object at 0x11041d7f0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11041de80>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11041e660>}
2025-10-28 20:55:51,398 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/4d130aa9fc224448bc44c95e16406488.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11041de80> for transfer request: 0.
2025-10-28 20:55:51,398 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:55:51,398 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/4d130aa9fc224448bc44c95e16406488.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 20:55:51,398 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/4d130aa9fc224448bc44c95e16406488.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 20:55:51,398 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/4d130aa9fc224448bc44c95e16406488.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11041ef90>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/4d130aa9fc224448bc44c95e16406488.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 20:55:51,398 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:55:52,628 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:56:02,747 | INFO | app.controllers.audio | Transcripcin recibida session=ee29f855-1899-4d82-8cf9-caca02a56c63: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.
2025-10-28 20:56:02,747 | INFO | app.logs.transcript | student | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | text=Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.
2025-10-28 20:56:02,790 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:56:02,791 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:56:02,791 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:56:02,795 | DEBUG | app.services.context_repository | No TrainingContext encontrado para session_id=ee29f855-1899-4d82-8cf9-caca02a56c63
2025-10-28 20:56:02,795 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:56:02,829 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:56:02,829 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:56:02,829 | INFO | sqlalchemy.engine.Engine | [cached since 0.03831s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:56:02,833 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB) RETURNING ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at
2025-10-28 20:56:02,833 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] (UUID('b9561647-b7f6-4f34-a0b2-e22990ec8718'), UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'), 1, '{"scenario_id": "mrpv_vfr_departure", "scenario": {"id": "mrpv_vfr_departure", "display_name": "MRPV VFR salida Zona Eco", "airport": "MRPV", "freque ... (1294 characters truncated) ... s 7000 pies dos almas a bordo. Capit\\u00e1n Salas. tres horas y media de combustible.", "frequency": "121.7", "timestamp": "2025-10-29T02:56:02Z"}]}')
2025-10-28 20:56:02,835 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:56:02,843 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'almas a bordo', 'superficie', 'plan de vuelo']
2025-10-28 20:56:02,843 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de ...
2025-10-28 20:56:03,689 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "Pista uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-28 20:56:03,689 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'Pista uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-28 20:56:03,690 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANIE', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-28 20:56:03,690 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-28 20:56:03,691 | INFO | app.controllers.audio | Frase final para Polly session=ee29f855-1899-4d82-8cf9-caca02a56c63 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:56:03,735 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:56:03,736 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:56:03,736 | INFO | sqlalchemy.engine.Engine | [cached since 0.9445s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:56:03,739 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:56:03,742 | INFO | app.logs.transcript | controller | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:56:05,973 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:57:13,853 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:14845]
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 20:57:13,854 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 20:57:13,891 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:57:13,891 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 20:57:13,891 | INFO | sqlalchemy.engine.Engine | [cached since 160.8s ago] ()
2025-10-28 20:57:13,893 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 20:57:13,893 | INFO | sqlalchemy.engine.Engine | [cached since 82.51s ago] (1,)
2025-10-28 20:57:13,907 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:57:13,907 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113b24050>}) about to wait for the following futures []
2025-10-28 20:57:13,907 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113b24050>}) done waiting for dependent futures
2025-10-28 20:57:13,907 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113b24050>}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x110482c10>, 'osutil': <s3transfer.utils.OSUtils object at 0x110483890>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11047f360>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x113b24050>}
2025-10-28 20:57:13,907 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/28d6568b1a8644d78e4473e2391a7d1e.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11047f360> for transfer request: 0.
2025-10-28 20:57:13,907 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 20:57:13,908 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/28d6568b1a8644d78e4473e2391a7d1e.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 20:57:13,908 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/28d6568b1a8644d78e4473e2391a7d1e.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 20:57:13,908 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:57:13,908 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/28d6568b1a8644d78e4473e2391a7d1e.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x113b24910>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/28d6568b1a8644d78e4473e2391a7d1e.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 20:57:14,576 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 20:57:24,804 | INFO | app.controllers.audio | Transcripcin recibida session=ee29f855-1899-4d82-8cf9-caca02a56c63: Alfa Noviembre India en.de Espera. Estamos listos para despegar.
2025-10-28 20:57:24,805 | INFO | app.logs.transcript | student | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | text=Alfa Noviembre India en.de Espera. Estamos listos para despegar.
2025-10-28 20:57:24,861 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:57:24,861 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:57:24,861 | INFO | sqlalchemy.engine.Engine | [cached since 82.07s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:57:24,866 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 20:57:24,899 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:57:24,899 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:57:24,899 | INFO | sqlalchemy.engine.Engine | [cached since 82.11s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:57:24,901 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:57:24,904 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'ground_taxi_clearance', 'frequency_group': 'ground'}, {'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='Alfa Noviembre India en.de Espera. Estamos listos para despegar.'
2025-10-28 20:57:25,254 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.9,
  "frequencyGroup": "tower"
}
2025-10-28 20:57:25,254 | INFO | app.services.audio_pipeline | Frecuencia fuera de rango (LLM) intent=tower_takeoff_clearance freq=121.7 esperado=118.3, 118.30, 118.300
2025-10-28 20:57:25,255 | INFO | app.controllers.audio | Intent detectado tower_takeoff_clearance no coincide con frecuencia 121.7; aplicando fallback ground_taxi_clearance
2025-10-28 20:57:25,255 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en.de Espera. Estamos listos para despegar.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible. (freq=121.7)
...
2025-10-28 20:57:25,696 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-28 20:57:25,697 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-28 20:57:25,698 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANI', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-28 20:57:25,698 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-28 20:57:25,698 | INFO | app.controllers.audio | Frase final para Polly session=ee29f855-1899-4d82-8cf9-caca02a56c63 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:57:25,746 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 20:57:25,747 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 20:57:25,747 | INFO | sqlalchemy.engine.Engine | [cached since 82.96s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 20:57:25,751 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 20:57:25,755 | INFO | app.logs.transcript | controller | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 20:57:29,591 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:04:53,249 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:04:53,250 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:14845]
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:04:53,251 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 21:04:53,275 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:04:53,276 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:04:53,276 | INFO | sqlalchemy.engine.Engine | [cached since 620.2s ago] ()
2025-10-28 21:04:53,278 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:04:53,278 | INFO | sqlalchemy.engine.Engine | [cached since 541.9s ago] (1,)
2025-10-28 21:04:53,288 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:04:53,288 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x110483ed0>}) about to wait for the following futures []
2025-10-28 21:04:53,288 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x110483ed0>}) done waiting for dependent futures
2025-10-28 21:04:53,288 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x110483ed0>}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x110483250>, 'osutil': <s3transfer.utils.OSUtils object at 0x110483750>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x113b005a0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x110483ed0>}
2025-10-28 21:04:53,288 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/2f50c04ce3d94361baf112bdea47f40c.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x113b005a0> for transfer request: 0.
2025-10-28 21:04:53,288 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:04:53,288 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/2f50c04ce3d94361baf112bdea47f40c.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 21:04:53,288 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:04:53,288 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/2f50c04ce3d94361baf112bdea47f40c.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 21:04:53,289 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/2f50c04ce3d94361baf112bdea47f40c.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10bf11a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x113b34190>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/ee29f855-1899-4d82-8cf9-caca02a56c63/2f50c04ce3d94361baf112bdea47f40c.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 21:04:53,925 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:05:01,830 | INFO | app.controllers.audio | Transcripcin recibida session=ee29f855-1899-4d82-8cf9-caca02a56c63: Alfa Noviembre India en.de Espera. Estamos listos para despegar.
2025-10-28 21:05:01,830 | INFO | app.logs.transcript | student | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | text=Alfa Noviembre India en.de Espera. Estamos listos para despegar.
2025-10-28 21:05:01,863 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:05:01,864 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:05:01,864 | INFO | sqlalchemy.engine.Engine | [cached since 539.1s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 21:05:01,867 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:05:01,905 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:05:01,905 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:05:01,905 | INFO | sqlalchemy.engine.Engine | [cached since 539.1s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 21:05:01,908 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:05:01,911 | INFO | app.services.audio_pipeline | Clasificador LLM opciones=[{'id': 'ground_taxi_clearance', 'frequency_group': 'ground'}, {'id': 'tower_takeoff_clearance', 'frequency_group': 'tower'}] transcript='Alfa Noviembre India en.de Espera. Estamos listos para despegar.'
2025-10-28 21:05:02,281 | INFO | app.services.audio_pipeline | Clasificacin LLM cruda: {
  "intent": "tower_takeoff_clearance",
  "confidence": 0.9,
  "frequencyGroup": "tower"
}
2025-10-28 21:05:02,281 | INFO | app.services.audio_pipeline | Frecuencia fuera de rango (LLM) intent=tower_takeoff_clearance freq=121.7 esperado=118.3, 118.30, 118.300
2025-10-28 21:05:02,282 | INFO | app.controllers.audio | Intent detectado tower_takeoff_clearance no coincide con frecuencia 121.7; aplicando fallback ground_taxi_clearance
2025-10-28 21:05:02,282 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres un controlador de superficie en espaol (Costa Rica). Gestionas rodajes, puntos de espera y pistas activas. Responde nicamente en formato JSON vlido, sin comentarios ni texto adicional.
USER> Transcripcin textual del alumno:
Alfa Noviembre India en.de Espera. Estamos listos para despegar.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Condiciones de pista: Pista en uso uno cero
- Clima relevante: Viento 070/12, QNH 3005

Turnos previos:
  1. Student: Pos superficie Alfa Noviembre India solicitando abrir plan de vuelo a zona de entrenamiento Eco. Va Paso de Chagos 7000 pies dos almas a bordo. Capitn Salas. tres horas y media de combustible. (freq=121.7)
...
2025-10-28 21:05:02,731 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance: {
  "intent": "ground_taxi_clearance",
  "confidence": 0.8,
  "slots": {
    "callsign_spelled": "Alfa Noviembre India",
    "runway_human": "uno cero"
  },
  "notes": {
    "observations": []
  }
}
2025-10-28 21:05:02,732 | INFO | app.services.audio_pipeline | Respuesta LLM estructurada intent=ground_taxi_clearance slots={'callsign': None, 'callsign_spelled': 'Alfa Noviembre India', 'runway': None, 'runway_human': 'uno cero', 'instruction_code': None, 'instruction': None, 'heading': None, 'altitude_ft': None, 'instruction_codes': None, 'wind_direction': None, 'wind_speed': None, 'wind_report': None, 'qnh_value': None, 'squawk_code': None, 'taxi_route': None, 'advisory_text': None, 'climb_instruction': None, 'report_altitude_ft': None, 'next_frequency_phrase': None, 'souls_on_board': None, 'fuel_endurance_minutes': None}
2025-10-28 21:05:02,733 | INFO | app.services.audio_pipeline | Slots normalizados: {'callsign': 'ANI', 'callsign_spelled': 'Alfa Noviembre India', 'runway': '10', 'runway_human': 'uno cero', 'instruction_codes': ['acknowledge', 'runway_in_use', 'wind_report', 'squawk_assignment', 'qnh_assignment', 'taxi_clearance', 'advise_ready'], 'wind_direction': 70, 'wind_speed': 12, 'wind_report': '070/12', 'qnh_value': '3005', 'squawk_code': '0522', 'taxi_route': 'Alfa 2, Alfa', 'advisory_text': 'Avise listo', 'instruction_code': 'taxi_clearance'}
2025-10-28 21:05:02,733 | INFO | app.services.audio_pipeline | Plantilla renderizada intent=ground_taxi_clearance texto='Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo'
2025-10-28 21:05:02,734 | INFO | app.controllers.audio | Frase final para Polly session=ee29f855-1899-4d82-8cf9-caca02a56c63 intent=ground_taxi_clearance fallback=False: Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 21:05:02,784 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:05:02,784 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:05:02,784 | INFO | sqlalchemy.engine.Engine | [cached since 540s ago] (UUID('ee29f855-1899-4d82-8cf9-caca02a56c63'),)
2025-10-28 21:05:02,788 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:05:02,793 | INFO | app.logs.transcript | controller | session=ee29f855-1899-4d82-8cf9-caca02a56c63 | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=Alfa Noviembre India, recibido. Pista en uso uno cero. Viento 070/12. Transponder 0522. QNH 3005. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Avise listo
2025-10-28 21:05:06,268 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:10:15,997 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:10:15,997 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:15,999 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:10:15,999 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:16,000 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:10:16,000 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:16,001 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:10:16,002 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:10:16,002 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ()
2025-10-28 21:10:16,003 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:10:16,003 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:10:16,005 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:16,005 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:16,007 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:16,007 | INFO | sqlalchemy.engine.Engine | [cached since 0.002152s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:16,008 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:16,008 | INFO | sqlalchemy.engine.Engine | [cached since 0.002798s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:16,009 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:16,009 | INFO | sqlalchemy.engine.Engine | [cached since 0.003347s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:16,009 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:16,009 | INFO | sqlalchemy.engine.Engine | [cached since 0.003902s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:16,011 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:10:16,012 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-28 21:10:16,013 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:10:16,013 | INFO | sqlalchemy.engine.Engine | [cached since 0.001487s ago] ('account_type', 'pg_catalog')
2025-10-28 21:10:16,014 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:10:16,014 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:10:16,015 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:10:16,015 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:10:16,017 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:10:16,017 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:10:16,028 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:10:16,042 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:10:27,033 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:10:27,034 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:27,036 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:10:27,036 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:27,038 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:10:27,038 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:10:27,039 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:10:27,039 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:10:27,040 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:10:27,041 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:10:27,041 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:10:27,044 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:27,044 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:27,047 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:27,047 | INFO | sqlalchemy.engine.Engine | [cached since 0.003216s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:27,048 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:27,048 | INFO | sqlalchemy.engine.Engine | [cached since 0.004212s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:27,049 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:27,049 | INFO | sqlalchemy.engine.Engine | [cached since 0.005167s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:27,050 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:10:27,050 | INFO | sqlalchemy.engine.Engine | [cached since 0.006063s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:10:27,051 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:10:27,051 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:10:27,053 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:10:27,053 | INFO | sqlalchemy.engine.Engine | [cached since 0.002124s ago] ('account_type', 'pg_catalog')
2025-10-28 21:10:27,054 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:10:27,054 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:10:27,056 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:10:27,057 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:10:27,058 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:10:27,058 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:10:27,071 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:10:27,080 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:11:45,015 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:11:45,015 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:11:45,017 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:11:45,017 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:11:45,019 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:11:45,019 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:11:45,020 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:11:45,021 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:11:45,021 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:11:45,022 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:11:45,022 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:11:45,024 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:11:45,024 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:11:45,027 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:11:45,027 | INFO | sqlalchemy.engine.Engine | [cached since 0.003556s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:11:45,029 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:11:45,029 | INFO | sqlalchemy.engine.Engine | [cached since 0.005011s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:11:45,030 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:11:45,030 | INFO | sqlalchemy.engine.Engine | [cached since 0.00575s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:11:45,030 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:11:45,030 | INFO | sqlalchemy.engine.Engine | [cached since 0.006386s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:11:45,032 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:11:45,032 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:11:45,034 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:11:45,034 | INFO | sqlalchemy.engine.Engine | [cached since 0.00229s ago] ('account_type', 'pg_catalog')
2025-10-28 21:11:45,035 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:11:45,035 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:11:45,037 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:11:45,037 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:11:45,039 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:11:45,039 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ()
2025-10-28 21:11:45,055 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:11:45,064 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:12:08,614 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:12:08,614 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:08,616 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:12:08,616 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:08,618 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:12:08,618 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:08,619 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:12:08,620 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:12:08,620 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:12:08,621 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:12:08,621 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:12:08,623 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:08,623 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:08,626 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:08,627 | INFO | sqlalchemy.engine.Engine | [cached since 0.003232s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:08,627 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:08,627 | INFO | sqlalchemy.engine.Engine | [cached since 0.004025s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:08,628 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:08,628 | INFO | sqlalchemy.engine.Engine | [cached since 0.004658s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:08,629 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:08,629 | INFO | sqlalchemy.engine.Engine | [cached since 0.005258s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:08,630 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:08,630 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:12:08,632 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:08,632 | INFO | sqlalchemy.engine.Engine | [cached since 0.002065s ago] ('account_type', 'pg_catalog')
2025-10-28 21:12:08,633 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:12:08,633 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:12:08,634 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:12:08,634 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:12:08,636 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:12:08,636 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] ()
2025-10-28 21:12:08,652 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:12:08,662 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:12:37,612 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:12:37,612 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:37,614 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:12:37,614 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:37,617 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:12:37,617 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:37,618 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:12:37,619 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:12:37,619 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:12:37,620 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:12:37,620 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:12:37,622 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:37,622 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:37,626 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:37,626 | INFO | sqlalchemy.engine.Engine | [cached since 0.003636s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:37,627 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:37,627 | INFO | sqlalchemy.engine.Engine | [cached since 0.005205s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:37,629 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:37,629 | INFO | sqlalchemy.engine.Engine | [cached since 0.006468s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:37,629 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:37,630 | INFO | sqlalchemy.engine.Engine | [cached since 0.007218s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:37,631 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:37,631 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:12:37,633 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:37,633 | INFO | sqlalchemy.engine.Engine | [cached since 0.002209s ago] ('account_type', 'pg_catalog')
2025-10-28 21:12:37,634 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:12:37,634 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:12:37,635 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:12:37,635 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:12:37,637 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:12:37,637 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ()
2025-10-28 21:12:37,650 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:12:37,660 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:12:46,243 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:12:46,243 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:46,245 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:12:46,245 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:46,247 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:12:46,247 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:12:46,248 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:12:46,248 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:12:46,248 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:12:46,249 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:12:46,249 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:12:46,252 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:46,252 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:46,255 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:46,255 | INFO | sqlalchemy.engine.Engine | [cached since 0.003144s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:46,256 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:46,256 | INFO | sqlalchemy.engine.Engine | [cached since 0.00408s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:46,256 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:46,256 | INFO | sqlalchemy.engine.Engine | [cached since 0.005s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:46,257 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:12:46,257 | INFO | sqlalchemy.engine.Engine | [cached since 0.005859s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:12:46,259 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:46,259 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:12:46,261 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:12:46,261 | INFO | sqlalchemy.engine.Engine | [cached since 0.002499s ago] ('account_type', 'pg_catalog')
2025-10-28 21:12:46,262 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:12:46,262 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:12:46,263 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:12:46,263 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:12:46,265 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:12:46,265 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:12:46,279 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:12:46,287 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:22:14,588 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:22:14,588 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:22:14,590 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:22:14,590 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:22:14,591 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:22:14,591 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:22:14,592 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:22:14,593 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:22:14,593 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:22:14,594 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:22:14,594 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:22:14,596 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:22:14,596 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:22:14,598 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:22:14,598 | INFO | sqlalchemy.engine.Engine | [cached since 0.00201s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:22:14,598 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:22:14,598 | INFO | sqlalchemy.engine.Engine | [cached since 0.002614s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:22:14,599 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:22:14,599 | INFO | sqlalchemy.engine.Engine | [cached since 0.003108s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:22:14,599 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:22:14,600 | INFO | sqlalchemy.engine.Engine | [cached since 0.003681s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:22:14,601 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:22:14,601 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:22:14,602 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:22:14,602 | INFO | sqlalchemy.engine.Engine | [cached since 0.001306s ago] ('account_type', 'pg_catalog')
2025-10-28 21:22:14,602 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:22:14,602 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:22:14,603 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:22:14,604 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:22:14,605 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:22:14,605 | INFO | sqlalchemy.engine.Engine | [generated in 0.00028s] ()
2025-10-28 21:22:14,626 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:22:14,638 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:24:36,597 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:24:36,597 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:36,600 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:24:36,600 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:36,602 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:24:36,602 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:36,603 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:24:36,604 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:24:36,604 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:24:36,606 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:24:36,606 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:24:36,608 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:36,608 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:36,612 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:36,612 | INFO | sqlalchemy.engine.Engine | [cached since 0.004594s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:36,614 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:36,614 | INFO | sqlalchemy.engine.Engine | [cached since 0.006123s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:36,615 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:36,615 | INFO | sqlalchemy.engine.Engine | [cached since 0.007048s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:36,616 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:36,616 | INFO | sqlalchemy.engine.Engine | [cached since 0.007952s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:36,617 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:36,617 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:24:36,620 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:36,620 | INFO | sqlalchemy.engine.Engine | [cached since 0.002744s ago] ('account_type', 'pg_catalog')
2025-10-28 21:24:36,621 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:24:36,621 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:24:36,623 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:24:36,623 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ()
2025-10-28 21:24:36,625 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:24:36,625 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:24:36,639 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:24:36,662 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:24:43,041 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:24:43,041 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:43,043 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:24:43,043 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:43,045 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:24:43,045 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:43,046 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:24:43,046 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:24:43,046 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:24:43,048 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:24:43,048 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:24:43,050 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:43,050 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:43,053 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:43,053 | INFO | sqlalchemy.engine.Engine | [cached since 0.003413s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:43,054 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:43,054 | INFO | sqlalchemy.engine.Engine | [cached since 0.004276s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:43,055 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:43,055 | INFO | sqlalchemy.engine.Engine | [cached since 0.005067s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:43,055 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:43,055 | INFO | sqlalchemy.engine.Engine | [cached since 0.005695s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:43,057 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:43,057 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:24:43,058 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:43,058 | INFO | sqlalchemy.engine.Engine | [cached since 0.001907s ago] ('account_type', 'pg_catalog')
2025-10-28 21:24:43,059 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:24:43,059 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:24:43,061 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:24:43,061 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:24:43,062 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:24:43,062 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:24:43,075 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:24:43,086 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:24:48,207 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:24:48,208 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:48,210 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:24:48,210 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:48,212 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:24:48,212 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:48,213 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:24:48,214 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:24:48,214 | INFO | sqlalchemy.engine.Engine | [generated in 0.00026s] ()
2025-10-28 21:24:48,215 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:24:48,215 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:24:48,218 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:48,218 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:48,221 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:48,221 | INFO | sqlalchemy.engine.Engine | [cached since 0.00334s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:48,222 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:48,222 | INFO | sqlalchemy.engine.Engine | [cached since 0.004489s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:48,223 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:48,223 | INFO | sqlalchemy.engine.Engine | [cached since 0.00538s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:48,223 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:48,224 | INFO | sqlalchemy.engine.Engine | [cached since 0.005975s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:48,225 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:48,225 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:24:48,227 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:48,227 | INFO | sqlalchemy.engine.Engine | [cached since 0.002011s ago] ('account_type', 'pg_catalog')
2025-10-28 21:24:48,228 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:24:48,228 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:24:48,229 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:24:48,229 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:24:48,231 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:24:48,231 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ()
2025-10-28 21:24:48,243 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:24:48,251 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:24:54,248 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:24:54,248 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:54,250 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:24:54,250 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:54,252 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:24:54,252 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:24:54,254 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:24:54,254 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:24:54,254 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:24:54,255 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:24:54,255 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:24:54,258 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:54,258 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:54,261 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:54,261 | INFO | sqlalchemy.engine.Engine | [cached since 0.00333s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:54,262 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:54,262 | INFO | sqlalchemy.engine.Engine | [cached since 0.004311s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:54,263 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:54,263 | INFO | sqlalchemy.engine.Engine | [cached since 0.00519s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:54,264 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:24:54,264 | INFO | sqlalchemy.engine.Engine | [cached since 0.005978s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:24:54,266 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:54,266 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-28 21:24:54,268 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:24:54,268 | INFO | sqlalchemy.engine.Engine | [cached since 0.002016s ago] ('account_type', 'pg_catalog')
2025-10-28 21:24:54,269 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:24:54,269 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:24:54,270 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:24:54,270 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:24:54,272 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:24:54,272 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] ()
2025-10-28 21:24:54,284 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:24:54,296 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:25:24,951 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:25:24,951 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:24,953 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:25:24,953 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:24,955 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:25:24,955 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:24,957 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:25:24,957 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:25:24,957 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:25:24,958 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:25:24,959 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:25:24,961 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:24,961 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:24,964 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:24,964 | INFO | sqlalchemy.engine.Engine | [cached since 0.00345s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:24,965 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:24,965 | INFO | sqlalchemy.engine.Engine | [cached since 0.004254s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:24,966 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:24,966 | INFO | sqlalchemy.engine.Engine | [cached since 0.005718s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:24,967 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:24,967 | INFO | sqlalchemy.engine.Engine | [cached since 0.006655s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:24,969 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:25:24,969 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:25:24,971 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:25:24,971 | INFO | sqlalchemy.engine.Engine | [cached since 0.002445s ago] ('account_type', 'pg_catalog')
2025-10-28 21:25:24,972 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:25:24,972 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:25:24,974 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:25:24,974 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:25:24,975 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:25:24,975 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-28 21:25:24,990 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:25:25,004 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:25:50,072 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:25:50,073 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:50,075 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:25:50,075 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:50,077 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:25:50,077 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:25:50,078 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:25:50,078 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:25:50,078 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:25:50,079 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:25:50,079 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:25:50,082 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:50,082 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:50,084 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:50,084 | INFO | sqlalchemy.engine.Engine | [cached since 0.002793s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:50,085 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:50,085 | INFO | sqlalchemy.engine.Engine | [cached since 0.003722s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:50,086 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:50,086 | INFO | sqlalchemy.engine.Engine | [cached since 0.00457s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:50,087 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:25:50,087 | INFO | sqlalchemy.engine.Engine | [cached since 0.005545s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:25:50,088 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:25:50,089 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:25:50,090 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:25:50,090 | INFO | sqlalchemy.engine.Engine | [cached since 0.001783s ago] ('account_type', 'pg_catalog')
2025-10-28 21:25:50,091 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:25:50,091 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:25:50,092 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:25:50,092 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:25:50,094 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:25:50,094 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:25:50,108 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:25:50,116 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:26:19,815 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:26:19,815 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:19,818 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:26:19,818 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:19,819 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:26:19,820 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:19,821 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:26:19,821 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:26:19,821 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:26:19,823 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:26:19,823 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ()
2025-10-28 21:26:19,825 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:19,825 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:19,828 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:19,828 | INFO | sqlalchemy.engine.Engine | [cached since 0.003643s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:19,829 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:19,829 | INFO | sqlalchemy.engine.Engine | [cached since 0.004651s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:19,830 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:19,830 | INFO | sqlalchemy.engine.Engine | [cached since 0.005345s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:19,831 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:19,831 | INFO | sqlalchemy.engine.Engine | [cached since 0.006125s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:19,833 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:19,833 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] ('user_status', 'pg_catalog')
2025-10-28 21:26:19,834 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:19,834 | INFO | sqlalchemy.engine.Engine | [cached since 0.001903s ago] ('account_type', 'pg_catalog')
2025-10-28 21:26:19,835 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:26:19,835 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:26:19,836 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:26:19,837 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:26:19,838 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:26:19,839 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:26:19,850 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:26:19,858 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:26:29,458 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:26:29,458 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:29,460 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:26:29,460 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:29,462 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:26:29,462 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:29,464 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:26:29,465 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:26:29,465 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:26:29,498 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:26:29,498 | INFO | sqlalchemy.engine.Engine | [generated in 0.00042s] ()
2025-10-28 21:26:29,508 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:29,508 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:29,511 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:29,511 | INFO | sqlalchemy.engine.Engine | [cached since 0.003636s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:29,512 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:29,512 | INFO | sqlalchemy.engine.Engine | [cached since 0.004565s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:29,513 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:29,513 | INFO | sqlalchemy.engine.Engine | [cached since 0.005404s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:29,514 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:29,514 | INFO | sqlalchemy.engine.Engine | [cached since 0.006791s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:29,516 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:29,516 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:26:29,518 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:29,518 | INFO | sqlalchemy.engine.Engine | [cached since 0.00197s ago] ('account_type', 'pg_catalog')
2025-10-28 21:26:29,519 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:26:29,519 | INFO | sqlalchemy.engine.Engine | [generated in 0.00021s] ()
2025-10-28 21:26:29,522 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:26:29,522 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:26:29,524 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:26:29,524 | INFO | sqlalchemy.engine.Engine | [generated in 0.00033s] ()
2025-10-28 21:26:29,540 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:26:29,546 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:26:39,813 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:26:39,813 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:39,815 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:26:39,815 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:39,816 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:26:39,817 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:26:39,818 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:26:39,818 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:26:39,818 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:26:39,819 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:26:39,819 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:26:39,821 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:39,821 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:39,824 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:39,824 | INFO | sqlalchemy.engine.Engine | [cached since 0.002881s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:39,825 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:39,825 | INFO | sqlalchemy.engine.Engine | [cached since 0.003668s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:39,826 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:39,826 | INFO | sqlalchemy.engine.Engine | [cached since 0.004535s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:39,827 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:26:39,827 | INFO | sqlalchemy.engine.Engine | [cached since 0.005263s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:26:39,828 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:39,828 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:26:39,830 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:26:39,830 | INFO | sqlalchemy.engine.Engine | [cached since 0.00239s ago] ('account_type', 'pg_catalog')
2025-10-28 21:26:39,831 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:26:39,831 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:26:39,833 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:26:39,833 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:26:39,834 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:26:39,834 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:26:39,848 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:26:39,857 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:27:43,819 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:27:43,820 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:27:43,821 | INFO | sqlalchemy.engine.Engine | [cached since 64s ago] ()
2025-10-28 21:27:43,830 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:27:43,830 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (1,)
2025-10-28 21:27:43,840 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB) RETURNING ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at
2025-10-28 21:27:43,840 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] (UUID('fbaec1b1-c0da-43dc-acc1-02133affca44'), UUID('268b63af-d469-4814-b081-c97a41adde5a'), 1, '{"route": "MRPV-MRPV", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1013", "windDirection": "150", "windSpeed": "4", "wind": "150/4"}, "objectives": []}')
2025-10-28 21:27:43,841 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:27:43,872 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:27:43,873 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-10-28 21:27:43,873 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] (UUID('fbaec1b1-c0da-43dc-acc1-02133affca44'),)
2025-10-28 21:27:43,875 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:29:19,214 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:29:19,214 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:60097]
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:29:19,215 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 21:29:19,242 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:29:19,242 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:29:19,242 | INFO | sqlalchemy.engine.Engine | [cached since 159.4s ago] ()
2025-10-28 21:29:19,244 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:29:19,244 | INFO | sqlalchemy.engine.Engine | [cached since 95.42s ago] (1,)
2025-10-28 21:29:19,258 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:29:19,258 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f7d6a0>}) about to wait for the following futures []
2025-10-28 21:29:19,258 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f7d6a0>}) done waiting for dependent futures
2025-10-28 21:29:19,258 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f7d6a0>}) with kwargs {'client': <botocore.client.S3 object at 0x112a65a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x112e78d70>, 'osutil': <s3transfer.utils.OSUtils object at 0x112f7c050>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x112f7cec0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f7d6a0>}
2025-10-28 21:29:19,259 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/0206432a0dd24f39a1246a32ed260b36.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x112f7cec0> for transfer request: 0.
2025-10-28 21:29:19,259 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:29:19,259 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/0206432a0dd24f39a1246a32ed260b36.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 21:29:19,259 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/0206432a0dd24f39a1246a32ed260b36.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 21:29:19,259 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/0206432a0dd24f39a1246a32ed260b36.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x112a65a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x112f7dfd0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/0206432a0dd24f39a1246a32ed260b36.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 21:29:19,259 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:29:20,244 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:29:30,478 | INFO | app.controllers.audio | Transcripcin recibida session=268b63af-d469-4814-b081-c97a41adde5a: pa superficie Alfa Noviembre India frente al hangar 37 solicitando abrir plan de vuelo a zona Eco va paso de Oomogo a 7000 pies. Capitn Almando Salas. Tenemos dos almas a bordo, tres horas y media de autonoma.
2025-10-28 21:29:30,479 | INFO | app.logs.transcript | student | session=268b63af-d469-4814-b081-c97a41adde5a | frequency=121.7 | text=pa superficie Alfa Noviembre India frente al hangar 37 solicitando abrir plan de vuelo a zona Eco va paso de Oomogo a 7000 pies. Capitn Almando Salas. Tenemos dos almas a bordo, tres horas y media de autonoma.
2025-10-28 21:29:30,523 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:29:30,524 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:29:30,524 | INFO | sqlalchemy.engine.Engine | [generated in 0.00016s] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:29:30,527 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:29:30,561 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:29:30,561 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:29:30,561 | INFO | sqlalchemy.engine.Engine | [cached since 0.03722s ago] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:29:30,564 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:29:30,567 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'zona eco', 'almas a bordo', 'superficie', 'plan de vuelo', 'zona eco']
2025-10-28 21:29:30,598 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:29:30,598 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:29:30,598 | INFO | sqlalchemy.engine.Engine | [cached since 0.07396s ago] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:29:30,601 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:29:30,604 | INFO | app.logs.transcript | controller | session=268b63af-d469-4814-b081-c97a41adde5a | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=
2025-10-28 21:29:30,604 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:30:45,937 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 21:30:45,938 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:70573]
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:30:45,939 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 21:30:45,966 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:30:45,966 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:30:45,966 | INFO | sqlalchemy.engine.Engine | [cached since 246.2s ago] ()
2025-10-28 21:30:45,968 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:30:45,968 | INFO | sqlalchemy.engine.Engine | [cached since 182.2s ago] (1,)
2025-10-28 21:30:45,981 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:30:45,981 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f8f890>}) about to wait for the following futures []
2025-10-28 21:30:45,981 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f8f890>}) done waiting for dependent futures
2025-10-28 21:30:45,982 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f8f890>}) with kwargs {'client': <botocore.client.S3 object at 0x112a65a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x112eaa210>, 'osutil': <s3transfer.utils.OSUtils object at 0x112f8ed50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x112f21810>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x112f8f890>}
2025-10-28 21:30:45,982 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/7b51d35e82484f259be03958b41dffb4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x112f21810> for transfer request: 0.
2025-10-28 21:30:45,982 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:30:45,982 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/7b51d35e82484f259be03958b41dffb4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 21:30:45,982 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/7b51d35e82484f259be03958b41dffb4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 21:30:45,982 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/7b51d35e82484f259be03958b41dffb4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x112a65a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x112ff8190>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/268b63af-d469-4814-b081-c97a41adde5a/7b51d35e82484f259be03958b41dffb4.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 21:30:45,983 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:30:46,827 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:30:59,115 | INFO | app.controllers.audio | Transcripcin recibida session=268b63af-d469-4814-b081-c97a41adde5a: pavas superficie Alfa Noviembre India frente a hangar 37 solicitando abrir plan de vuelo a zona de entrenamiento Eco va paso de ocho Mogo a 7000 pies Capitn al mando salas dos almas a bordo, combustible o autonoma tres horas y media.
2025-10-28 21:30:59,115 | INFO | app.logs.transcript | student | session=268b63af-d469-4814-b081-c97a41adde5a | frequency=121.7 | text=pavas superficie Alfa Noviembre India frente a hangar 37 solicitando abrir plan de vuelo a zona de entrenamiento Eco va paso de ocho Mogo a 7000 pies Capitn al mando salas dos almas a bordo, combustible o autonoma tres horas y media.
2025-10-28 21:30:59,156 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:30:59,156 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:30:59,156 | INFO | sqlalchemy.engine.Engine | [cached since 88.64s ago] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:30:59,159 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:30:59,192 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:30:59,192 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:30:59,192 | INFO | sqlalchemy.engine.Engine | [cached since 88.68s ago] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:30:59,194 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:30:59,197 | INFO | app.services.audio_pipeline | Intent detectado id=ground_taxi_clearance confianza=1.00 tokens=['abrir plan de vuelo', 'plan de vuelo', 'almas a bordo', 'superficie', 'plan de vuelo']
2025-10-28 21:30:59,227 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:30:59,228 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-10-28 21:30:59,228 | INFO | sqlalchemy.engine.Engine | [cached since 88.71s ago] (UUID('268b63af-d469-4814-b081-c97a41adde5a'),)
2025-10-28 21:30:59,230 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:30:59,234 | INFO | app.logs.transcript | controller | session=268b63af-d469-4814-b081-c97a41adde5a | frequency=121.7 | intent=ground_taxi_clearance | fallback=None | text=
2025-10-28 21:30:59,234 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:35:25,177 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:35:25,177 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:35:25,180 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:35:25,180 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:35:25,182 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:35:25,182 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:35:25,183 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:35:25,184 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:35:25,184 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:35:25,185 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:35:25,185 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:35:25,188 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:35:25,188 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:35:25,191 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:35:25,191 | INFO | sqlalchemy.engine.Engine | [cached since 0.003344s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:35:25,192 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:35:25,192 | INFO | sqlalchemy.engine.Engine | [cached since 0.004318s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:35:25,193 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:35:25,193 | INFO | sqlalchemy.engine.Engine | [cached since 0.005196s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:35:25,194 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:35:25,194 | INFO | sqlalchemy.engine.Engine | [cached since 0.00598s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:35:25,196 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:35:25,196 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:35:25,198 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:35:25,198 | INFO | sqlalchemy.engine.Engine | [cached since 0.002155s ago] ('account_type', 'pg_catalog')
2025-10-28 21:35:25,199 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:35:25,199 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:35:25,200 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:35:25,200 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:35:25,202 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:35:25,202 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:35:25,216 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:35:25,225 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:36:23,776 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:36:23,776 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:36:23,776 | INFO | sqlalchemy.engine.Engine | [cached since 58.59s ago] ()
2025-10-28 21:36:23,784 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:36:23,784 | INFO | sqlalchemy.engine.Engine | [generated in 0.00014s] (1,)
2025-10-28 21:36:23,799 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB) RETURNING ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at
2025-10-28 21:36:23,800 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] (UUID('904908e6-cc4d-406f-8b9b-f2bc625a83c4'), UUID('2d9f8676-0f18-4bf5-900f-4e1c81edae12'), 1, '{"route": "MRPV-MRPV", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "982", "windDirection": "150", "windSpeed": "4", "wind": "150/4"}, "objectives": []}')
2025-10-28 21:36:23,801 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:36:23,837 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:36:23,837 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-10-28 21:36:23,837 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] (UUID('904908e6-cc4d-406f-8b9b-f2bc625a83c4'),)
2025-10-28 21:36:23,840 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 21:37:40,901 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:49189]
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:37:40,902 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 21:37:40,925 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:37:40,925 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:37:40,925 | INFO | sqlalchemy.engine.Engine | [cached since 135.7s ago] ()
2025-10-28 21:37:40,927 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:37:40,927 | INFO | sqlalchemy.engine.Engine | [cached since 77.14s ago] (1,)
2025-10-28 21:37:40,941 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11237d6a0>}) about to wait for the following futures []
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11237d6a0>}) done waiting for dependent futures
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11237d6a0>}) with kwargs {'client': <botocore.client.S3 object at 0x10ddf9a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x112278d70>, 'osutil': <s3transfer.utils.OSUtils object at 0x11237c050>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11237cec0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11237d6a0>}
2025-10-28 21:37:40,941 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/2d9f8676-0f18-4bf5-900f-4e1c81edae12/3b81e762086f4466bb4ecb40bb6f480b.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11237cec0> for transfer request: 0.
2025-10-28 21:37:40,941 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/2d9f8676-0f18-4bf5-900f-4e1c81edae12/3b81e762086f4466bb4ecb40bb6f480b.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/2d9f8676-0f18-4bf5-900f-4e1c81edae12/3b81e762086f4466bb4ecb40bb6f480b.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 21:37:40,941 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/2d9f8676-0f18-4bf5-900f-4e1c81edae12/3b81e762086f4466bb4ecb40bb6f480b.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10ddf9a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11237dfd0>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/2d9f8676-0f18-4bf5-900f-4e1c81edae12/3b81e762086f4466bb4ecb40bb6f480b.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 21:37:40,943 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:37:41,669 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:39:44,996 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:41:55,222 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:41:55,223 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:41:55,223 | INFO | sqlalchemy.engine.Engine | [cached since 390s ago] ()
2025-10-28 21:41:55,226 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:42:06,839 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:42:06,840 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:42:06,840 | INFO | sqlalchemy.engine.Engine | [cached since 401.7s ago] ()
2025-10-28 21:42:06,851 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-10-28 21:42:06,851 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] ('hola@mail.com',)
2025-10-28 21:42:06,886 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:42:11,216 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:42:11,216 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:42:11,216 | INFO | sqlalchemy.engine.Engine | [cached since 406s ago] ()
2025-10-28 21:42:11,219 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:42:11,219 | INFO | sqlalchemy.engine.Engine | [cached since 347.4s ago] (1,)
2025-10-28 21:42:11,233 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB) RETURNING ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at
2025-10-28 21:42:11,233 | INFO | sqlalchemy.engine.Engine | [cached since 347.4s ago] (UUID('ca2af0a8-f8da-484b-aec7-ac5dd41f7625'), UUID('9d00fb7e-4126-4b5a-91ca-d08c931887fc'), 1, '{"route": "MRPV-MRPV", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "982", "windDirection": "150", "windSpeed": "4", "wind": "150/4"}, "objectives": []}')
2025-10-28 21:42:11,234 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:42:11,269 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:42:11,269 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-10-28 21:42:11,269 | INFO | sqlalchemy.engine.Engine | [cached since 347.4s ago] (UUID('ca2af0a8-f8da-484b-aec7-ac5dd41f7625'),)
2025-10-28 21:42:11,271 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_field with data[36:55]
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_value with data[57:85]
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_part_data with data[89:125]
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_field with data[163:182]
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_value with data[184:211]
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:42:24,631 | DEBUG | python_multipart.multipart | Calling on_part_data with data[215:220]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_field with data[258:277]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_value with data[279:335]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_field with data[337:349]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_value with data[351:361]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_part_data with data[365:49189]
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-10-28 21:42:24,632 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-10-28 21:42:24,656 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:42:24,656 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:42:24,656 | INFO | sqlalchemy.engine.Engine | [cached since 419.5s ago] ()
2025-10-28 21:42:24,658 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-10-28 21:42:24,658 | INFO | sqlalchemy.engine.Engine | [cached since 360.9s ago] (1,)
2025-10-28 21:42:24,672 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11238f390>}) about to wait for the following futures []
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11238f390>}) done waiting for dependent futures
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11238f390>}) with kwargs {'client': <botocore.client.S3 object at 0x10ddf9a90>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11238ca50>, 'osutil': <s3transfer.utils.OSUtils object at 0x11238f250>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x112322fd0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11238f390>}
2025-10-28 21:42:24,672 | DEBUG | s3transfer.futures | Submitting task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/9d00fb7e-4126-4b5a-91ca-d08c931887fc/9a8523d660dd4e9b841df517c11514c2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) to executor <s3transfer.futures.BoundedExecutor object at 0x112322fd0> for transfer request: 0.
2025-10-28 21:42:24,672 | DEBUG | s3transfer.utils | Acquiring 0
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/9d00fb7e-4126-4b5a-91ca-d08c931887fc/9a8523d660dd4e9b841df517c11514c2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) about to wait for the following futures []
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/9d00fb7e-4126-4b5a-91ca-d08c931887fc/9a8523d660dd4e9b841df517c11514c2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) done waiting for dependent futures
2025-10-28 21:42:24,672 | DEBUG | s3transfer.tasks | Executing task PutObjectTask(transfer_id=0, {'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/9d00fb7e-4126-4b5a-91ca-d08c931887fc/9a8523d660dd4e9b841df517c11514c2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}) with kwargs {'client': <botocore.client.S3 object at 0x10ddf9a90>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11238fc50>, 'bucket': 'ecowhiskey-atc-audio', 'key': 'sessions/9d00fb7e-4126-4b5a-91ca-d08c931887fc/9a8523d660dd4e9b841df517c11514c2.mp3', 'extra_args': {'ContentType': 'audio/mpeg', 'ChecksumAlgorithm': 'CRC32'}}
2025-10-28 21:42:24,673 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:42:25,847 | DEBUG | s3transfer.utils | Releasing acquire 0/None
2025-10-28 21:44:28,152 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-10-28 21:45:29,295 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:45:29,295 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:29,299 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:45:29,299 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:29,301 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:45:29,301 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:29,303 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:45:29,303 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:45:29,303 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:45:29,305 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:45:29,305 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:45:29,307 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:29,307 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:29,309 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:29,309 | INFO | sqlalchemy.engine.Engine | [cached since 0.002085s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:29,310 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:29,310 | INFO | sqlalchemy.engine.Engine | [cached since 0.002719s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:29,310 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:29,310 | INFO | sqlalchemy.engine.Engine | [cached since 0.003313s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:29,311 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:29,311 | INFO | sqlalchemy.engine.Engine | [cached since 0.003877s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:29,312 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:45:29,312 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('user_status', 'pg_catalog')
2025-10-28 21:45:29,314 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:45:29,314 | INFO | sqlalchemy.engine.Engine | [cached since 0.001445s ago] ('account_type', 'pg_catalog')
2025-10-28 21:45:29,314 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:45:29,314 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:45:29,316 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:45:29,316 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:45:29,317 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:45:29,317 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-28 21:45:29,336 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:45:29,344 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:45:38,918 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:45:38,918 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:38,920 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:45:38,920 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:38,922 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:45:38,922 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:45:38,923 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:45:38,923 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:45:38,923 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:45:38,925 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:45:38,925 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:45:38,927 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:38,927 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:38,930 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:38,930 | INFO | sqlalchemy.engine.Engine | [cached since 0.002998s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:38,930 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:38,930 | INFO | sqlalchemy.engine.Engine | [cached since 0.003697s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:38,931 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:38,931 | INFO | sqlalchemy.engine.Engine | [cached since 0.004541s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:38,932 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:45:38,932 | INFO | sqlalchemy.engine.Engine | [cached since 0.005374s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:45:38,936 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:45:38,936 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-28 21:45:38,938 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:45:38,938 | INFO | sqlalchemy.engine.Engine | [cached since 0.001935s ago] ('account_type', 'pg_catalog')
2025-10-28 21:45:38,939 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:45:38,939 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:45:38,940 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:45:38,940 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:45:38,941 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:45:38,941 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ()
2025-10-28 21:45:38,953 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:45:38,960 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:47:07,890 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:47:07,890 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:07,893 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:47:07,893 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:07,895 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:47:07,895 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:07,896 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:47:07,896 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:47:07,896 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:47:07,898 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:47:07,898 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:47:07,900 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:07,900 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:07,903 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:07,903 | INFO | sqlalchemy.engine.Engine | [cached since 0.003118s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:07,904 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:07,904 | INFO | sqlalchemy.engine.Engine | [cached since 0.003964s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:07,905 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:07,905 | INFO | sqlalchemy.engine.Engine | [cached since 0.00478s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:07,906 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:07,906 | INFO | sqlalchemy.engine.Engine | [cached since 0.005666s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:07,907 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:07,907 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
2025-10-28 21:47:07,910 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:07,910 | INFO | sqlalchemy.engine.Engine | [cached since 0.002226s ago] ('account_type', 'pg_catalog')
2025-10-28 21:47:07,910 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:47:07,910 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:47:07,912 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:47:07,912 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:47:07,913 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:47:07,914 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ()
2025-10-28 21:47:07,925 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:47:07,935 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:47:16,219 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:47:16,219 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:16,221 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:47:16,221 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:16,224 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:47:16,224 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:16,225 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:47:16,225 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:47:16,226 | INFO | sqlalchemy.engine.Engine | [generated in 0.00027s] ()
2025-10-28 21:47:16,227 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:47:16,227 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-28 21:47:16,229 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:16,230 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:16,233 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:16,234 | INFO | sqlalchemy.engine.Engine | [cached since 0.004125s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:16,234 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:16,235 | INFO | sqlalchemy.engine.Engine | [cached since 0.00518s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:16,236 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:16,236 | INFO | sqlalchemy.engine.Engine | [cached since 0.006229s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:16,236 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:16,236 | INFO | sqlalchemy.engine.Engine | [cached since 0.00708s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:16,238 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:16,238 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:47:16,240 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:16,240 | INFO | sqlalchemy.engine.Engine | [cached since 0.002171s ago] ('account_type', 'pg_catalog')
2025-10-28 21:47:16,241 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:47:16,241 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:47:16,242 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:47:16,243 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ()
2025-10-28 21:47:16,244 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:47:16,244 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:47:16,260 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:47:16,272 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:47:21,247 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:47:21,247 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:21,250 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:47:21,250 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:21,252 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:47:21,252 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:21,253 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:47:21,253 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:47:21,253 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:47:21,255 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:47:21,255 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:47:21,257 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:21,257 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:21,260 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:21,260 | INFO | sqlalchemy.engine.Engine | [cached since 0.003114s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:21,261 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:21,261 | INFO | sqlalchemy.engine.Engine | [cached since 0.00399s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:21,262 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:21,262 | INFO | sqlalchemy.engine.Engine | [cached since 0.004845s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:21,263 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:21,263 | INFO | sqlalchemy.engine.Engine | [cached since 0.00568s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:21,264 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:21,264 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:47:21,266 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:21,266 | INFO | sqlalchemy.engine.Engine | [cached since 0.002296s ago] ('account_type', 'pg_catalog')
2025-10-28 21:47:21,267 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:47:21,267 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ()
2025-10-28 21:47:21,269 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:47:21,269 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:47:21,271 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:47:21,271 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ()
2025-10-28 21:47:21,285 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:47:21,293 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:47:30,588 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:47:30,588 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:30,590 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:47:30,590 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:30,592 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:47:30,593 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:47:30,594 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:47:30,594 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:47:30,594 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:47:30,596 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:47:30,596 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:47:30,598 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:30,598 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:30,601 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:30,601 | INFO | sqlalchemy.engine.Engine | [cached since 0.003371s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:30,602 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:30,602 | INFO | sqlalchemy.engine.Engine | [cached since 0.004122s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:30,603 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:30,603 | INFO | sqlalchemy.engine.Engine | [cached since 0.004867s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:30,603 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:47:30,603 | INFO | sqlalchemy.engine.Engine | [cached since 0.00556s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:47:30,605 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:30,605 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ('user_status', 'pg_catalog')
2025-10-28 21:47:30,607 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:47:30,607 | INFO | sqlalchemy.engine.Engine | [cached since 0.002129s ago] ('account_type', 'pg_catalog')
2025-10-28 21:47:30,608 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:47:30,608 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:47:30,609 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:47:30,609 | INFO | sqlalchemy.engine.Engine | [generated in 0.00029s] ()
2025-10-28 21:47:30,611 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:47:30,611 | INFO | sqlalchemy.engine.Engine | [generated in 0.00013s] ()
2025-10-28 21:47:30,624 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:47:30,631 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:48:14,016 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:48:14,017 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:14,018 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:48:14,018 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:14,020 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:48:14,020 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:14,021 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:48:14,021 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:48:14,022 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:48:14,023 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:48:14,023 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:48:14,025 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:14,025 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:14,028 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:14,028 | INFO | sqlalchemy.engine.Engine | [cached since 0.002946s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:14,029 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:14,029 | INFO | sqlalchemy.engine.Engine | [cached since 0.003785s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:14,029 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:14,030 | INFO | sqlalchemy.engine.Engine | [cached since 0.004603s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:14,030 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:14,030 | INFO | sqlalchemy.engine.Engine | [cached since 0.005435s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:14,032 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:14,032 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:48:14,034 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:14,034 | INFO | sqlalchemy.engine.Engine | [cached since 0.00245s ago] ('account_type', 'pg_catalog')
2025-10-28 21:48:14,035 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:48:14,035 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:48:14,036 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:48:14,036 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:48:14,038 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:48:14,038 | INFO | sqlalchemy.engine.Engine | [generated in 0.00011s] ()
2025-10-28 21:48:14,052 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:48:14,061 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:48:20,141 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:48:20,141 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:20,143 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:48:20,143 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:20,145 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:48:20,145 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:20,146 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:48:20,146 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:48:20,146 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:48:20,148 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:48:20,148 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:48:20,150 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:20,150 | INFO | sqlalchemy.engine.Engine | [generated in 0.00010s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:20,153 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:20,153 | INFO | sqlalchemy.engine.Engine | [cached since 0.003213s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:20,154 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:20,154 | INFO | sqlalchemy.engine.Engine | [cached since 0.003901s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:20,155 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:20,155 | INFO | sqlalchemy.engine.Engine | [cached since 0.004744s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:20,155 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:20,155 | INFO | sqlalchemy.engine.Engine | [cached since 0.005637s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:20,157 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:20,157 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ('user_status', 'pg_catalog')
2025-10-28 21:48:20,159 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:20,159 | INFO | sqlalchemy.engine.Engine | [cached since 0.002085s ago] ('account_type', 'pg_catalog')
2025-10-28 21:48:20,160 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:48:20,160 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:48:20,161 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:48:20,162 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:48:20,163 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:48:20,163 | INFO | sqlalchemy.engine.Engine | [generated in 0.00020s] ()
2025-10-28 21:48:20,189 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:48:20,195 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:48:23,941 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:48:23,941 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:23,943 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:48:23,943 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:23,945 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:48:23,945 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:23,947 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:48:23,947 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:48:23,947 | INFO | sqlalchemy.engine.Engine | [generated in 0.00007s] ()
2025-10-28 21:48:23,949 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:48:23,949 | INFO | sqlalchemy.engine.Engine | [generated in 0.00006s] ()
2025-10-28 21:48:23,951 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:23,952 | INFO | sqlalchemy.engine.Engine | [generated in 0.00015s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:23,955 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:23,955 | INFO | sqlalchemy.engine.Engine | [cached since 0.003437s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:23,956 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:23,956 | INFO | sqlalchemy.engine.Engine | [cached since 0.004403s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:23,957 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:23,957 | INFO | sqlalchemy.engine.Engine | [cached since 0.005346s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:23,958 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:23,958 | INFO | sqlalchemy.engine.Engine | [cached since 0.006198s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:23,960 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:23,960 | INFO | sqlalchemy.engine.Engine | [generated in 0.00012s] ('user_status', 'pg_catalog')
2025-10-28 21:48:23,962 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:23,962 | INFO | sqlalchemy.engine.Engine | [cached since 0.002019s ago] ('account_type', 'pg_catalog')
2025-10-28 21:48:23,962 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-10-28 21:48:23,963 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:48:23,964 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-10-28 21:48:23,964 | INFO | sqlalchemy.engine.Engine | [generated in 0.00005s] ()
2025-10-28 21:48:23,966 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-10-28 21:48:23,966 | INFO | sqlalchemy.engine.Engine | [generated in 0.00018s] ()
2025-10-28 21:48:23,978 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-10-28 21:48:24,010 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-10-28 21:48:40,777 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-10-28 21:48:40,777 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:40,780 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-10-28 21:48:40,780 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:40,782 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-10-28 21:48:40,782 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-10-28 21:48:40,783 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-10-28 21:48:40,783 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-10-28 21:48:40,783 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ()
2025-10-28 21:48:40,785 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-10-28 21:48:40,785 | INFO | sqlalchemy.engine.Engine | [generated in 0.00008s] ()
2025-10-28 21:48:40,788 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:40,788 | INFO | sqlalchemy.engine.Engine | [generated in 0.00017s] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:40,791 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:40,791 | INFO | sqlalchemy.engine.Engine | [cached since 0.00358s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:40,792 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:40,792 | INFO | sqlalchemy.engine.Engine | [cached since 0.004368s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:40,793 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:40,793 | INFO | sqlalchemy.engine.Engine | [cached since 0.005126s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:40,794 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-10-28 21:48:40,794 | INFO | sqlalchemy.engine.Engine | [cached since 0.006659s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-10-28 21:48:40,796 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-28 21:48:40,796 | INFO | sqlalchemy.engine.Engine | [generated in 0.00009s] ('user_status', 'pg_catalog')
