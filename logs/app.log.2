2025-11-26 20:32:40,551 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-26 20:32:40,558 | INFO | sqlalchemy.engine.Engine | [generated in 0.00636s] ()
2025-11-26 20:32:40,914 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:32:40,964 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-26 20:33:04,394 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:04,395 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:04,395 | INFO | sqlalchemy.engine.Engine | [cached since 24.1s ago] ()
2025-11-26 20:33:04,424 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 20:33:04,427 | INFO | sqlalchemy.engine.Engine | [generated in 0.00264s] ('josuelu2@gmail.com',)
2025-11-26 20:33:04,669 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:06,425 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:06,426 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:06,427 | INFO | sqlalchemy.engine.Engine | [cached since 26.13s ago] ()
2025-11-26 20:33:06,433 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:06,434 | INFO | sqlalchemy.engine.Engine | [generated in 0.00083s] (1,)
2025-11-26 20:33:06,506 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:13,441 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-26 20:33:13,555 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000029B3D5BBB50>
2025-11-26 20:33:13,557 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000029B3D532600> server_hostname='aviationweather.gov' timeout=10.0
2025-11-26 20:33:13,672 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000029B3CEB9790>
2025-11-26 20:33:13,673 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-26 20:33:13,675 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-26 20:33:13,676 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-26 20:33:13,677 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-26 20:33:13,677 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-26 20:33:13,800 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 27 Nov 2025 02:33:13 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'435'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1b3-By9bjgs8s+BO6Mloz9JO019CFIA"'), (b'x-azure-ref', b'20251127T023313Z-1654ff757979sr6xhC1MIAft5n00000026x0000000006548'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-26 20:33:13,804 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-26 20:33:13,806 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-26 20:33:13,808 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-26 20:33:13,810 | DEBUG | httpcore.http11 | response_closed.started
2025-11-26 20:33:13,813 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-26 20:33:13,815 | DEBUG | httpcore.connection | close.started
2025-11-26 20:33:13,818 | DEBUG | httpcore.connection | close.complete
2025-11-26 20:33:26,157 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:26,158 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:26,159 | INFO | sqlalchemy.engine.Engine | [cached since 45.86s ago] ()
2025-11-26 20:33:26,165 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:26,166 | INFO | sqlalchemy.engine.Engine | [cached since 19.73s ago] (1,)
2025-11-26 20:33:26,176 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:26,178 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:26,179 | INFO | sqlalchemy.engine.Engine | [cached since 45.88s ago] ()
2025-11-26 20:33:26,187 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:26,187 | INFO | sqlalchemy.engine.Engine | [cached since 19.75s ago] (1,)
2025-11-26 20:33:26,318 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:33:26,320 | INFO | sqlalchemy.engine.Engine | [generated in 0.00142s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:33:26,329 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:33:26,330 | INFO | sqlalchemy.engine.Engine | [generated in 0.00136s] ('scenario_id', 'session_completed', 1)
2025-11-26 20:33:26,359 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:26,375 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:29,150 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:29,151 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:29,152 | INFO | sqlalchemy.engine.Engine | [cached since 48.85s ago] ()
2025-11-26 20:33:29,158 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:29,158 | INFO | sqlalchemy.engine.Engine | [cached since 22.73s ago] (1,)
2025-11-26 20:33:29,232 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-26 20:33:29,233 | INFO | sqlalchemy.engine.Engine | [generated in 0.00125s] (UUID('4ad286c7-bd87-4529-be6d-76c0e4958dc6'), 1)
2025-11-26 20:33:29,250 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:34,035 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:34,038 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:34,040 | INFO | sqlalchemy.engine.Engine | [cached since 53.74s ago] ()
2025-11-26 20:33:34,050 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:34,052 | INFO | sqlalchemy.engine.Engine | [cached since 27.62s ago] (1,)
2025-11-26 20:33:34,061 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:34,063 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:34,064 | INFO | sqlalchemy.engine.Engine | [cached since 53.77s ago] ()
2025-11-26 20:33:34,074 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:34,075 | INFO | sqlalchemy.engine.Engine | [cached since 27.64s ago] (1,)
2025-11-26 20:33:34,172 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:33:34,174 | INFO | sqlalchemy.engine.Engine | [cached since 7.845s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:33:34,179 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:33:34,181 | INFO | sqlalchemy.engine.Engine | [cached since 7.863s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:33:34,203 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:34,210 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:36,216 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:36,217 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:36,218 | INFO | sqlalchemy.engine.Engine | [cached since 55.92s ago] ()
2025-11-26 20:33:36,226 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:36,227 | INFO | sqlalchemy.engine.Engine | [cached since 29.79s ago] (1,)
2025-11-26 20:33:36,307 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-26 20:33:36,308 | INFO | sqlalchemy.engine.Engine | [cached since 7.076s ago] (UUID('1a5abab2-9050-44f7-853c-357f57ad3ca2'), 1)
2025-11-26 20:33:36,324 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:38,088 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:38,089 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:38,090 | INFO | sqlalchemy.engine.Engine | [cached since 57.79s ago] ()
2025-11-26 20:33:38,096 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:38,096 | INFO | sqlalchemy.engine.Engine | [cached since 31.66s ago] (1,)
2025-11-26 20:33:38,110 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:38,111 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:38,112 | INFO | sqlalchemy.engine.Engine | [cached since 57.81s ago] ()
2025-11-26 20:33:38,118 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:38,119 | INFO | sqlalchemy.engine.Engine | [cached since 31.69s ago] (1,)
2025-11-26 20:33:38,180 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:33:38,182 | INFO | sqlalchemy.engine.Engine | [cached since 11.86s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:33:38,185 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:33:38,186 | INFO | sqlalchemy.engine.Engine | [cached since 11.86s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:33:38,199 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:38,202 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:33:42,176 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:33:42,177 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:33:42,178 | INFO | sqlalchemy.engine.Engine | [cached since 61.88s ago] ()
2025-11-26 20:33:42,184 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:33:42,185 | INFO | sqlalchemy.engine.Engine | [cached since 35.75s ago] (1,)
2025-11-26 20:33:42,265 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-26 20:33:42,266 | INFO | sqlalchemy.engine.Engine | [cached since 13.03s ago] (UUID('fcf4c3be-14bf-4f7c-914b-3cb95caa8340'), 1)
2025-11-26 20:33:48,065 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:00,808 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:00,809 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:00,810 | INFO | sqlalchemy.engine.Engine | [cached since 80.51s ago] ()
2025-11-26 20:34:00,816 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:00,817 | INFO | sqlalchemy.engine.Engine | [cached since 54.38s ago] (1,)
2025-11-26 20:34:00,829 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:00,829 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:00,830 | INFO | sqlalchemy.engine.Engine | [cached since 80.53s ago] ()
2025-11-26 20:34:00,837 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:00,838 | INFO | sqlalchemy.engine.Engine | [cached since 54.41s ago] (1,)
2025-11-26 20:34:00,893 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:34:00,894 | INFO | sqlalchemy.engine.Engine | [cached since 34.58s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:34:00,897 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:34:00,898 | INFO | sqlalchemy.engine.Engine | [cached since 34.57s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:34:00,910 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:00,912 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:17,112 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:17,113 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:17,114 | INFO | sqlalchemy.engine.Engine | [cached since 96.82s ago] ()
2025-11-26 20:34:17,120 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:17,120 | INFO | sqlalchemy.engine.Engine | [cached since 70.69s ago] (1,)
2025-11-26 20:34:17,135 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:17,136 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:17,137 | INFO | sqlalchemy.engine.Engine | [cached since 96.84s ago] ()
2025-11-26 20:34:17,143 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:17,144 | INFO | sqlalchemy.engine.Engine | [cached since 70.71s ago] (1,)
2025-11-26 20:34:17,202 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:34:17,203 | INFO | sqlalchemy.engine.Engine | [cached since 50.87s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:34:17,212 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:34:17,213 | INFO | sqlalchemy.engine.Engine | [cached since 50.89s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:34:17,218 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:17,230 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:36,857 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:36,858 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:36,858 | INFO | sqlalchemy.engine.Engine | [cached since 116.6s ago] ()
2025-11-26 20:34:36,861 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:36,863 | INFO | sqlalchemy.engine.Engine | [cached since 90.43s ago] (1,)
2025-11-26 20:34:36,939 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:36,940 | INFO | sqlalchemy.engine.Engine | [generated in 0.00075s] (UUID('fcf4c3be-14bf-4f7c-914b-3cb95caa8340'),)
2025-11-26 20:34:36,951 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:34:36,953 | INFO | sqlalchemy.engine.Engine | [generated in 0.00124s] (UUID('fcf4c3be-14bf-4f7c-914b-3cb95caa8340'),)
2025-11-26 20:34:36,965 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:36,966 | INFO | sqlalchemy.engine.Engine | [generated in 0.00099s] (UUID('fcf4c3be-14bf-4f7c-914b-3cb95caa8340'),)
2025-11-26 20:34:36,973 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:34:37,174 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:37,176 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:37,176 | INFO | sqlalchemy.engine.Engine | [cached since 116.9s ago] ()
2025-11-26 20:34:37,181 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:37,187 | INFO | sqlalchemy.engine.Engine | [cached since 90.75s ago] (1,)
2025-11-26 20:34:37,199 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:37,202 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:37,203 | INFO | sqlalchemy.engine.Engine | [cached since 116.9s ago] ()
2025-11-26 20:34:37,210 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:37,210 | INFO | sqlalchemy.engine.Engine | [cached since 90.78s ago] (1,)
2025-11-26 20:34:37,269 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:34:37,271 | INFO | sqlalchemy.engine.Engine | [cached since 70.94s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:34:37,272 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:34:37,273 | INFO | sqlalchemy.engine.Engine | [cached since 70.95s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:34:37,284 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:37,291 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:42,483 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:42,484 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:42,486 | INFO | sqlalchemy.engine.Engine | [cached since 122.2s ago] ()
2025-11-26 20:34:42,492 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:42,493 | INFO | sqlalchemy.engine.Engine | [cached since 96.06s ago] (1,)
2025-11-26 20:34:42,585 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:42,587 | INFO | sqlalchemy.engine.Engine | [cached since 5.648s ago] (UUID('87830212-9e30-4dc9-a5be-993a89959141'),)
2025-11-26 20:34:42,598 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:34:42,599 | INFO | sqlalchemy.engine.Engine | [cached since 5.646s ago] (UUID('87830212-9e30-4dc9-a5be-993a89959141'),)
2025-11-26 20:34:42,614 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:42,616 | INFO | sqlalchemy.engine.Engine | [cached since 5.65s ago] (UUID('87830212-9e30-4dc9-a5be-993a89959141'),)
2025-11-26 20:34:42,621 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:34:42,857 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:42,858 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:42,859 | INFO | sqlalchemy.engine.Engine | [cached since 122.6s ago] ()
2025-11-26 20:34:42,865 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:42,866 | INFO | sqlalchemy.engine.Engine | [cached since 96.43s ago] (1,)
2025-11-26 20:34:42,878 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:42,878 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:42,879 | INFO | sqlalchemy.engine.Engine | [cached since 122.6s ago] ()
2025-11-26 20:34:42,888 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:42,890 | INFO | sqlalchemy.engine.Engine | [cached since 96.46s ago] (1,)
2025-11-26 20:34:42,954 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:34:42,955 | INFO | sqlalchemy.engine.Engine | [cached since 76.63s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:34:42,957 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:34:42,958 | INFO | sqlalchemy.engine.Engine | [cached since 76.64s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:34:42,970 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:42,975 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:52,025 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:52,026 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:52,027 | INFO | sqlalchemy.engine.Engine | [cached since 131.7s ago] ()
2025-11-26 20:34:52,033 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:52,034 | INFO | sqlalchemy.engine.Engine | [cached since 105.6s ago] (1,)
2025-11-26 20:34:52,110 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:52,110 | INFO | sqlalchemy.engine.Engine | [cached since 15.17s ago] (UUID('6fa29516-84b9-45d0-9c8c-e27b511e1a1c'),)
2025-11-26 20:34:52,121 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:34:52,122 | INFO | sqlalchemy.engine.Engine | [cached since 15.17s ago] (UUID('6fa29516-84b9-45d0-9c8c-e27b511e1a1c'),)
2025-11-26 20:34:52,134 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:34:52,136 | INFO | sqlalchemy.engine.Engine | [cached since 15.17s ago] (UUID('6fa29516-84b9-45d0-9c8c-e27b511e1a1c'),)
2025-11-26 20:34:52,143 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:34:52,330 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:52,331 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:52,331 | INFO | sqlalchemy.engine.Engine | [cached since 132s ago] ()
2025-11-26 20:34:52,339 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:52,340 | INFO | sqlalchemy.engine.Engine | [cached since 105.9s ago] (1,)
2025-11-26 20:34:52,357 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:34:52,358 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:34:52,359 | INFO | sqlalchemy.engine.Engine | [cached since 132.1s ago] ()
2025-11-26 20:34:52,365 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:34:52,367 | INFO | sqlalchemy.engine.Engine | [cached since 105.9s ago] (1,)
2025-11-26 20:34:52,423 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:34:52,424 | INFO | sqlalchemy.engine.Engine | [cached since 86.1s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:34:52,426 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:34:52,427 | INFO | sqlalchemy.engine.Engine | [cached since 86.11s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:34:52,437 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:34:52,444 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:15,808 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:15,809 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:15,809 | INFO | sqlalchemy.engine.Engine | [cached since 155.5s ago] ()
2025-11-26 20:35:15,814 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:15,815 | INFO | sqlalchemy.engine.Engine | [cached since 129.4s ago] (1,)
2025-11-26 20:35:15,888 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:15,889 | INFO | sqlalchemy.engine.Engine | [cached since 38.95s ago] (UUID('74e8d0cd-8bee-4ff6-a11c-35529e512b5f'),)
2025-11-26 20:35:15,900 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:35:15,902 | INFO | sqlalchemy.engine.Engine | [cached since 38.95s ago] (UUID('74e8d0cd-8bee-4ff6-a11c-35529e512b5f'),)
2025-11-26 20:35:15,913 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:15,914 | INFO | sqlalchemy.engine.Engine | [cached since 38.95s ago] (UUID('74e8d0cd-8bee-4ff6-a11c-35529e512b5f'),)
2025-11-26 20:35:15,920 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:35:16,124 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:16,125 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:16,126 | INFO | sqlalchemy.engine.Engine | [cached since 155.8s ago] ()
2025-11-26 20:35:16,132 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:16,133 | INFO | sqlalchemy.engine.Engine | [cached since 129.7s ago] (1,)
2025-11-26 20:35:16,147 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:16,148 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:16,148 | INFO | sqlalchemy.engine.Engine | [cached since 155.9s ago] ()
2025-11-26 20:35:16,157 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:16,157 | INFO | sqlalchemy.engine.Engine | [cached since 129.7s ago] (1,)
2025-11-26 20:35:16,219 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:35:16,221 | INFO | sqlalchemy.engine.Engine | [cached since 109.9s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:35:16,223 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:35:16,223 | INFO | sqlalchemy.engine.Engine | [cached since 109.9s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:35:16,236 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:16,238 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:39,114 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:39,115 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:39,115 | INFO | sqlalchemy.engine.Engine | [cached since 178.8s ago] ()
2025-11-26 20:35:39,123 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:39,123 | INFO | sqlalchemy.engine.Engine | [cached since 152.7s ago] (1,)
2025-11-26 20:35:39,198 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:39,199 | INFO | sqlalchemy.engine.Engine | [cached since 62.26s ago] (UUID('66500d46-c802-490c-bc3b-85c5438c501c'),)
2025-11-26 20:35:39,211 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:35:39,212 | INFO | sqlalchemy.engine.Engine | [cached since 62.26s ago] (UUID('66500d46-c802-490c-bc3b-85c5438c501c'),)
2025-11-26 20:35:39,226 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:39,227 | INFO | sqlalchemy.engine.Engine | [cached since 62.26s ago] (UUID('66500d46-c802-490c-bc3b-85c5438c501c'),)
2025-11-26 20:35:39,230 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:35:39,426 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:39,428 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:39,429 | INFO | sqlalchemy.engine.Engine | [cached since 179.1s ago] ()
2025-11-26 20:35:39,435 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:39,436 | INFO | sqlalchemy.engine.Engine | [cached since 153s ago] (1,)
2025-11-26 20:35:39,555 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:39,556 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:39,557 | INFO | sqlalchemy.engine.Engine | [cached since 179.3s ago] ()
2025-11-26 20:35:39,560 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:35:39,561 | INFO | sqlalchemy.engine.Engine | [cached since 133.2s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:35:39,568 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:39,570 | INFO | sqlalchemy.engine.Engine | [cached since 153.1s ago] (1,)
2025-11-26 20:35:39,579 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:39,660 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:35:39,661 | INFO | sqlalchemy.engine.Engine | [cached since 133.3s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:35:39,681 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:42,340 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:42,340 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:42,341 | INFO | sqlalchemy.engine.Engine | [cached since 182s ago] ()
2025-11-26 20:35:42,346 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:42,347 | INFO | sqlalchemy.engine.Engine | [cached since 155.9s ago] (1,)
2025-11-26 20:35:42,423 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:42,424 | INFO | sqlalchemy.engine.Engine | [cached since 65.48s ago] (UUID('15216880-db18-4168-b165-a482027609ea'),)
2025-11-26 20:35:42,433 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:35:42,434 | INFO | sqlalchemy.engine.Engine | [cached since 65.48s ago] (UUID('15216880-db18-4168-b165-a482027609ea'),)
2025-11-26 20:35:42,447 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:35:42,448 | INFO | sqlalchemy.engine.Engine | [cached since 65.48s ago] (UUID('15216880-db18-4168-b165-a482027609ea'),)
2025-11-26 20:35:42,453 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:35:42,700 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:42,702 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:42,703 | INFO | sqlalchemy.engine.Engine | [cached since 182.4s ago] ()
2025-11-26 20:35:42,713 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:42,714 | INFO | sqlalchemy.engine.Engine | [cached since 156.3s ago] (1,)
2025-11-26 20:35:42,763 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:42,765 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:42,767 | INFO | sqlalchemy.engine.Engine | [cached since 182.5s ago] ()
2025-11-26 20:35:42,775 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:42,776 | INFO | sqlalchemy.engine.Engine | [cached since 156.3s ago] (1,)
2025-11-26 20:35:42,822 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:35:42,823 | INFO | sqlalchemy.engine.Engine | [cached since 136.5s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:35:42,836 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:42,839 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:35:42,840 | INFO | sqlalchemy.engine.Engine | [cached since 136.5s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:35:42,857 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:35:44,493 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:35:44,494 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:35:44,494 | INFO | sqlalchemy.engine.Engine | [cached since 184.2s ago] ()
2025-11-26 20:35:44,500 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:35:44,502 | INFO | sqlalchemy.engine.Engine | [cached since 158.1s ago] (1,)
2025-11-26 20:35:44,580 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-26 20:35:44,581 | INFO | sqlalchemy.engine.Engine | [cached since 135.3s ago] (UUID('b450d91d-868a-45f7-a7ef-0965a6a9c6b5'), 1)
2025-11-26 20:35:49,569 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:05,678 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:05,679 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:05,680 | INFO | sqlalchemy.engine.Engine | [cached since 205.4s ago] ()
2025-11-26 20:36:05,687 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:05,688 | INFO | sqlalchemy.engine.Engine | [cached since 179.3s ago] (1,)
2025-11-26 20:36:05,703 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:05,704 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:05,705 | INFO | sqlalchemy.engine.Engine | [cached since 205.4s ago] ()
2025-11-26 20:36:05,712 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:05,713 | INFO | sqlalchemy.engine.Engine | [cached since 179.3s ago] (1,)
2025-11-26 20:36:05,774 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:05,775 | INFO | sqlalchemy.engine.Engine | [cached since 159.5s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:05,777 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:05,777 | INFO | sqlalchemy.engine.Engine | [cached since 159.4s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:05,790 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:05,793 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:08,439 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:08,439 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:08,439 | INFO | sqlalchemy.engine.Engine | [cached since 208.1s ago] ()
2025-11-26 20:36:08,443 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:08,445 | INFO | sqlalchemy.engine.Engine | [cached since 182s ago] (1,)
2025-11-26 20:36:08,514 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:08,514 | INFO | sqlalchemy.engine.Engine | [cached since 91.58s ago] (UUID('b075761b-a182-4f49-bf55-9bbaa8789215'),)
2025-11-26 20:36:08,526 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:08,527 | INFO | sqlalchemy.engine.Engine | [cached since 91.58s ago] (UUID('b075761b-a182-4f49-bf55-9bbaa8789215'),)
2025-11-26 20:36:08,540 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:08,541 | INFO | sqlalchemy.engine.Engine | [cached since 91.58s ago] (UUID('b075761b-a182-4f49-bf55-9bbaa8789215'),)
2025-11-26 20:36:08,546 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:08,844 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:08,845 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:08,847 | INFO | sqlalchemy.engine.Engine | [cached since 208.5s ago] ()
2025-11-26 20:36:08,853 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:08,854 | INFO | sqlalchemy.engine.Engine | [cached since 182.4s ago] (1,)
2025-11-26 20:36:08,859 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:08,860 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:08,861 | INFO | sqlalchemy.engine.Engine | [cached since 208.6s ago] ()
2025-11-26 20:36:08,866 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:08,867 | INFO | sqlalchemy.engine.Engine | [cached since 182.4s ago] (1,)
2025-11-26 20:36:08,930 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:08,931 | INFO | sqlalchemy.engine.Engine | [cached since 162.6s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:08,933 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:08,934 | INFO | sqlalchemy.engine.Engine | [cached since 162.6s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:08,949 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:08,951 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:11,142 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:11,142 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:11,143 | INFO | sqlalchemy.engine.Engine | [cached since 210.8s ago] ()
2025-11-26 20:36:11,148 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:11,149 | INFO | sqlalchemy.engine.Engine | [cached since 184.7s ago] (1,)
2025-11-26 20:36:11,222 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:11,223 | INFO | sqlalchemy.engine.Engine | [cached since 94.28s ago] (UUID('b450d91d-868a-45f7-a7ef-0965a6a9c6b5'),)
2025-11-26 20:36:11,233 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:11,235 | INFO | sqlalchemy.engine.Engine | [cached since 94.28s ago] (UUID('b450d91d-868a-45f7-a7ef-0965a6a9c6b5'),)
2025-11-26 20:36:11,250 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:11,250 | INFO | sqlalchemy.engine.Engine | [cached since 94.29s ago] (UUID('b450d91d-868a-45f7-a7ef-0965a6a9c6b5'),)
2025-11-26 20:36:11,256 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:11,509 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:11,511 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:11,512 | INFO | sqlalchemy.engine.Engine | [cached since 211.2s ago] ()
2025-11-26 20:36:11,517 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:11,518 | INFO | sqlalchemy.engine.Engine | [cached since 185.1s ago] (1,)
2025-11-26 20:36:11,533 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:11,534 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:11,536 | INFO | sqlalchemy.engine.Engine | [cached since 211.2s ago] ()
2025-11-26 20:36:11,543 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:11,544 | INFO | sqlalchemy.engine.Engine | [cached since 185.1s ago] (1,)
2025-11-26 20:36:11,604 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:11,604 | INFO | sqlalchemy.engine.Engine | [cached since 165.3s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:11,607 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:11,608 | INFO | sqlalchemy.engine.Engine | [cached since 165.3s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:11,619 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:11,624 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:13,519 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:13,520 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:13,522 | INFO | sqlalchemy.engine.Engine | [cached since 213.2s ago] ()
2025-11-26 20:36:13,531 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:13,532 | INFO | sqlalchemy.engine.Engine | [cached since 187.1s ago] (1,)
2025-11-26 20:36:13,650 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:13,651 | INFO | sqlalchemy.engine.Engine | [cached since 96.71s ago] (UUID('d5752111-30bc-41a4-892d-1f30450b4bba'),)
2025-11-26 20:36:13,670 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:13,672 | INFO | sqlalchemy.engine.Engine | [cached since 96.72s ago] (UUID('d5752111-30bc-41a4-892d-1f30450b4bba'),)
2025-11-26 20:36:13,701 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:13,703 | INFO | sqlalchemy.engine.Engine | [cached since 96.74s ago] (UUID('d5752111-30bc-41a4-892d-1f30450b4bba'),)
2025-11-26 20:36:13,712 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:14,291 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:14,293 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:14,294 | INFO | sqlalchemy.engine.Engine | [cached since 214s ago] ()
2025-11-26 20:36:14,304 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:14,306 | INFO | sqlalchemy.engine.Engine | [cached since 187.9s ago] (1,)
2025-11-26 20:36:14,315 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:14,317 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:14,319 | INFO | sqlalchemy.engine.Engine | [cached since 214s ago] ()
2025-11-26 20:36:14,328 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:14,330 | INFO | sqlalchemy.engine.Engine | [cached since 187.9s ago] (1,)
2025-11-26 20:36:14,470 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:14,472 | INFO | sqlalchemy.engine.Engine | [cached since 168.1s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:14,475 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:14,476 | INFO | sqlalchemy.engine.Engine | [cached since 168.2s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:14,492 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:14,499 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:16,385 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:16,387 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:16,388 | INFO | sqlalchemy.engine.Engine | [cached since 216.1s ago] ()
2025-11-26 20:36:16,399 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:16,400 | INFO | sqlalchemy.engine.Engine | [cached since 190s ago] (1,)
2025-11-26 20:36:16,539 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:16,540 | INFO | sqlalchemy.engine.Engine | [cached since 99.6s ago] (UUID('de94f545-5155-46b6-9d74-204ec6f5a654'),)
2025-11-26 20:36:16,560 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:16,561 | INFO | sqlalchemy.engine.Engine | [cached since 99.61s ago] (UUID('de94f545-5155-46b6-9d74-204ec6f5a654'),)
2025-11-26 20:36:16,584 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:16,586 | INFO | sqlalchemy.engine.Engine | [cached since 99.62s ago] (UUID('de94f545-5155-46b6-9d74-204ec6f5a654'),)
2025-11-26 20:36:16,594 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:16,920 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:16,921 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:16,923 | INFO | sqlalchemy.engine.Engine | [cached since 216.6s ago] ()
2025-11-26 20:36:16,929 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:16,930 | INFO | sqlalchemy.engine.Engine | [cached since 190.5s ago] (1,)
2025-11-26 20:36:16,940 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:16,941 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:16,942 | INFO | sqlalchemy.engine.Engine | [cached since 216.6s ago] ()
2025-11-26 20:36:16,950 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:16,954 | INFO | sqlalchemy.engine.Engine | [cached since 190.5s ago] (1,)
2025-11-26 20:36:17,056 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:17,057 | INFO | sqlalchemy.engine.Engine | [cached since 170.7s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:17,060 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:17,061 | INFO | sqlalchemy.engine.Engine | [cached since 170.7s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:17,079 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:17,090 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:18,699 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:18,700 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:18,701 | INFO | sqlalchemy.engine.Engine | [cached since 218.4s ago] ()
2025-11-26 20:36:18,705 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:18,706 | INFO | sqlalchemy.engine.Engine | [cached since 192.3s ago] (1,)
2025-11-26 20:36:18,781 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:18,782 | INFO | sqlalchemy.engine.Engine | [cached since 101.8s ago] (UUID('bdf28a8d-92f9-4f25-9a61-4451c4ea3ec8'),)
2025-11-26 20:36:18,794 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:18,795 | INFO | sqlalchemy.engine.Engine | [cached since 101.8s ago] (UUID('bdf28a8d-92f9-4f25-9a61-4451c4ea3ec8'),)
2025-11-26 20:36:18,809 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:18,809 | INFO | sqlalchemy.engine.Engine | [cached since 101.8s ago] (UUID('bdf28a8d-92f9-4f25-9a61-4451c4ea3ec8'),)
2025-11-26 20:36:18,816 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:19,102 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:19,104 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:19,105 | INFO | sqlalchemy.engine.Engine | [cached since 218.8s ago] ()
2025-11-26 20:36:19,110 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:19,111 | INFO | sqlalchemy.engine.Engine | [cached since 192.7s ago] (1,)
2025-11-26 20:36:19,123 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:19,124 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:19,124 | INFO | sqlalchemy.engine.Engine | [cached since 218.8s ago] ()
2025-11-26 20:36:19,130 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:19,132 | INFO | sqlalchemy.engine.Engine | [cached since 192.7s ago] (1,)
2025-11-26 20:36:19,193 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:19,194 | INFO | sqlalchemy.engine.Engine | [cached since 172.9s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:19,197 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:19,198 | INFO | sqlalchemy.engine.Engine | [cached since 172.9s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:19,210 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:19,213 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:21,577 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:21,578 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:21,578 | INFO | sqlalchemy.engine.Engine | [cached since 221.3s ago] ()
2025-11-26 20:36:21,585 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:21,586 | INFO | sqlalchemy.engine.Engine | [cached since 195.2s ago] (1,)
2025-11-26 20:36:21,658 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:21,658 | INFO | sqlalchemy.engine.Engine | [cached since 104.7s ago] (UUID('4ad286c7-bd87-4529-be6d-76c0e4958dc6'),)
2025-11-26 20:36:21,671 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:21,671 | INFO | sqlalchemy.engine.Engine | [cached since 104.7s ago] (UUID('4ad286c7-bd87-4529-be6d-76c0e4958dc6'),)
2025-11-26 20:36:21,685 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:21,686 | INFO | sqlalchemy.engine.Engine | [cached since 104.7s ago] (UUID('4ad286c7-bd87-4529-be6d-76c0e4958dc6'),)
2025-11-26 20:36:21,691 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:21,923 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:21,924 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:21,925 | INFO | sqlalchemy.engine.Engine | [cached since 221.6s ago] ()
2025-11-26 20:36:21,932 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:21,933 | INFO | sqlalchemy.engine.Engine | [cached since 195.5s ago] (1,)
2025-11-26 20:36:21,942 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:21,942 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:21,943 | INFO | sqlalchemy.engine.Engine | [cached since 221.6s ago] ()
2025-11-26 20:36:21,949 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:21,951 | INFO | sqlalchemy.engine.Engine | [cached since 195.5s ago] (1,)
2025-11-26 20:36:22,010 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:22,010 | INFO | sqlalchemy.engine.Engine | [cached since 175.7s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:22,011 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:22,012 | INFO | sqlalchemy.engine.Engine | [cached since 175.7s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:22,021 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:22,026 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:24,350 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:24,351 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:24,352 | INFO | sqlalchemy.engine.Engine | [cached since 224.1s ago] ()
2025-11-26 20:36:24,363 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:24,364 | INFO | sqlalchemy.engine.Engine | [cached since 197.9s ago] (1,)
2025-11-26 20:36:24,489 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:24,490 | INFO | sqlalchemy.engine.Engine | [cached since 107.6s ago] (UUID('1a5abab2-9050-44f7-853c-357f57ad3ca2'),)
2025-11-26 20:36:24,501 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:24,502 | INFO | sqlalchemy.engine.Engine | [cached since 107.6s ago] (UUID('1a5abab2-9050-44f7-853c-357f57ad3ca2'),)
2025-11-26 20:36:24,515 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:24,516 | INFO | sqlalchemy.engine.Engine | [cached since 107.6s ago] (UUID('1a5abab2-9050-44f7-853c-357f57ad3ca2'),)
2025-11-26 20:36:24,522 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:24,797 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:24,798 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:24,798 | INFO | sqlalchemy.engine.Engine | [cached since 224.5s ago] ()
2025-11-26 20:36:24,805 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:24,806 | INFO | sqlalchemy.engine.Engine | [cached since 198.4s ago] (1,)
2025-11-26 20:36:24,819 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:24,820 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:24,821 | INFO | sqlalchemy.engine.Engine | [cached since 224.5s ago] ()
2025-11-26 20:36:24,828 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:24,830 | INFO | sqlalchemy.engine.Engine | [cached since 198.4s ago] (1,)
2025-11-26 20:36:24,887 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:24,888 | INFO | sqlalchemy.engine.Engine | [cached since 178.6s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:24,890 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:24,891 | INFO | sqlalchemy.engine.Engine | [cached since 178.6s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:24,900 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:24,909 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:27,106 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:27,107 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:27,107 | INFO | sqlalchemy.engine.Engine | [cached since 226.8s ago] ()
2025-11-26 20:36:27,112 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:27,113 | INFO | sqlalchemy.engine.Engine | [cached since 200.7s ago] (1,)
2025-11-26 20:36:27,187 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:27,188 | INFO | sqlalchemy.engine.Engine | [cached since 110.2s ago] (UUID('29222d43-17f6-4c5f-9d49-d3271cb064b5'),)
2025-11-26 20:36:27,197 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-26 20:36:27,199 | INFO | sqlalchemy.engine.Engine | [cached since 110.2s ago] (UUID('29222d43-17f6-4c5f-9d49-d3271cb064b5'),)
2025-11-26 20:36:27,211 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:36:27,212 | INFO | sqlalchemy.engine.Engine | [cached since 110.2s ago] (UUID('29222d43-17f6-4c5f-9d49-d3271cb064b5'),)
2025-11-26 20:36:27,216 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:36:27,418 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:27,418 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:27,421 | INFO | sqlalchemy.engine.Engine | [cached since 227.1s ago] ()
2025-11-26 20:36:27,426 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:27,427 | INFO | sqlalchemy.engine.Engine | [cached since 201s ago] (1,)
2025-11-26 20:36:27,442 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:36:27,443 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:36:27,444 | INFO | sqlalchemy.engine.Engine | [cached since 227.1s ago] ()
2025-11-26 20:36:27,451 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:36:27,452 | INFO | sqlalchemy.engine.Engine | [cached since 201s ago] (1,)
2025-11-26 20:36:27,521 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 20:36:27,522 | INFO | sqlalchemy.engine.Engine | [cached since 181.2s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 20:36:27,524 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 20:36:27,524 | INFO | sqlalchemy.engine.Engine | [cached since 181.2s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 20:36:27,539 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:36:27,541 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:39:34,899 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-26 20:39:34,900 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:39:34,908 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-26 20:39:34,908 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:39:34,917 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-26 20:39:34,918 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:39:34,927 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:39:34,928 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-26 20:39:34,930 | INFO | sqlalchemy.engine.Engine | [generated in 0.00159s] ()
2025-11-26 20:39:34,938 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:39:34,939 | INFO | sqlalchemy.engine.Engine | [generated in 0.00106s] ()
2025-11-26 20:39:34,948 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:34,950 | INFO | sqlalchemy.engine.Engine | [generated in 0.00127s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,049 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,050 | INFO | sqlalchemy.engine.Engine | [cached since 0.1015s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,055 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,056 | INFO | sqlalchemy.engine.Engine | [cached since 0.1074s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,060 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,061 | INFO | sqlalchemy.engine.Engine | [cached since 0.1125s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,066 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,068 | INFO | sqlalchemy.engine.Engine | [cached since 0.1189s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,073 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,074 | INFO | sqlalchemy.engine.Engine | [cached since 0.1257s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,080 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,081 | INFO | sqlalchemy.engine.Engine | [cached since 0.1326s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,086 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:39:35,088 | INFO | sqlalchemy.engine.Engine | [cached since 0.1392s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:39:35,098 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:39:35,099 | INFO | sqlalchemy.engine.Engine | [generated in 0.00164s] ('group_role', 'pg_catalog')
2025-11-26 20:39:35,110 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:39:35,111 | INFO | sqlalchemy.engine.Engine | [cached since 0.0132s ago] ('group_membership_status', 'pg_catalog')
2025-11-26 20:39:35,118 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:39:35,119 | INFO | sqlalchemy.engine.Engine | [cached since 0.022s ago] ('user_status', 'pg_catalog')
2025-11-26 20:39:35,127 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:39:35,128 | INFO | sqlalchemy.engine.Engine | [cached since 0.03066s ago] ('account_type', 'pg_catalog')
2025-11-26 20:39:35,133 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-26 20:39:35,134 | INFO | sqlalchemy.engine.Engine | [generated in 0.00140s] ()
2025-11-26 20:39:35,143 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-26 20:39:35,144 | INFO | sqlalchemy.engine.Engine | [generated in 0.00106s] ()
2025-11-26 20:39:35,247 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-26 20:39:35,248 | INFO | sqlalchemy.engine.Engine | [generated in 0.00125s] ()
2025-11-26 20:39:35,589 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:39:35,631 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-26 20:40:41,837 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-26 20:40:41,838 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:40:41,848 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-26 20:40:41,849 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:40:41,859 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-26 20:40:41,859 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-26 20:40:41,868 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:40:41,870 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-26 20:40:41,870 | INFO | sqlalchemy.engine.Engine | [generated in 0.00102s] ()
2025-11-26 20:40:41,877 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:40:41,878 | INFO | sqlalchemy.engine.Engine | [generated in 0.00130s] ()
2025-11-26 20:40:41,892 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,893 | INFO | sqlalchemy.engine.Engine | [generated in 0.00147s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,926 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,927 | INFO | sqlalchemy.engine.Engine | [cached since 0.03564s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,932 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,933 | INFO | sqlalchemy.engine.Engine | [cached since 0.04099s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,937 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,939 | INFO | sqlalchemy.engine.Engine | [cached since 0.04731s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,946 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,948 | INFO | sqlalchemy.engine.Engine | [cached since 0.057s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,953 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,953 | INFO | sqlalchemy.engine.Engine | [cached since 0.06265s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,959 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,960 | INFO | sqlalchemy.engine.Engine | [cached since 0.06884s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,964 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-26 20:40:41,966 | INFO | sqlalchemy.engine.Engine | [cached since 0.07409s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-26 20:40:41,971 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:40:41,971 | INFO | sqlalchemy.engine.Engine | [generated in 0.00082s] ('group_role', 'pg_catalog')
2025-11-26 20:40:41,977 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:40:41,977 | INFO | sqlalchemy.engine.Engine | [cached since 0.007606s ago] ('group_membership_status', 'pg_catalog')
2025-11-26 20:40:41,983 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:40:41,984 | INFO | sqlalchemy.engine.Engine | [cached since 0.0134s ago] ('user_status', 'pg_catalog')
2025-11-26 20:40:41,988 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-26 20:40:41,989 | INFO | sqlalchemy.engine.Engine | [cached since 0.0187s ago] ('account_type', 'pg_catalog')
2025-11-26 20:40:41,993 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-26 20:40:41,995 | INFO | sqlalchemy.engine.Engine | [generated in 0.00112s] ()
2025-11-26 20:40:42,002 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-26 20:40:42,003 | INFO | sqlalchemy.engine.Engine | [generated in 0.00070s] ()
2025-11-26 20:40:42,019 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-26 20:40:42,020 | INFO | sqlalchemy.engine.Engine | [generated in 0.00126s] ()
2025-11-26 20:40:42,089 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:40:42,139 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-26 20:40:52,803 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:40:52,804 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:40:52,805 | INFO | sqlalchemy.engine.Engine | [cached since 10.93s ago] ()
2025-11-26 20:40:52,859 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 20:40:52,860 | INFO | sqlalchemy.engine.Engine | [generated in 0.00103s] ('josuelu2@gmail.com',)
2025-11-26 20:40:53,116 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:40:55,376 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:40:55,376 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:40:55,377 | INFO | sqlalchemy.engine.Engine | [cached since 13.5s ago] ()
2025-11-26 20:40:55,386 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:40:55,387 | INFO | sqlalchemy.engine.Engine | [generated in 0.00085s] (1,)
2025-11-26 20:40:55,472 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:40:59,358 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-26 20:40:59,472 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B089E750>
2025-11-26 20:40:59,472 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000226B02D20F0> server_hostname='aviationweather.gov' timeout=10.0
2025-11-26 20:40:59,578 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B095BF90>
2025-11-26 20:40:59,579 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-26 20:40:59,581 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-26 20:40:59,583 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-26 20:40:59,583 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-26 20:40:59,585 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-26 20:40:59,709 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 27 Nov 2025 02:40:59 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'435'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1b3-By9bjgs8s+BO6Mloz9JO019CFIA"'), (b'x-azure-ref', b'20251127T024059Z-1654ff757979sr6xhC1MIAft5n00000026x0000000008957'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_REVALIDATED_HIT'), (b'Accept-Ranges', b'bytes')])
2025-11-26 20:40:59,710 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-26 20:40:59,711 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-26 20:40:59,712 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-26 20:40:59,712 | DEBUG | httpcore.http11 | response_closed.started
2025-11-26 20:40:59,713 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-26 20:40:59,714 | DEBUG | httpcore.connection | close.started
2025-11-26 20:40:59,715 | DEBUG | httpcore.connection | close.complete
2025-11-26 20:41:02,124 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:41:02,125 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:41:02,126 | INFO | sqlalchemy.engine.Engine | [cached since 20.25s ago] ()
2025-11-26 20:41:02,236 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:41:02,237 | INFO | sqlalchemy.engine.Engine | [cached since 6.851s ago] (1,)
2025-11-26 20:41:02,358 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-26 20:41:02,359 | INFO | sqlalchemy.engine.Engine | [generated in 0.01846s] (UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'), UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1014", "windDirection": "100", "windSpeed": "15", "temp": "23", "dewp": "18", "cloudCover": "FEW", "cloudBase": "3500", "wind": "100/15"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 26, 20, 41, 2, 358803, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 26, 20, 41, 2, 358803, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-26 20:41:02,415 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:41:02,589 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:41:02,593 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-26 20:41:02,593 | INFO | sqlalchemy.engine.Engine | [generated in 0.00100s] (UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'),)
2025-11-26 20:41:02,614 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:41:46,545 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:41:46,546 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 20:41:46,547 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 20:41:46,548 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,550 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 20:41:46,550 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 20:41:46,551 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,552 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:41:46,552 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 20:41:46,554 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:41:46,555 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:41:46,556 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 20:41:46,557 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 20:41:46,558 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,560 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 20:41:46,561 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 20:41:46,562 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,563 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:41:46,564 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 20:41:46,565 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:41:46,566 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:41:46,567 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 20:41:46,568 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 20:41:46,569 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,569 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 20:41:46,570 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 20:41:46,571 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,572 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 20:41:46,573 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 20:41:46,575 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:41:46,575 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:41:46,576 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-26 20:41:46,579 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:46,581 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:41:46,717 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:46,720 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:46,723 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:46,881 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:46,883 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:46,885 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,011 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,012 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:47,014 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,134 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,135 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:47,138 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:41:47,258 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,259 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:47,262 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:41:47,383 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:47,386 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,499 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:47,501 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:47,614 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,618 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,619 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:41:47,745 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,746 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:47,748 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,872 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:47,873 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:47,875 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:47,983 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:47,985 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,105 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,108 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-26 20:41:48,223 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:48,224 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,226 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,343 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:48,345 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,460 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:48,462 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,463 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,574 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:48,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,577 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:41:48,688 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,806 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,807 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:48,810 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:48,939 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:48,942 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:48,946 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:49,101 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,102 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,105 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:41:49,233 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,234 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,237 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,239 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:41:49,372 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,374 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,377 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:49,500 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,501 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,503 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,506 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,507 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:41:49,630 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,632 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,633 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:49,750 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,754 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:41:49,878 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:41:49,879 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:41:49,881 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2961]
2025-11-26 20:41:49,883 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:41:49,883 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 20:41:50,016 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:41:50,018 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:41:50,019 | INFO | sqlalchemy.engine.Engine | [cached since 68.14s ago] ()
2025-11-26 20:41:50,026 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:41:50,027 | INFO | sqlalchemy.engine.Engine | [cached since 54.64s ago] (1,)
2025-11-26 20:41:52,492 | INFO | app.services.transcribe | Starting stream. Total bytes: 1564672. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 20:41:52,604 | DEBUG | app.services.transcribe | Streamed 8192/1564672 bytes
2025-11-26 20:41:57,772 | DEBUG | app.services.transcribe | Streamed 417792/1564672 bytes
2025-11-26 20:42:02,872 | DEBUG | app.services.transcribe | Received transcript chunk: superficie, Alfa Nov...
2025-11-26 20:42:02,994 | DEBUG | app.services.transcribe | Streamed 827392/1564672 bytes
2025-11-26 20:42:08,264 | DEBUG | app.services.transcribe | Streamed 1236992/1564672 bytes
2025-11-26 20:42:12,442 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 20:42:12,856 | DEBUG | app.services.transcribe | Received transcript chunk: VFR hacia zona eco v...
2025-11-26 20:42:12,985 | INFO | app.services.transcribe | Transcription complete. Length: 187
2025-11-26 20:42:12,986 | INFO | app.controllers.audio | Transcripcin recibida session=a3bd26af-1467-43a2-85cd-571d69a2e574: superficie, Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo. VFR hacia zona eco va pasoologo nivel 7000 pies, dos almas a bordo, autonoma cinco horas.
2025-11-26 20:42:12,988 | INFO | app.logs.transcript | student | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | text=superficie, Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo. VFR hacia zona eco va pasoologo nivel 7000 pies, dos almas a bordo, autonoma cinco horas.
2025-11-26 20:42:13,116 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:42:13,120 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:42:13,121 | INFO | sqlalchemy.engine.Engine | [generated in 0.00207s] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:42:13,144 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:42:14,376 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:42:14,384 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:42:14,393 | INFO | sqlalchemy.engine.Engine | [cached since 1.274s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:42:14,429 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:42:14,433 | INFO | sqlalchemy.engine.Engine | [generated in 0.00435s] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (14311 characters truncated) ... pv_zone_echo", "intent": "ground_flight_plan_request", "frequency_group": "ground", "intent_confidence": 0.95, "timestamp": "2025-11-27T02:42:14Z"}]}', datetime.datetime(2025, 11, 26, 20, 42, 14, 429016, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:42:14,463 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:42:14,523 | INFO | app.controllers.audio | Fase activa session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_departure_request intent=ground_flight_plan_request freq=ground
2025-11-26 20:42:14,528 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_flight_plan_request freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 15 nudos. QNH 1014. Transponder 0521. Ruede va Alfa 3, Alfa al punto de espera pista uno cero. Llame listo.' Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": numb...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_flight_plan_request
Transcripcin textual del alumno:
superficie, Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo. VFR hacia zona eco va pasoologo nivel 7000 pies, dos almas a bordo, autonoma cinco horas.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indicar...
2025-11-26 20:42:24,951 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_flight_plan_request intento=1: {
  "intent": "ground_flight_plan_request",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 15 nudos. QNH 1014. Transponder 0521. Ruede va Alfa 3, Alfa al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Todos los elementos requeridos fueron proporcionados correctamente.",
  "confidence": 0.95,
  "score": 95,
  "metadata": {
    "nextPhase": "ground_readback"...
2025-11-26 20:42:24,952 | INFO | app.controllers.audio | Transicin automtica de fase session=a3bd26af-1467-43a2-85cd-571d69a2e574 de=ground_departure_request a=ground_readback
2025-11-26 20:42:25,079 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:42:25,080 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:42:25,081 | INFO | sqlalchemy.engine.Engine | [cached since 11.96s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:42:25,103 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:42:25,104 | INFO | sqlalchemy.engine.Engine | [cached since 10.68s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (16111 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 42, 25, 103488, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:42:25,119 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:42:25,151 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 20:42:25,152 | INFO | sqlalchemy.engine.Engine | [generated in 0.00181s] (UUID('b8fdc59b-f6ec-4b5e-af20-74e7852f3b6a'), UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'), 1, 'ground_readback', 95.0, 'Solicitud completa. Todos los elementos requeridos fueron proporcionados correctamente.')
2025-11-26 20:42:25,199 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:42:25,225 | INFO | app.controllers.audio | Puntuacin guardada session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback score=95.00
2025-11-26 20:42:25,227 | INFO | app.logs.transcript | controller | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | intent=ground_flight_plan_request | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 15 nudos. QNH 1014. Transponder 0521. Ruede va Alfa 3, Alfa al punto de espera pista uno cero. Llame listo.
2025-11-26 20:44:31,648 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:44:31,648 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 20:44:31,650 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 20:44:31,651 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,652 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 20:44:31,653 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 20:44:31,654 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,655 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:44:31,656 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 20:44:31,657 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:44:31,658 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:44:31,658 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 20:44:31,659 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 20:44:31,660 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,660 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 20:44:31,662 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 20:44:31,664 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,665 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:44:31,665 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 20:44:31,666 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:44:31,667 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:44:31,668 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 20:44:31,669 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 20:44:31,670 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,671 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 20:44:31,671 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 20:44:31,672 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,673 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 20:44:31,675 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 20:44:31,675 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:44:31,677 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:44:31,677 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-26 20:44:31,679 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:44:31,819 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:31,821 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:31,827 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:31,831 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:31,834 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:44:31,985 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:31,987 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:31,990 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:32,141 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:32,143 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:32,145 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:32,287 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:32,289 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-26 20:44:32,437 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:32,439 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:32,441 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:32,563 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:32,565 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:32,567 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:32,697 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:32,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:32,701 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:44:32,829 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:32,830 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:32,833 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:32,961 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:32,963 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:33,087 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:33,090 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:33,210 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,211 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,213 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,215 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:33,346 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:33,347 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 20:44:33,465 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:33,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,476 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2351]
2025-11-26 20:44:33,592 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1]
2025-11-26 20:44:33,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:33,595 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,597 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:33,725 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:33,727 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:33,729 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:33,859 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:33,860 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:34,008 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:34,012 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:34,016 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:34,198 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:34,201 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:34,205 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:34,409 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:34,414 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:34,421 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:34,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:34,618 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:34,620 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:34,827 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:34,830 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:34,835 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:35,045 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:35,047 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:35,172 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:35,175 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:35,302 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,304 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:35,306 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,309 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:44:35,452 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:44:35,458 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,462 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:44:35,595 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,599 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:35,601 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:35,745 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,748 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:35,750 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:44:35,832 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:44:35,835 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:44:35,839 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:121]
2025-11-26 20:44:35,840 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:44:35,841 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 20:44:36,008 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:44:36,009 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:44:36,010 | INFO | sqlalchemy.engine.Engine | [cached since 234.1s ago] ()
2025-11-26 20:44:36,018 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:44:36,019 | INFO | sqlalchemy.engine.Engine | [cached since 220.6s ago] (1,)
2025-11-26 20:44:37,134 | INFO | app.services.transcribe | Starting stream. Total bytes: 1662976. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 20:44:37,212 | DEBUG | app.services.transcribe | Streamed 8192/1662976 bytes
2025-11-26 20:44:42,210 | DEBUG | app.services.transcribe | Streamed 417792/1662976 bytes
2025-11-26 20:44:42,364 | DEBUG | app.services.transcribe | Received transcript chunk: QNH 1014....
2025-11-26 20:44:44,713 | DEBUG | app.services.transcribe | Received transcript chunk: transponder....
2025-11-26 20:44:47,118 | DEBUG | app.services.transcribe | Received transcript chunk: 0521....
2025-11-26 20:44:47,328 | DEBUG | app.services.transcribe | Streamed 827392/1662976 bytes
2025-11-26 20:44:52,309 | DEBUG | app.services.transcribe | Streamed 1236992/1662976 bytes
2025-11-26 20:44:53,526 | DEBUG | app.services.transcribe | Received transcript chunk: rod va alfa tres A...
2025-11-26 20:44:57,493 | DEBUG | app.services.transcribe | Streamed 1646592/1662976 bytes
2025-11-26 20:44:57,701 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 20:44:58,320 | DEBUG | app.services.transcribe | Received transcript chunk: al.de espera pista 1...
2025-11-26 20:44:58,373 | INFO | app.services.transcribe | Transcription complete. Length: 98
2025-11-26 20:44:58,375 | INFO | app.controllers.audio | Transcripcin recibida session=a3bd26af-1467-43a2-85cd-571d69a2e574: QNH 1014. transponder. 0521. rod va alfa tres Alfa. al.de espera pista 10 Alfa Noviembre India.
2025-11-26 20:44:58,376 | INFO | app.logs.transcript | student | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | text=QNH 1014. transponder. 0521. rod va alfa tres Alfa. al.de espera pista 10 Alfa Noviembre India.
2025-11-26 20:44:58,503 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:44:58,505 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:44:58,507 | INFO | sqlalchemy.engine.Engine | [cached since 165.4s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:44:58,530 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:45:01,978 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_taxi_instructions", "confidence": 0.92, "frequencyGroup": "ground"}

Anlisis:
- "rod va alfa tres" indica instrucciones de rodaje (taxi)
- "al. de espera pista 10" sugiere ubicacin en plataforma
- "Alfa Noviembre India" es un indicativo de aeronave
- Frecuencia de tierra (ground) maneja movimientos en plataforma y rodaje

La combinacin de instrucciones de rodaje y ubicacin en plataforma apunta claramente a comunicaciones de tierra con alta confianza.
2025-11-26 20:45:02,106 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:45:02,107 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:45:02,109 | INFO | sqlalchemy.engine.Engine | [cached since 169s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:45:02,128 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:45:02,129 | INFO | sqlalchemy.engine.Engine | [cached since 167.7s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (16539 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 45, 2, 127310, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:45:02,142 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:45:02,168 | INFO | app.controllers.audio | Fase activa session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback intent=ground_taxi_readback freq=ground
2025-11-26 20:45:02,171 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_readback freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0 a 100 que evale la calidad de la transmisin del alumno para la fase actual, considerando: fraseologa correcta, informa...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_readback
Transcripcin textual del alumno:
QNH 1014. transponder. 0521. rod va alfa tres Alfa. al.de espera pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- Uso correcto d...
2025-11-26 20:45:14,040 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_readback intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Faltan elementos crticos en la colacin: pista en uso (uno cero), viento (100/15) y contacto con Torre 118.3. Adems, la fraseologa debe ser 'Rodar va Alfa 3, Alfa' en lugar de 'rod'. Corrija estos puntos antes de proceder.",
  "confidence": 0.85,
  "score": 40,
  "metadata": {
    "missingItems": [
      "Pista en uso (uno cero)",
      "Viento (100 grados 15 nudos)",
      "Contacto...
2025-11-26 20:45:14,290 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:45:14,293 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:45:14,297 | INFO | sqlalchemy.engine.Engine | [cached since 181.2s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:45:14,348 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:45:14,351 | INFO | sqlalchemy.engine.Engine | [cached since 179.9s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (17870 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 45, 14, 347893, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:45:14,401 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:45:14,455 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 20:45:14,458 | INFO | sqlalchemy.engine.Engine | [cached since 169.3s ago] (UUID('8c82c9ce-b7fc-45b2-8e0d-5bdee53d9780'), UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'), 1, 'ground_readback', 40.0, "Faltan elementos crticos en la colacin: pista en uso (uno cero), viento (100/15) y contacto con Torre 118.3. Adems, la fraseologa debe ser 'Rodar va Alfa 3, Alfa' en lugar de 'rod'. Corrija estos puntos antes de proceder.")
2025-11-26 20:45:14,476 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:45:14,528 | INFO | app.controllers.audio | Puntuacin guardada session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback score=40.00
2025-11-26 20:45:14,530 | INFO | app.logs.transcript | controller | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | intent=ground_taxi_readback | phase=ground_readback | allow_response=False | text=
2025-11-26 20:47:15,400 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:47:15,401 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 20:47:15,402 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 20:47:15,403 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,404 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 20:47:15,405 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 20:47:15,406 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,406 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:47:15,408 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 20:47:15,409 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:47:15,409 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:47:15,410 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 20:47:15,410 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 20:47:15,411 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,411 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 20:47:15,413 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 20:47:15,414 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,415 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:47:15,417 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 20:47:15,419 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:47:15,419 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:47:15,420 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 20:47:15,421 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 20:47:15,423 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,423 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 20:47:15,423 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 20:47:15,425 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,427 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 20:47:15,428 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 20:47:15,428 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:47:15,429 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:47:15,430 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-26 20:47:15,432 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:15,433 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:47:15,539 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:15,541 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,543 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:15,658 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,660 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,662 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:15,664 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:15,779 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:15,780 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,783 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,785 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:47:15,904 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:15,906 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:15,908 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:16,028 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:16,029 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,032 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:16,153 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,154 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,156 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:16,273 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,274 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,276 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:16,393 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,395 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,397 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:16,519 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,521 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,524 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:16,661 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:16,663 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,665 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:47:16,798 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,799 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,806 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,808 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:47:16,927 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:16,928 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:16,930 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:17,054 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,056 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,059 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:17,220 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,223 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,225 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,227 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:17,341 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,344 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,345 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:17,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:17,473 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:17,587 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,590 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,592 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:47:17,700 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,701 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,703 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,705 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:17,816 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:17,819 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,821 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:17,932 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,934 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:17,937 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:17,939 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:18,042 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,043 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,044 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:18,045 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:18,151 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,151 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,154 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,157 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:18,264 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,265 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,271 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,273 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:18,378 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,379 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,381 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:47:18,383 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:47:18,494 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:47:18,496 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,498 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:47:18,542 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:47:18,545 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:194]
2025-11-26 20:47:18,546 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:47:18,547 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 20:47:18,676 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:47:18,678 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:47:18,678 | INFO | sqlalchemy.engine.Engine | [cached since 396.8s ago] ()
2025-11-26 20:47:18,685 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:47:18,686 | INFO | sqlalchemy.engine.Engine | [cached since 383.3s ago] (1,)
2025-11-26 20:47:19,860 | INFO | app.services.transcribe | Starting stream. Total bytes: 1533952. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 20:47:19,952 | DEBUG | app.services.transcribe | Streamed 8192/1533952 bytes
2025-11-26 20:47:25,000 | DEBUG | app.services.transcribe | Streamed 417792/1533952 bytes
2025-11-26 20:47:26,094 | DEBUG | app.services.transcribe | Received transcript chunk: UNH 1014 Transponder...
2025-11-26 20:47:30,185 | DEBUG | app.services.transcribe | Streamed 827392/1533952 bytes
2025-11-26 20:47:32,894 | DEBUG | app.services.transcribe | Received transcript chunk: rodaremos va Alpha ...
2025-11-26 20:47:34,574 | DEBUG | app.services.transcribe | Received transcript chunk: viento....
2025-11-26 20:47:35,377 | DEBUG | app.services.transcribe | Streamed 1236992/1533952 bytes
2025-11-26 20:47:36,674 | DEBUG | app.services.transcribe | Received transcript chunk: 15 nudos....
2025-11-26 20:47:38,370 | DEBUG | app.services.transcribe | Received transcript chunk: 100 grados....
2025-11-26 20:47:39,223 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 20:47:39,490 | INFO | app.services.transcribe | Transcription complete. Length: 111
2025-11-26 20:47:39,491 | INFO | app.controllers.audio | Transcripcin recibida session=a3bd26af-1467-43a2-85cd-571d69a2e574: UNH 1014 Transponder 0522. rodaremos va Alpha tres Alpha al.de espera pista 10. viento. 15 nudos. 100 grados.
2025-11-26 20:47:39,492 | INFO | app.logs.transcript | student | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | text=UNH 1014 Transponder 0522. rodaremos va Alpha tres Alpha al.de espera pista 10. viento. 15 nudos. 100 grados.
2025-11-26 20:47:39,609 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:47:39,609 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:47:39,610 | INFO | sqlalchemy.engine.Engine | [cached since 326.5s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:47:39,627 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:47:43,202 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_taxi_instructions", "confidence": 0.95, "frequencyGroup": "ground"}

Explicacin:
- La mencin "rodaremos va Alpha tres Alpha" indica instrucciones de taxi.
- "al. de espera pista 10" sugiere que se dirigen a una zona de espera en pista, lo cual es tpico de comunicaciones en tierra.
- La frecuencia de tierra (ground) en MRPV es 121.7 MHz, que coincide con este tipo de comunicacin.
- La confianza es alta (0.95) porque la transmisin sigue patrones estndar de instruccin de rodaje.
2025-11-26 20:47:43,311 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:47:43,312 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:47:43,314 | INFO | sqlalchemy.engine.Engine | [cached since 330.2s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:47:43,332 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:47:43,333 | INFO | sqlalchemy.engine.Engine | [cached since 328.9s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (18305 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 47, 43, 331071, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:47:43,349 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:47:43,377 | INFO | app.controllers.audio | Fase activa session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback intent=ground_taxi_readback freq=ground
2025-11-26 20:47:43,381 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_readback freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0 a 100 que evale la calidad de la transmisin del alumno para la fase actual, considerando: fraseologa correcta, informa...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_readback
Transcripcin textual del alumno:
UNH 1014 Transponder 0522. rodaremos va Alpha tres Alpha al.de espera pista 10. viento. 15 nudos. 100 grados.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- U...
2025-11-26 20:47:56,575 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_readback intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Errores detectados: cdigo transponder incorrecto (0522 vs 0521 asignado), falta contacto con Torre 118.3 y pista en uso debe ser 'uno cero'. Corrija estos elementos antes de proceder.",
  "confidence": 0.92,
  "score": 45,
  "metadata": {
    "missingItems": [
      "Cdigo transponder correcto",
      "Contacto Torre 118.3",
      "Pista en uso correcta"
    ],
    "errors": [
      "Tra...
2025-11-26 20:47:56,688 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:47:56,690 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:47:56,691 | INFO | sqlalchemy.engine.Engine | [cached since 343.6s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:47:56,708 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:47:56,708 | INFO | sqlalchemy.engine.Engine | [cached since 342.3s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (19692 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 47, 56, 707381, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:47:56,723 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:47:56,746 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 20:47:56,747 | INFO | sqlalchemy.engine.Engine | [cached since 331.6s ago] (UUID('31661799-8cd1-4e50-b9d1-61f3dcec8a81'), UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'), 1, 'ground_readback', 45.0, "Errores detectados: cdigo transponder incorrecto (0522 vs 0521 asignado), falta contacto con Torre 118.3 y pista en uso debe ser 'uno cero'. Corrija estos elementos antes de proceder.")
2025-11-26 20:47:56,762 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:47:56,793 | INFO | app.controllers.audio | Puntuacin guardada session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback score=45.00
2025-11-26 20:47:56,795 | INFO | app.logs.transcript | controller | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | intent=ground_taxi_readback | phase=ground_readback | allow_response=False | text=
2025-11-26 20:48:43,739 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:48:43,740 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 20:48:43,741 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 20:48:43,742 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,743 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 20:48:43,744 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 20:48:43,744 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,745 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:48:43,745 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 20:48:43,747 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:48:43,748 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:48:43,749 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 20:48:43,751 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 20:48:43,753 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,754 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 20:48:43,756 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 20:48:43,758 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,759 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:48:43,760 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 20:48:43,762 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:48:43,763 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 20:48:43,764 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 20:48:43,765 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 20:48:43,768 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,768 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 20:48:43,771 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 20:48:43,771 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,772 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 20:48:43,773 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 20:48:43,774 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 20:48:43,774 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 20:48:43,776 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-26 20:48:43,779 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 20:48:43,902 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:43,903 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:43,905 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:44,021 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:44,022 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:44,024 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:44,135 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:44,138 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:44,140 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:44,140 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:44,293 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:44,295 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:44,297 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:44,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:44,470 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:44,477 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:44,674 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:44,676 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:44,849 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:44,859 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:44,863 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:45,027 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,029 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,033 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:45,037 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:45,176 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:45,178 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:45,294 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:45,296 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,297 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:45,299 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:45,419 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,420 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,425 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:45,542 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,544 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5840]
2025-11-26 20:48:45,545 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:45,660 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:45,663 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:45,785 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:45,787 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,789 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:45,906 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:45,907 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:45,909 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:46,026 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:46,028 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:46,029 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:46,165 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 20:48:46,169 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:46,172 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 20:48:46,288 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:46,289 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:46,290 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:46,407 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:46,409 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 20:48:46,410 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 20:48:46,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 20:48:46,469 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1064]
2025-11-26 20:48:46,469 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 20:48:46,470 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 20:48:46,611 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:48:46,612 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 20:48:46,613 | INFO | sqlalchemy.engine.Engine | [cached since 484.7s ago] ()
2025-11-26 20:48:46,623 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 20:48:46,623 | INFO | sqlalchemy.engine.Engine | [cached since 471.2s ago] (1,)
2025-11-26 20:48:47,659 | INFO | app.services.transcribe | Starting stream. Total bytes: 1206272. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 20:48:47,759 | DEBUG | app.services.transcribe | Streamed 8192/1206272 bytes
2025-11-26 20:48:52,783 | DEBUG | app.services.transcribe | Streamed 417792/1206272 bytes
2025-11-26 20:48:53,037 | DEBUG | app.services.transcribe | Received transcript chunk: UNH 1014....
2025-11-26 20:48:56,399 | DEBUG | app.services.transcribe | Received transcript chunk: transponder 0521....
2025-11-26 20:48:57,952 | DEBUG | app.services.transcribe | Streamed 827392/1206272 bytes
2025-11-26 20:49:01,753 | DEBUG | app.services.transcribe | Received transcript chunk: rodaremos va Alfa t...
2025-11-26 20:49:02,680 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 20:49:03,105 | DEBUG | app.services.transcribe | Received transcript chunk: listo....
2025-11-26 20:49:03,139 | INFO | app.services.transcribe | Transcription complete. Length: 82
2025-11-26 20:49:03,141 | INFO | app.controllers.audio | Transcripcin recibida session=a3bd26af-1467-43a2-85cd-571d69a2e574: UNH 1014. transponder 0521. rodaremos va Alfa tres Alpha al.de espera 10. listo.
2025-11-26 20:49:03,142 | INFO | app.logs.transcript | student | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | text=UNH 1014. transponder 0521. rodaremos va Alfa tres Alpha al.de espera 10. listo.
2025-11-26 20:49:03,268 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:49:03,268 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:49:03,270 | INFO | sqlalchemy.engine.Engine | [cached since 410.2s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:49:03,286 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 20:49:04,917 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:49:04,919 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:49:04,921 | INFO | sqlalchemy.engine.Engine | [cached since 411.8s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:49:04,948 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:49:04,949 | INFO | sqlalchemy.engine.Engine | [cached since 410.5s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (20192 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 49, 4, 947446, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:49:04,973 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:49:05,027 | INFO | app.controllers.audio | Fase activa session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback intent=ground_taxi_instructions freq=ground
2025-11-26 20:49:05,031 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_instructions freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0 a 100 que evale la calidad de la transmisin del alumno para la fase actual, considerando: fraseologa correcta, informa...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_instructions
Transcripcin textual del alumno:
UNH 1014. transponder 0521. rodaremos va Alfa tres Alpha al.de espera 10. listo.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- Uso correcto de fraseolog...
2025-11-26 20:49:22,271 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_instructions intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Persisten errores en la colacin: 1) Falta confirmar pista en uso 'uno cero'. 2) No menciona contacto con Torre 118.3. 3) La fraseologa debe ser 'Rodar va Alfa 3, Alfa' en lugar de 'rodaremos'. Corrija estos puntos para proceder.",
  "confidence": 0.85,
  "score": 55,
  "metadata": {
    "missingItems": [
      "Pista en uso (uno cero)",
      "Contacto Torre 118.3",
      "Fraseologa ...
2025-11-26 20:49:22,273 | INFO | app.services.audio_pipeline | Intent devuelto por el LLM (ground_taxi_readback) difiere del esperado (ground_taxi_instructions)
2025-11-26 20:49:22,393 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 20:49:22,394 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 20:49:22,395 | INFO | sqlalchemy.engine.Engine | [cached since 429.3s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 20:49:22,415 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 20:49:22,416 | INFO | sqlalchemy.engine.Engine | [cached since 428s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "100/15", "cloudBase": "3500", "condition": "VMC", "windSpeed": "15", " ... (21626 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0521", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 20, 49, 22, 414206, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('05eebf9e-8a39-4600-9821-1d89156bddd4'))
2025-11-26 20:49:22,429 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:49:22,460 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 20:49:22,461 | INFO | sqlalchemy.engine.Engine | [cached since 417.3s ago] (UUID('d2edcf65-715b-41e0-8786-5a87bdb5b81b'), UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'), 1, 'ground_readback', 55.0, "Persisten errores en la colacin: 1) Falta confirmar pista en uso 'uno cero'. 2) No menciona contacto con Torre 118.3. 3) La fraseologa debe ser 'Rodar va Alfa 3, Alfa' en lugar de 'rodaremos'. Corrija estos puntos para proceder.")
2025-11-26 20:49:22,472 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 20:49:22,522 | INFO | app.controllers.audio | Puntuacin guardada session=a3bd26af-1467-43a2-85cd-571d69a2e574 phase_id=ground_readback score=55.00
2025-11-26 20:49:22,523 | INFO | app.logs.transcript | controller | session=a3bd26af-1467-43a2-85cd-571d69a2e574 | frequency=121.700 | intent=ground_taxi_readback | phase=ground_readback | allow_response=False | text=
2025-11-26 21:11:47,388 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:11:47,389 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:11:47,390 | INFO | sqlalchemy.engine.Engine | [cached since 1866s ago] ()
2025-11-26 21:11:47,399 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:11:47,400 | INFO | sqlalchemy.engine.Engine | [cached since 1852s ago] (1,)
2025-11-26 21:11:47,523 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:16:20,288 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:16:20,289 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:16:20,291 | INFO | sqlalchemy.engine.Engine | [cached since 2138s ago] ()
2025-11-26 21:16:20,305 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:16:20,307 | INFO | sqlalchemy.engine.Engine | [cached since 2125s ago] (1,)
2025-11-26 21:16:20,533 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:18:02,158 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:18:02,158 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:18:02,161 | INFO | sqlalchemy.engine.Engine | [cached since 2240s ago] ()
2025-11-26 21:18:02,174 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:18:02,176 | INFO | sqlalchemy.engine.Engine | [cached since 2227s ago] (1,)
2025-11-26 21:18:02,311 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:19:55,221 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:19:55,222 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:19:55,224 | INFO | sqlalchemy.engine.Engine | [cached since 2353s ago] ()
2025-11-26 21:19:55,236 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:19:55,238 | INFO | sqlalchemy.engine.Engine | [cached since 2340s ago] (1,)
2025-11-26 21:19:55,249 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:19:55,250 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:19:55,252 | INFO | sqlalchemy.engine.Engine | [cached since 2353s ago] ()
2025-11-26 21:19:55,265 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:19:55,266 | INFO | sqlalchemy.engine.Engine | [cached since 2340s ago] (1,)
2025-11-26 21:19:55,373 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 21:19:55,374 | INFO | sqlalchemy.engine.Engine | [generated in 0.00108s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 21:19:55,382 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 21:19:55,383 | INFO | sqlalchemy.engine.Engine | [generated in 0.00194s] ('scenario_id', 'session_completed', 1)
2025-11-26 21:19:55,402 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:19:55,404 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:19:57,064 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:19:57,065 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:19:57,066 | INFO | sqlalchemy.engine.Engine | [cached since 2355s ago] ()
2025-11-26 21:19:57,075 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:19:57,076 | INFO | sqlalchemy.engine.Engine | [cached since 2342s ago] (1,)
2025-11-26 21:19:57,173 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 21:19:57,173 | INFO | sqlalchemy.engine.Engine | [cached since 2264s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 21:19:57,187 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:20:07,984 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:20:07,986 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:20:07,988 | INFO | sqlalchemy.engine.Engine | [cached since 2366s ago] ()
2025-11-26 21:20:07,997 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:20:07,998 | INFO | sqlalchemy.engine.Engine | [cached since 2353s ago] (1,)
2025-11-26 21:20:08,005 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:20:08,007 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:20:08,008 | INFO | sqlalchemy.engine.Engine | [cached since 2366s ago] ()
2025-11-26 21:20:08,022 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools ORDER BY ecowhiskey.schools.name
2025-11-26 21:20:08,024 | INFO | sqlalchemy.engine.Engine | [generated in 0.00168s] ()
2025-11-26 21:20:08,051 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:20:08,124 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:20:08,124 | INFO | sqlalchemy.engine.Engine | [cached since 2353s ago] (1,)
2025-11-26 21:20:08,133 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at, ecowhiskey.group_memberships.id AS id_1, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at AS created_at_1, ecowhiskey.group_memberships.updated_at AS updated_at_1 
FROM ecowhiskey.groups JOIN ecowhiskey.group_memberships ON ecowhiskey.group_memberships.group_id = ecowhiskey.groups.id 
WHERE ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-26 21:20:08,135 | INFO | sqlalchemy.engine.Engine | [generated in 0.00254s] (1,)
2025-11-26 21:20:08,344 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:22:37,678 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:22:37,678 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:22:37,681 | INFO | sqlalchemy.engine.Engine | [cached since 2516s ago] ()
2025-11-26 21:22:37,691 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:22:37,693 | INFO | sqlalchemy.engine.Engine | [cached since 2502s ago] (1,)
2025-11-26 21:22:37,701 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:22:37,703 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:22:37,704 | INFO | sqlalchemy.engine.Engine | [cached since 2516s ago] ()
2025-11-26 21:22:37,715 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:22:37,719 | INFO | sqlalchemy.engine.Engine | [cached since 2502s ago] (1,)
2025-11-26 21:22:37,813 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 21:22:37,813 | INFO | sqlalchemy.engine.Engine | [cached since 162.4s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 21:22:37,818 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 21:22:37,820 | INFO | sqlalchemy.engine.Engine | [cached since 162.4s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 21:22:37,839 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:22:37,846 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:22:39,169 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:22:39,171 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:22:39,172 | INFO | sqlalchemy.engine.Engine | [cached since 2517s ago] ()
2025-11-26 21:22:39,183 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:22:39,184 | INFO | sqlalchemy.engine.Engine | [cached since 2504s ago] (1,)
2025-11-26 21:22:39,285 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 21:22:39,286 | INFO | sqlalchemy.engine.Engine | [cached since 2426s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-26 21:22:39,302 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:24:14,749 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:24:14,750 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:24:14,752 | INFO | sqlalchemy.engine.Engine | [cached since 2613s ago] ()
2025-11-26 21:24:14,761 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:24:14,762 | INFO | sqlalchemy.engine.Engine | [cached since 2599s ago] (1,)
2025-11-26 21:24:14,862 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-26 21:24:14,862 | INFO | sqlalchemy.engine.Engine | [cached since 2593s ago] (UUID('40ec2fc5-228c-451c-969e-347ebb9d1096'), UUID('5f7538c8-40b3-4d32-881a-cda73a985b1c'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "", "vis": "", "qnh": "", "windDirection": "", "windSpeed": "", "temp": "", "dewp": "", "cloudCover": "", "cloudBase": "", "wind": ""}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 26, 21, 24, 14, 862650, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 26, 21, 24, 14, 862650, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-26 21:24:14,872 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 21:24:15,058 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:24:15,058 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-26 21:24:15,059 | INFO | sqlalchemy.engine.Engine | [cached since 2592s ago] (UUID('40ec2fc5-228c-451c-969e-347ebb9d1096'),)
2025-11-26 21:24:15,079 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:24:24,965 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:24:24,966 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:24:24,968 | INFO | sqlalchemy.engine.Engine | [cached since 2623s ago] ()
2025-11-26 21:24:24,976 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:24:24,977 | INFO | sqlalchemy.engine.Engine | [cached since 2610s ago] (1,)
2025-11-26 21:24:24,986 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:24:24,986 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:24:24,987 | INFO | sqlalchemy.engine.Engine | [cached since 2623s ago] ()
2025-11-26 21:24:24,994 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:24:24,994 | INFO | sqlalchemy.engine.Engine | [cached since 2610s ago] (1,)
2025-11-26 21:24:25,055 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 21:24:25,055 | INFO | sqlalchemy.engine.Engine | [cached since 269.7s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 21:24:25,058 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 21:24:25,059 | INFO | sqlalchemy.engine.Engine | [cached since 269.7s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 21:24:25,072 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:24:25,073 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:24:30,024 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:24:30,025 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:24:30,026 | INFO | sqlalchemy.engine.Engine | [cached since 2628s ago] ()
2025-11-26 21:24:30,034 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:24:30,035 | INFO | sqlalchemy.engine.Engine | [cached since 2615s ago] (1,)
2025-11-26 21:24:30,128 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 21:24:30,128 | INFO | sqlalchemy.engine.Engine | [cached since 2537s ago] (UUID('5f7538c8-40b3-4d32-881a-cda73a985b1c'),)
2025-11-26 21:24:30,142 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:30:22,863 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:30:22,866 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:30:22,867 | INFO | sqlalchemy.engine.Engine | [cached since 2981s ago] ()
2025-11-26 21:30:22,879 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:30:22,881 | INFO | sqlalchemy.engine.Engine | [cached since 2967s ago] (1,)
2025-11-26 21:30:23,005 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:30:35,576 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:30:35,578 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:30:35,580 | INFO | sqlalchemy.engine.Engine | [cached since 2994s ago] ()
2025-11-26 21:30:35,592 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:30:35,593 | INFO | sqlalchemy.engine.Engine | [cached since 2980s ago] (1,)
2025-11-26 21:30:35,757 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:30:36,008 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:30:36,010 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:30:36,011 | INFO | sqlalchemy.engine.Engine | [cached since 2994s ago] ()
2025-11-26 21:30:36,022 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 21:30:36,023 | INFO | sqlalchemy.engine.Engine | [cached since 2981s ago] (1,)
2025-11-26 21:30:36,148 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:30:55,307 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:30:55,307 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:30:55,308 | INFO | sqlalchemy.engine.Engine | [cached since 3013s ago] ()
2025-11-26 21:30:55,315 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 21:30:55,316 | INFO | sqlalchemy.engine.Engine | [cached since 3002s ago] ('josuelu2@gmail.com',)
2025-11-26 21:30:55,456 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:31:20,753 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:31:20,754 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:31:20,755 | INFO | sqlalchemy.engine.Engine | [cached since 3039s ago] ()
2025-11-26 21:31:20,761 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 21:31:20,762 | INFO | sqlalchemy.engine.Engine | [cached since 3028s ago] ('josuelu2@gmail.com',)
2025-11-26 21:31:20,895 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 21:32:46,221 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 21:32:46,222 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 21:32:46,223 | INFO | sqlalchemy.engine.Engine | [cached since 3124s ago] ()
2025-11-26 21:32:46,231 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 21:32:46,232 | INFO | sqlalchemy.engine.Engine | [cached since 3113s ago] ('josuelu2@gmail.com',)
2025-11-26 21:32:46,438 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:01:54,654 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:01:54,655 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:01:54,656 | INFO | sqlalchemy.engine.Engine | [cached since 4873s ago] ()
2025-11-26 22:01:54,664 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 22:01:54,665 | INFO | sqlalchemy.engine.Engine | [cached since 4862s ago] ('josuelu2@gmail.com',)
2025-11-26 22:01:54,805 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:02:04,526 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:02:04,527 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:02:04,528 | INFO | sqlalchemy.engine.Engine | [cached since 4883s ago] ()
2025-11-26 22:02:04,536 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 22:02:04,538 | INFO | sqlalchemy.engine.Engine | [cached since 4872s ago] ('josuelu2@gmail.com',)
2025-11-26 22:02:04,689 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:02:06,858 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:02:06,859 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:02:06,860 | INFO | sqlalchemy.engine.Engine | [cached since 4885s ago] ()
2025-11-26 22:02:06,867 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:02:06,869 | INFO | sqlalchemy.engine.Engine | [cached since 4871s ago] (1,)
2025-11-26 22:02:06,949 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:03:39,595 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-26 22:03:39,737 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B0A588D0>
2025-11-26 22:03:39,738 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000226B08CFA40> server_hostname='aviationweather.gov' timeout=10.0
2025-11-26 22:03:39,885 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B09FD950>
2025-11-26 22:03:39,885 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-26 22:03:39,887 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-26 22:03:39,889 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-26 22:03:39,889 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-26 22:03:39,890 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-26 22:03:39,980 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 27 Nov 2025 04:03:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'485'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1e5-3cNMQJQvSyS99K6Lmc9cpWLAiFc"'), (b'x-azure-ref', b'20251127T040339Z-15bb6f598fcbbtn7hC1BN1ws2s0000001qsg000000000dnd'), (b'x-fd-int-roxy-purgeid', b'0'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-26 22:03:39,981 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-26 22:03:39,983 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-26 22:03:39,984 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-26 22:03:39,986 | DEBUG | httpcore.http11 | response_closed.started
2025-11-26 22:03:39,987 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-26 22:03:39,989 | DEBUG | httpcore.connection | close.started
2025-11-26 22:03:39,991 | DEBUG | httpcore.connection | close.complete
2025-11-26 22:05:22,718 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:05:22,720 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:05:22,721 | INFO | sqlalchemy.engine.Engine | [cached since 5081s ago] ()
2025-11-26 22:05:22,729 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:05:22,730 | INFO | sqlalchemy.engine.Engine | [cached since 5067s ago] (1,)
2025-11-26 22:05:22,814 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-26 22:05:22,814 | INFO | sqlalchemy.engine.Engine | [cached since 5060s ago] (UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'), UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1014", "windDirection": "110", "windSpeed": "10", "temp": "23", "dewp": "18", "cloudCover": "FEW", "cloudBase": "3500", "wind": "110/10"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 26, 22, 5, 22, 813356, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 26, 22, 5, 22, 813356, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-26 22:05:22,823 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:05:22,974 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:05:22,976 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-26 22:05:22,976 | INFO | sqlalchemy.engine.Engine | [cached since 5060s ago] (UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'),)
2025-11-26 22:05:22,990 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:05:57,125 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:05:57,127 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 22:05:57,128 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 22:05:57,129 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,130 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 22:05:57,130 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 22:05:57,131 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,133 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:05:57,133 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 22:05:57,134 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:05:57,135 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:05:57,135 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 22:05:57,137 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 22:05:57,138 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,139 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 22:05:57,140 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 22:05:57,140 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,141 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:05:57,141 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 22:05:57,141 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:05:57,142 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:05:57,143 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 22:05:57,144 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 22:05:57,144 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,145 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 22:05:57,145 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 22:05:57,146 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,147 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 22:05:57,147 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-26 22:05:57,148 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:05:57,149 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:05:57,150 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:2920]
2025-11-26 22:05:57,152 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,152 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:05:57,276 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,279 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:57,281 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,283 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:57,420 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,421 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:57,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:05:57,546 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,547 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:57,549 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,551 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:57,685 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:57,689 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:57,692 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:57,816 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:05:57,824 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:05:58,010 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,011 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:58,013 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:05:58,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,186 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:58,199 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,204 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:58,401 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,403 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:58,408 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,412 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:58,595 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,597 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 22:05:58,777 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,778 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:58,781 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,782 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:05:58,890 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:05:58,892 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:05:58,894 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1740]
2025-11-26 22:05:58,895 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:05:58,896 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 22:05:59,029 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:05:59,030 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:05:59,031 | INFO | sqlalchemy.engine.Engine | [cached since 5117s ago] ()
2025-11-26 22:05:59,041 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:05:59,041 | INFO | sqlalchemy.engine.Engine | [cached since 5104s ago] (1,)
2025-11-26 22:06:00,515 | INFO | app.services.transcribe | Starting stream. Total bytes: 679936. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 22:06:00,618 | DEBUG | app.services.transcribe | Streamed 8192/679936 bytes
2025-11-26 22:06:05,757 | DEBUG | app.services.transcribe | Streamed 417792/679936 bytes
2025-11-26 22:06:09,072 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 22:06:09,117 | DEBUG | app.services.transcribe | Received transcript chunk: superficie Alfa Novi...
2025-11-26 22:06:09,294 | INFO | app.services.transcribe | Transcription complete. Length: 78
2025-11-26 22:06:09,295 | INFO | app.controllers.audio | Transcripcin recibida session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8: superficie Alfa Noviembre India en plataformas remota tres solicito apertura.
2025-11-26 22:06:09,295 | INFO | app.logs.transcript | student | session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 | frequency=121.700 | text=superficie Alfa Noviembre India en plataformas remota tres solicito apertura.
2025-11-26 22:06:09,412 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:06:09,412 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:06:09,413 | INFO | sqlalchemy.engine.Engine | [cached since 5036s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:06:09,429 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:06:33,325 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_pushback_request", "confidence": 0.95, "frequencyGroup": "ground"}

Explicacin:
- La frase menciona "superficie" y "plataformas remota tres", lo que indica operaciones en tierra.
- "Solicito apertura" se refiere comnmente a permisos de movimiento en plataforma, como empuje (pushback).
- El grupo de frecuencia "ground" maneja comunicaciones en tierra, incluyendo autorizaciones de movimiento.
- La confianza es 0.95 porque la solicitud es clara aunque no usa terminologa estndar exacta.
2025-11-26 22:06:33,433 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:06:33,434 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:06:33,435 | INFO | sqlalchemy.engine.Engine | [cached since 5060s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:06:33,453 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:06:33,454 | INFO | sqlalchemy.engine.Engine | [cached since 5059s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (14106 characters truncated) ... tion": "VMC", "windSpeed": "10", "cloudCover": "FEW", "windDirection": "110"}, "route": "MRPV-mrpv_zone_echo", "timestamp": "2025-11-27T04:06:33Z"}]}', datetime.datetime(2025, 11, 26, 22, 6, 33, 453787, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'))
2025-11-26 22:06:33,472 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:06:33,502 | INFO | app.controllers.audio | Fase activa session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 phase_id=ground_departure_request intent=ground_taxi_clearance freq=ground
2025-11-26 22:06:33,506 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0556. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.' Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": num...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_taxi_clearance
Transcripcin textual del alumno:
superficie Alfa Noviembre India en plataformas remota tres solicito apertura.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indicar ubicacin actual (ej. plataforma, hangar).
- Solicitud clara de apertura de plan de vuelo VFR.
- Indicar destino ...
2025-11-26 22:07:00,644 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance intento=1: {
  "intent": "ground_taxi_clearance",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Faltan datos crticos en la solicitud: destino, ruta, altitud inicial, almas a bordo y autonoma. Debes incluir estos elementos para completar la solicitud VFR.",
  "confidence": 0.9,
  "score": 30,
  "metadata": {
    "missing_elements": [
      "Destino y ruta",
      "Altitud inicial",
      "Almas a bordo",
      "Autonoma"
    ]
  }
}
2025-11-26 22:07:00,760 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:07:00,761 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:07:00,763 | INFO | sqlalchemy.engine.Engine | [cached since 5088s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:07:00,780 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:07:00,782 | INFO | sqlalchemy.engine.Engine | [cached since 5086s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (15140 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0556", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 7, 0, 780076, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'))
2025-11-26 22:07:00,796 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:07:00,822 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 22:07:00,823 | INFO | sqlalchemy.engine.Engine | [cached since 5076s ago] (UUID('8c3b3dd9-2a52-486b-a972-8934aab532af'), UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'), 1, 'ground_departure_request', 30.0, 'Faltan datos crticos en la solicitud: destino, ruta, altitud inicial, almas a bordo y autonoma. Debes incluir estos elementos para completar la solicitud VFR.')
2025-11-26 22:07:00,835 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:07:00,858 | INFO | app.controllers.audio | Puntuacin guardada session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 phase_id=ground_departure_request score=30.00
2025-11-26 22:07:00,859 | INFO | app.logs.transcript | controller | session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 | frequency=121.700 | intent=ground_taxi_clearance | phase=ground_departure_request | allow_response=False | text=
2025-11-26 22:07:41,267 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:07:41,268 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 22:07:41,269 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 22:07:41,269 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,272 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 22:07:41,273 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 22:07:41,274 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,275 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:07:41,276 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 22:07:41,277 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:07:41,278 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:07:41,279 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 22:07:41,280 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 22:07:41,280 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,281 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 22:07:41,283 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 22:07:41,284 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,284 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:07:41,286 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 22:07:41,287 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:07:41,288 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:07:41,289 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 22:07:41,290 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 22:07:41,292 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,294 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 22:07:41,295 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 22:07:41,295 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,296 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 22:07:41,297 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 22:07:41,298 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:07:41,299 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:07:41,300 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-26 22:07:41,302 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:07:41,416 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:41,418 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:41,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:41,546 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:41,548 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:41,551 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 22:07:41,678 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:41,680 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:41,681 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:41,685 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:41,820 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:07:41,823 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:41,973 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:41,975 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:41,976 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:41,978 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:42,124 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:07:42,126 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,129 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:42,259 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:42,260 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,263 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:42,402 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,404 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:42,406 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:42,542 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:07:42,544 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,545 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:42,668 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,669 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,672 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:07:42,806 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:42,808 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,811 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:42,935 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:42,936 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:42,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:42,941 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:07:43,073 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,074 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,076 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:43,201 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,202 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,204 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:43,333 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,334 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,337 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,340 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:07:43,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,476 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,478 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:43,666 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:07:43,673 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,674 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:43,819 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,822 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,825 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,828 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:43,982 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:43,984 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,987 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:43,991 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:44,227 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:07:44,231 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,234 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:44,396 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,398 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,400 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:44,536 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,538 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,541 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,542 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:07:44,674 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,675 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,677 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:44,808 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,809 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,810 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:44,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:44,939 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,942 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:44,944 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:07:45,072 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:45,073 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:45,075 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:07:45,198 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:45,201 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:07:45,266 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:07:45,268 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1784]
2025-11-26 22:07:45,269 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:07:45,270 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 22:07:45,401 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:07:45,402 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:07:45,403 | INFO | sqlalchemy.engine.Engine | [cached since 5224s ago] ()
2025-11-26 22:07:45,411 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:07:45,412 | INFO | sqlalchemy.engine.Engine | [cached since 5210s ago] (1,)
2025-11-26 22:07:46,519 | INFO | app.services.transcribe | Starting stream. Total bytes: 1626112. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 22:07:46,623 | DEBUG | app.services.transcribe | Streamed 8192/1626112 bytes
2025-11-26 22:07:51,655 | DEBUG | app.services.transcribe | Streamed 417792/1626112 bytes
2025-11-26 22:07:56,914 | DEBUG | app.services.transcribe | Streamed 827392/1626112 bytes
2025-11-26 22:08:02,201 | DEBUG | app.services.transcribe | Streamed 1236992/1626112 bytes
2025-11-26 22:08:07,321 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 22:08:07,573 | DEBUG | app.services.transcribe | Received transcript chunk: paga superficie alfa...
2025-11-26 22:08:07,768 | INFO | app.services.transcribe | Transcription complete. Length: 194
2025-11-26 22:08:07,768 | INFO | app.controllers.audio | Transcripcin recibida session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8: paga superficie alfa Noviembre India en plataformas remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Chomogo niveles, dos almas a bordo, autonoma cinco horas y media.
2025-11-26 22:08:07,769 | INFO | app.logs.transcript | student | session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 | frequency=121.700 | text=paga superficie alfa Noviembre India en plataformas remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Chomogo niveles, dos almas a bordo, autonoma cinco horas y media.
2025-11-26 22:08:07,895 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:08:07,897 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:08:07,899 | INFO | sqlalchemy.engine.Engine | [cached since 5155s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:08:07,923 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:08:11,567 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_flight_plan_request", "confidence": 0.95, "frequencyGroup": "ground"}

Explicacin:
- La solicitud menciona "superficie" y "plataformas remota tres", trminos asociados con operaciones en tierra.
- "Solicito apertura de plan de vuelo VFR" indica una peticin formal de autorizacin de vuelo.
- La frecuencia de tierra (ground) maneja autorizaciones de movimiento y planes de vuelo iniciales en aeropuertos.
- La confianza es alta (0.95) porque todos los elementos apuntan claramente a una solicitud de plan de vuelo en tierra.
2025-11-26 22:08:11,678 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:08:11,679 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:08:11,679 | INFO | sqlalchemy.engine.Engine | [cached since 5159s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:08:11,697 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:08:11,697 | INFO | sqlalchemy.engine.Engine | [cached since 5157s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (15664 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0556", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 8, 11, 695804, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'))
2025-11-26 22:08:11,712 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:08:11,738 | INFO | app.controllers.audio | Fase activa session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 phase_id=ground_departure_request intent=ground_taxi_clearance freq=ground
2025-11-26 22:08:11,740 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_clearance freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0556. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.' Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": num...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_taxi_clearance
Transcripcin textual del alumno:
paga superficie alfa Noviembre India en plataformas remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Chomogo niveles, dos almas a bordo, autonoma cinco horas y media.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indic...
2025-11-26 22:08:21,276 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_clearance intento=1: {
  "intent": "ground_taxi_clearance",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0556. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, altitud, almas y autonoma. Proceda con autorizacin de rodaje.",
  "confidence": 0.95,
 ...
2025-11-26 22:08:21,277 | INFO | app.controllers.audio | Transicin automtica de fase session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 de=ground_departure_request a=ground_readback
2025-11-26 22:08:21,408 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:08:21,409 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:08:21,411 | INFO | sqlalchemy.engine.Engine | [cached since 5168s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-26 22:08:21,431 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:08:21,432 | INFO | sqlalchemy.engine.Engine | [cached since 5167s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (17072 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0556", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 8, 21, 431782, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('6f618ab6-fad5-4f2a-bdcd-f4bf2724841c'))
2025-11-26 22:08:21,446 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:08:21,479 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 22:08:21,481 | INFO | sqlalchemy.engine.Engine | [cached since 5156s ago] (UUID('f87c395f-5030-4404-a4ab-0d1e9b2207fd'), UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'), 1, 'ground_readback', 95.0, 'Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, altitud, almas y autonoma. Proceda con autorizacin de rodaje.')
2025-11-26 22:08:21,494 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:08:21,528 | INFO | app.controllers.audio | Puntuacin guardada session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 phase_id=ground_readback score=95.00
2025-11-26 22:08:21,529 | INFO | app.logs.transcript | controller | session=df77e7fe-4255-4f24-8ebb-ea3f9b2835b8 | frequency=121.700 | intent=ground_taxi_clearance | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0556. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.
2025-11-26 22:10:14,420 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:10:14,423 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:10:14,426 | INFO | sqlalchemy.engine.Engine | [cached since 5373s ago] ()
2025-11-26 22:10:14,442 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:10:14,447 | INFO | sqlalchemy.engine.Engine | [cached since 5359s ago] (1,)
2025-11-26 22:10:14,638 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:15:40,880 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:15:40,881 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:15:40,882 | INFO | sqlalchemy.engine.Engine | [cached since 5699s ago] ()
2025-11-26 22:15:40,892 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-26 22:15:40,894 | INFO | sqlalchemy.engine.Engine | [cached since 5688s ago] ('josuelu2@gmail.com',)
2025-11-26 22:15:41,048 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:15:43,313 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:15:43,315 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:15:43,316 | INFO | sqlalchemy.engine.Engine | [cached since 5701s ago] ()
2025-11-26 22:15:43,326 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:15:43,326 | INFO | sqlalchemy.engine.Engine | [cached since 5688s ago] (1,)
2025-11-26 22:15:43,460 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:15:48,191 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-26 22:15:48,339 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B0A5B950>
2025-11-26 22:15:48,342 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000226B0A14F80> server_hostname='aviationweather.gov' timeout=10.0
2025-11-26 22:15:48,460 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226B0A46C90>
2025-11-26 22:15:48,461 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-26 22:15:48,463 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-26 22:15:48,465 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-26 22:15:48,466 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-26 22:15:48,468 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-26 22:15:48,596 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 27 Nov 2025 04:15:48 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'485'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1e5-3cNMQJQvSyS99K6Lmc9cpWLAiFc"'), (b'x-azure-ref', b'20251127T041548Z-1654ff757975c8qdhC1MIAsfag0000000v2g00000000xa6n'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-26 22:15:48,598 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-26 22:15:48,599 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-26 22:15:48,600 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-26 22:15:48,602 | DEBUG | httpcore.http11 | response_closed.started
2025-11-26 22:15:48,603 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-26 22:15:48,606 | DEBUG | httpcore.connection | close.started
2025-11-26 22:15:48,608 | DEBUG | httpcore.connection | close.complete
2025-11-26 22:15:50,980 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:15:50,981 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:15:50,982 | INFO | sqlalchemy.engine.Engine | [cached since 5709s ago] ()
2025-11-26 22:15:50,989 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:15:50,991 | INFO | sqlalchemy.engine.Engine | [cached since 5696s ago] (1,)
2025-11-26 22:15:51,088 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-26 22:15:51,089 | INFO | sqlalchemy.engine.Engine | [cached since 5689s ago] (UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'), UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1014", "windDirection": "110", "windSpeed": "10", "temp": "23", "dewp": "18", "cloudCover": "FEW", "cloudBase": "3500", "wind": "110/10"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 26, 22, 15, 51, 88445, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 26, 22, 15, 51, 88445, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-26 22:15:51,097 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:15:51,252 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:15:51,253 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-26 22:15:51,254 | INFO | sqlalchemy.engine.Engine | [cached since 5689s ago] (UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'),)
2025-11-26 22:15:51,271 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:16:25,108 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:16:25,110 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 22:16:25,111 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 22:16:25,112 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,113 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 22:16:25,114 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 22:16:25,115 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,116 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:16:25,117 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 22:16:25,118 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:16:25,119 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:16:25,120 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 22:16:25,121 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 22:16:25,121 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,122 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 22:16:25,123 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 22:16:25,125 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,128 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:16:25,129 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 22:16:25,129 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:16:25,130 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:16:25,131 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 22:16:25,131 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 22:16:25,132 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,133 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 22:16:25,134 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 22:16:25,134 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,134 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 22:16:25,136 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 22:16:25,136 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:16:25,137 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:16:25,138 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-26 22:16:25,140 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:25,143 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:16:25,263 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,264 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:25,267 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:25,269 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:25,405 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:25,408 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,411 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:25,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:25,576 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:25,577 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:25,720 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,723 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,726 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,729 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:25,935 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:25,941 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:25,943 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,101 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,103 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:26,107 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:16:26,264 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,268 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,271 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,408 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,409 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,411 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,544 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,546 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,548 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,695 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,696 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:26,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,701 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,829 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,831 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,832 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:26,952 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:26,954 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:26,957 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:27,076 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,077 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,078 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:27,199 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,200 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,203 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,205 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:27,329 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,330 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,338 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:27,458 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,460 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,462 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,464 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:27,592 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,594 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:27,733 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,734 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,744 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:27,893 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:27,895 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:27,897 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:28,026 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,028 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:28,030 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:28,161 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:16:28,164 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,165 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:16:28,296 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:28,297 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,299 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:28,500 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:28,503 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,511 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:28,515 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:16:28,677 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,679 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,681 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:16:28,859 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:16:28,862 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:16:28,866 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1252]
2025-11-26 22:16:28,869 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:16:28,870 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 22:16:29,223 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:16:29,225 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:16:29,226 | INFO | sqlalchemy.engine.Engine | [cached since 5747s ago] ()
2025-11-26 22:16:29,234 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:16:29,234 | INFO | sqlalchemy.engine.Engine | [cached since 5734s ago] (1,)
2025-11-26 22:16:30,955 | INFO | app.services.transcribe | Starting stream. Total bytes: 1492992. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 22:16:31,052 | DEBUG | app.services.transcribe | Streamed 8192/1492992 bytes
2025-11-26 22:16:36,214 | DEBUG | app.services.transcribe | Streamed 417792/1492992 bytes
2025-11-26 22:16:41,499 | DEBUG | app.services.transcribe | Streamed 827392/1492992 bytes
2025-11-26 22:16:46,666 | DEBUG | app.services.transcribe | Streamed 1236992/1492992 bytes
2025-11-26 22:16:50,003 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 22:16:50,416 | DEBUG | app.services.transcribe | Received transcript chunk: superficie, alfa, no...
2025-11-26 22:16:50,603 | INFO | app.services.transcribe | Transcription complete. Length: 182
2025-11-26 22:16:50,604 | INFO | app.controllers.audio | Transcripcin recibida session=60540e96-d738-481d-83c4-2bbdfba6c3cf: superficie, alfa, noviembre, India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochogo niveles, dos almas a bordo, autonoma cinco horas.
2025-11-26 22:16:50,605 | INFO | app.logs.transcript | student | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | text=superficie, alfa, noviembre, India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochogo niveles, dos almas a bordo, autonoma cinco horas.
2025-11-26 22:16:50,742 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:16:50,743 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:16:50,744 | INFO | sqlalchemy.engine.Engine | [cached since 5678s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:16:50,761 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:16:51,555 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:16:51,556 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:16:51,557 | INFO | sqlalchemy.engine.Engine | [cached since 5678s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:16:51,571 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:16:51,572 | INFO | sqlalchemy.engine.Engine | [cached since 5677s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (14306 characters truncated) ... pv_zone_echo", "intent": "ground_flight_plan_request", "frequency_group": "ground", "intent_confidence": 0.95, "timestamp": "2025-11-27T04:16:51Z"}]}', datetime.datetime(2025, 11, 26, 22, 16, 51, 571049, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:16:51,586 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:16:51,613 | INFO | app.controllers.audio | Fase activa session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_departure_request intent=ground_flight_plan_request freq=ground
2025-11-26 22:16:51,615 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_flight_plan_request freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0509. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.' Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": numb...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_flight_plan_request
Transcripcin textual del alumno:
superficie, alfa, noviembre, India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochogo niveles, dos almas a bordo, autonoma cinco horas.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indicar ubic...
2025-11-26 22:17:00,935 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_flight_plan_request intento=1: {
  "intent": "ground_flight_plan_request",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0509. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, nivel inicial, almas y autonoma. Proceda con autorizacin de rodaje.",
  "confidence...
2025-11-26 22:17:00,936 | INFO | app.controllers.audio | Transicin automtica de fase session=60540e96-d738-481d-83c4-2bbdfba6c3cf de=ground_departure_request a=ground_readback
2025-11-26 22:17:01,043 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:17:01,044 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:17:01,045 | INFO | sqlalchemy.engine.Engine | [cached since 5688s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:17:01,060 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:17:01,060 | INFO | sqlalchemy.engine.Engine | [cached since 5687s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (15820 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0509", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 17, 1, 60967, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:17:01,078 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:17:01,113 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 22:17:01,114 | INFO | sqlalchemy.engine.Engine | [cached since 5676s ago] (UUID('53fbd6cf-1975-4846-999b-76d524958e53'), UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'), 1, 'ground_readback', 95.0, 'Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, nivel inicial, almas y autonoma. Proceda con autorizacin de rodaje.')
2025-11-26 22:17:01,127 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:17:01,159 | INFO | app.controllers.audio | Puntuacin guardada session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_readback score=95.00
2025-11-26 22:17:01,159 | INFO | app.logs.transcript | controller | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | intent=ground_flight_plan_request | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 110 grados 10 nudos. QNH 1014. Transponder 0509. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.
2025-11-26 22:18:56,438 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:18:56,439 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:18:56,440 | INFO | sqlalchemy.engine.Engine | [cached since 5895s ago] ()
2025-11-26 22:18:56,451 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:18:56,453 | INFO | sqlalchemy.engine.Engine | [cached since 5881s ago] (1,)
2025-11-26 22:18:56,464 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:18:56,465 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:18:56,466 | INFO | sqlalchemy.engine.Engine | [cached since 5895s ago] ()
2025-11-26 22:18:56,478 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:18:56,480 | INFO | sqlalchemy.engine.Engine | [cached since 5881s ago] (1,)
2025-11-26 22:18:56,572 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 22:18:56,574 | INFO | sqlalchemy.engine.Engine | [cached since 3541s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 22:18:56,577 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 22:18:56,578 | INFO | sqlalchemy.engine.Engine | [cached since 3541s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 22:18:56,600 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:18:56,601 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:20:52,465 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:20:52,466 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:20:52,467 | INFO | sqlalchemy.engine.Engine | [cached since 6011s ago] ()
2025-11-26 22:20:52,474 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:20:52,475 | INFO | sqlalchemy.engine.Engine | [cached since 5997s ago] (1,)
2025-11-26 22:20:52,563 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:20:52,564 | INFO | sqlalchemy.engine.Engine | [cached since 5919s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:20:52,578 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:21:28,578 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:21:28,582 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 22:21:28,584 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 22:21:28,586 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,588 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 22:21:28,590 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 22:21:28,590 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,591 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:21:28,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 22:21:28,594 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:21:28,595 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:21:28,596 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 22:21:28,598 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 22:21:28,599 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,601 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 22:21:28,603 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 22:21:28,604 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,605 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:21:28,606 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 22:21:28,609 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:21:28,611 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:21:28,613 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 22:21:28,615 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 22:21:28,617 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,618 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 22:21:28,620 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 22:21:28,621 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,624 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 22:21:28,626 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 22:21:28,629 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:21:28,634 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:21:28,638 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-26 22:21:28,652 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 22:21:28,806 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:28,807 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:28,809 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:29,007 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,011 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,015 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:29,215 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,219 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,230 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,233 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,237 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:29,414 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:21:29,416 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,419 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,422 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:29,629 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,631 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,633 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,636 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:21:29,822 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,824 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,827 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:29,970 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,972 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:29,978 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:29,979 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:30,120 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,121 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,126 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,128 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:30,260 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,261 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,263 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,266 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:21:30,396 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,399 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,407 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,409 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:30,547 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,548 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,550 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:30,688 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,690 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,692 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:30,827 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,829 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,831 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,833 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:21:30,973 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,975 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:30,977 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:30,978 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:31,127 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,129 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,132 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:31,262 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:21:31,264 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,266 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:21:31,416 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,418 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,425 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:31,562 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:21:31,564 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:31,709 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,710 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,714 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,716 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:31,851 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,853 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,858 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:31,986 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,988 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:31,991 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:31,994 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:21:32,129 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,131 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:32,132 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,135 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:32,281 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:32,283 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,291 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:32,433 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,435 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:32,441 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,443 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:32,585 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:21:32,587 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,590 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:21:32,723 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:32,725 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,728 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:32,869 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:21:32,871 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:21:32,880 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:21:32,906 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1971]
2025-11-26 22:21:32,907 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:21:32,907 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 22:21:33,064 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:21:33,065 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:21:33,066 | INFO | sqlalchemy.engine.Engine | [cached since 6051s ago] ()
2025-11-26 22:21:33,074 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:21:33,076 | INFO | sqlalchemy.engine.Engine | [cached since 6038s ago] (1,)
2025-11-26 22:21:34,373 | INFO | app.services.transcribe | Starting stream. Total bytes: 1644544. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 22:21:34,475 | DEBUG | app.services.transcribe | Streamed 8192/1644544 bytes
2025-11-26 22:21:37,930 | DEBUG | app.services.transcribe | Received transcript chunk: QNH....
2025-11-26 22:21:39,581 | DEBUG | app.services.transcribe | Streamed 417792/1644544 bytes
2025-11-26 22:21:40,203 | DEBUG | app.services.transcribe | Received transcript chunk: 1014....
2025-11-26 22:21:44,630 | DEBUG | app.services.transcribe | Streamed 827392/1644544 bytes
2025-11-26 22:21:45,642 | DEBUG | app.services.transcribe | Received transcript chunk: 0509....
2025-11-26 22:21:49,637 | DEBUG | app.services.transcribe | Streamed 1236992/1644544 bytes
2025-11-26 22:21:54,894 | DEBUG | app.services.transcribe | Streamed 1644544/1644544 bytes
2025-11-26 22:21:54,900 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 22:21:55,514 | DEBUG | app.services.transcribe | Received transcript chunk: rodar va Alfa dos ...
2025-11-26 22:21:55,586 | INFO | app.services.transcribe | Transcription complete. Length: 81
2025-11-26 22:21:55,587 | INFO | app.controllers.audio | Transcripcin recibida session=60540e96-d738-481d-83c4-2bbdfba6c3cf: QNH. 1014. 0509. rodar va Alfa dos Alpha Al.de espera pista 10 Alfa Noviembre.
2025-11-26 22:21:55,588 | INFO | app.logs.transcript | student | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | text=QNH. 1014. 0509. rodar va Alfa dos Alpha Al.de espera pista 10 Alfa Noviembre.
2025-11-26 22:21:55,714 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:21:55,715 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:21:55,716 | INFO | sqlalchemy.engine.Engine | [cached since 5983s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:21:55,734 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:21:59,648 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_taxi_instructions", "confidence": 0.95, "frequencyGroup": "ground"}

Anlisis:
- "rodar va Alfa dos" indica instrucciones de rodaje (taxi)
- "Alfa Noviembre" es un indicativo de aeronave
- "QNH 1014" y "0509" son datos meteorolgicos y horarios que acompaan instrucciones
- Se menciona "va Alfa" que es terminologa de plataforma (ground)
- No hay solicitud de despegue/aterrizaje ni control en ruta
2025-11-26 22:21:59,760 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:21:59,762 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:21:59,763 | INFO | sqlalchemy.engine.Engine | [cached since 5987s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:21:59,785 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:21:59,788 | INFO | sqlalchemy.engine.Engine | [cached since 5985s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (16231 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0509", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 21, 59, 785324, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:21:59,803 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:21:59,836 | INFO | app.controllers.audio | Fase activa session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_readback intent=ground_taxi_readback freq=ground
2025-11-26 22:21:59,839 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_readback freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0 a 100 que evale la calidad de la transmisin del alumno para la fase actual, considerando: fraseologa correcta, informa...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_readback
Transcripcin textual del alumno:
QNH. 1014. 0509. rodar va Alfa dos Alpha Al.de espera pista 10 Alfa Noviembre.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- Uso correcto de fraseologa ('R...
2025-11-26 22:22:08,856 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_readback intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Faltan elementos crticos en la colacin: pista en uso ('uno cero' vs '10'), viento y contacto con Torre 118.3. Corrija la pista y aada los elementos faltantes.",
  "confidence": 0.85,
  "score": 45,
  "metadata": {
    "missingItems": [
      "Pista en uso (uno cero)",
      "Viento (110/10)",
      "Contacto Torre 118.3"
    ],
    "errors": [
      "Pista incorrecta (10 vs uno cero)"
 ...
2025-11-26 22:22:09,024 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:22:09,026 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:22:09,027 | INFO | sqlalchemy.engine.Engine | [cached since 5996s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:22:09,056 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:22:09,062 | INFO | sqlalchemy.engine.Engine | [cached since 5995s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (17380 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0509", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 22, 9, 55632, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:22:09,105 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:22:09,153 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 22:22:09,155 | INFO | sqlalchemy.engine.Engine | [cached since 5984s ago] (UUID('9882426a-ac9b-4c43-bc05-5640cab70241'), UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'), 1, 'ground_readback', 45.0, "Faltan elementos crticos en la colacin: pista en uso ('uno cero' vs '10'), viento y contacto con Torre 118.3. Corrija la pista y aada los elementos faltantes.")
2025-11-26 22:22:09,173 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:22:09,224 | INFO | app.controllers.audio | Puntuacin guardada session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_readback score=45.00
2025-11-26 22:22:09,225 | INFO | app.logs.transcript | controller | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | intent=ground_taxi_readback | phase=ground_readback | allow_response=False | text=
2025-11-26 22:23:28,981 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:23:28,983 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-26 22:23:28,988 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-26 22:23:28,995 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:28,999 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-26 22:23:29,003 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-26 22:23:29,007 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,008 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:23:29,010 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-26 22:23:29,015 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:23:29,022 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:23:29,037 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-26 22:23:29,044 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-26 22:23:29,050 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,052 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-26 22:23:29,054 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-26 22:23:29,062 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,066 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:23:29,071 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-26 22:23:29,074 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:23:29,075 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-26 22:23:29,077 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-26 22:23:29,080 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-26 22:23:29,085 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,088 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-26 22:23:29,089 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-26 22:23:29,101 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,118 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-26 22:23:29,121 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-26 22:23:29,123 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-26 22:23:29,128 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-26 22:23:29,133 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-26 22:23:29,139 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:29,142 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:23:29,258 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:29,261 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:29,265 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:29,464 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:29,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:29,470 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:29,693 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:29,696 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:29,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:29,868 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:29,870 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:29,872 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:30,014 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,016 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,023 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,026 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:23:30,153 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,156 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,158 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,161 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:23:30,310 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,311 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,314 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:30,465 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,469 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:30,601 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,603 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:30,744 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,746 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,749 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:30,898 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:30,899 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:30,901 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:31,029 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,031 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,034 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:23:31,170 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,171 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,174 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,176 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:23:31,311 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,313 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,315 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 22:23:31,449 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,450 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,453 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,456 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:31,601 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,603 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,608 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:23:31,749 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,751 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:31,920 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,922 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:31,925 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:31,927 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:23:32,060 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:32,062 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,064 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:32,192 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:32,193 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,196 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:32,329 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,331 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,333 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-26 22:23:32,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:32,476 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-26 22:23:32,478 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-26 22:23:32,611 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-26 22:23:32,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,615 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,617 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-26 22:23:32,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,755 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-26 22:23:32,757 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-26 22:23:32,807 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2545]
2025-11-26 22:23:32,808 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-26 22:23:32,809 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-26 22:23:32,957 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:23:32,958 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:23:32,959 | INFO | sqlalchemy.engine.Engine | [cached since 6171s ago] ()
2025-11-26 22:23:32,967 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:23:32,968 | INFO | sqlalchemy.engine.Engine | [cached since 6158s ago] (1,)
2025-11-26 22:23:34,154 | INFO | app.services.transcribe | Starting stream. Total bytes: 1470464. Chunk size: 8192. Sleep: 0.0929s
2025-11-26 22:23:34,251 | DEBUG | app.services.transcribe | Streamed 8192/1470464 bytes
2025-11-26 22:23:39,328 | DEBUG | app.services.transcribe | Streamed 417792/1470464 bytes
2025-11-26 22:23:42,094 | DEBUG | app.services.transcribe | Received transcript chunk: QNH1014 transponder ...
2025-11-26 22:23:44,527 | DEBUG | app.services.transcribe | Streamed 827392/1470464 bytes
2025-11-26 22:23:48,464 | DEBUG | app.services.transcribe | Received transcript chunk: rodar va Alfa dos ...
2025-11-26 22:23:49,763 | DEBUG | app.services.transcribe | Streamed 1236992/1470464 bytes
2025-11-26 22:23:52,823 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-26 22:23:53,156 | DEBUG | app.services.transcribe | Received transcript chunk: pista 10 Alfa Noviem...
2025-11-26 22:23:53,212 | INFO | app.services.transcribe | Transcription complete. Length: 97
2025-11-26 22:23:53,213 | INFO | app.controllers.audio | Transcripcin recibida session=60540e96-d738-481d-83c4-2bbdfba6c3cf: QNH1014 transponder 0509. rodar va Alfa dos Alpha Al.de espera. pista 10 Alfa Noviembre India.
2025-11-26 22:23:53,214 | INFO | app.logs.transcript | student | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | text=QNH1014 transponder 0509. rodar va Alfa dos Alpha Al.de espera. pista 10 Alfa Noviembre India.
2025-11-26 22:23:53,316 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:23:53,317 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:23:53,319 | INFO | sqlalchemy.engine.Engine | [cached since 6100s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:23:53,335 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:23:56,078 | WARNING | app.services.audio_pipeline | Intent detector invalid JSON: "Invalid error type: 'json_decode_error'" raw={"intent": "ground_taxi_instructions", "confidence": 0.95, "frequencyGroup": "ground"}

Explicacin:
- La mencin de "rodar va Alfa" indica instrucciones de rodaje.
- "QNH 1014" y "transponder 0509" son configuraciones iniciales tpicas en tierra.
- "Alfa de espera" sugiere coordinacin en tierra antes de entrar a pista.
- La frecuencia de tierra (ground) en MRPV maneja estas comunicaciones.
2025-11-26 22:23:56,199 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:23:56,200 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:23:56,201 | INFO | sqlalchemy.engine.Engine | [cached since 6103s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:23:56,219 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:23:56,221 | INFO | sqlalchemy.engine.Engine | [cached since 6102s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (17807 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0509", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 23, 56, 219090, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:23:56,237 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:23:56,264 | INFO | app.controllers.audio | Fase activa session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_readback intent=ground_taxi_readback freq=ground
2025-11-26 22:23:56,267 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_readback freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0 a 100 que evale la calidad de la transmisin del alumno para la fase actual, considerando: fraseologa correcta, informa...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_readback
Transcripcin textual del alumno:
QNH1014 transponder 0509. rodar va Alfa dos Alpha Al.de espera. pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- Uso correcto de...
2025-11-26 22:24:05,392 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_readback intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Persisten errores en la colacin: pista incorrecta ('10' vs 'uno cero'), falta viento y contacto con Torre 118.3. Corrija la pista, aada el viento y mencione el cambio a Torre.",
  "confidence": 0.85,
  "score": 40,
  "metadata": {
    "missingItems": [
      "Pista en uso (uno cero)",
      "Viento (110/10)",
      "Contacto Torre 118.3"
    ],
    "errors": [
      "Pista incorrecta (10...
2025-11-26 22:24:05,512 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:24:05,514 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-26 22:24:05,515 | INFO | sqlalchemy.engine.Engine | [cached since 6112s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-26 22:24:05,536 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-26 22:24:05,537 | INFO | sqlalchemy.engine.Engine | [cached since 6111s ago] ('{"meteo": {"qnh": "1014", "vis": ">10km", "dewp": "18", "temp": "23", "wind": "110/10", "cloudBase": "3500", "condition": "VMC", "windSpeed": "10", " ... (18976 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0509", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 26, 22, 24, 5, 535550, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b514900d-9972-44ec-bb3d-2bcab062ae2d'))
2025-11-26 22:24:05,554 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:24:05,588 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-26 22:24:05,589 | INFO | sqlalchemy.engine.Engine | [cached since 6100s ago] (UUID('bef8d572-02d9-4498-bd51-42da1a560735'), UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'), 1, 'ground_readback', 40.0, "Persisten errores en la colacin: pista incorrecta ('10' vs 'uno cero'), falta viento y contacto con Torre 118.3. Corrija la pista, aada el viento y mencione el cambio a Torre.")
2025-11-26 22:24:05,604 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-26 22:24:05,634 | INFO | app.controllers.audio | Puntuacin guardada session=60540e96-d738-481d-83c4-2bbdfba6c3cf phase_id=ground_readback score=40.00
2025-11-26 22:24:05,635 | INFO | app.logs.transcript | controller | session=60540e96-d738-481d-83c4-2bbdfba6c3cf | frequency=121.700 | intent=ground_taxi_readback | phase=ground_readback | allow_response=False | text=
2025-11-26 22:25:19,809 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:25:19,810 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:25:19,812 | INFO | sqlalchemy.engine.Engine | [cached since 6278s ago] ()
2025-11-26 22:25:19,813 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:25:19,815 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:25:19,816 | INFO | sqlalchemy.engine.Engine | [cached since 6278s ago] ()
2025-11-26 22:25:19,824 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:25:19,825 | INFO | sqlalchemy.engine.Engine | [cached since 6264s ago] (1,)
2025-11-26 22:25:19,830 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:25:19,831 | INFO | sqlalchemy.engine.Engine | [cached since 6264s ago] (1,)
2025-11-26 22:25:19,837 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:25:19,838 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:25:19,840 | INFO | sqlalchemy.engine.Engine | [cached since 6278s ago] ()
2025-11-26 22:25:19,847 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:25:19,848 | INFO | sqlalchemy.engine.Engine | [cached since 6264s ago] (1,)
2025-11-26 22:25:19,865 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:25:19,865 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:25:19,866 | INFO | sqlalchemy.engine.Engine | [cached since 6278s ago] ()
2025-11-26 22:25:19,874 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:25:19,875 | INFO | sqlalchemy.engine.Engine | [cached since 6264s ago] (1,)
2025-11-26 22:25:19,925 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 22:25:19,926 | INFO | sqlalchemy.engine.Engine | [cached since 3925s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 22:25:19,930 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 22:25:19,931 | INFO | sqlalchemy.engine.Engine | [cached since 3925s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 22:25:19,934 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 22:25:19,935 | INFO | sqlalchemy.engine.Engine | [cached since 3925s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 22:25:19,950 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:25:19,951 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:25:19,955 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:25:19,957 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 22:25:19,958 | INFO | sqlalchemy.engine.Engine | [cached since 3925s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 22:25:19,978 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:25:25,443 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:25:25,444 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:25:25,445 | INFO | sqlalchemy.engine.Engine | [cached since 6284s ago] ()
2025-11-26 22:25:25,452 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:25:25,454 | INFO | sqlalchemy.engine.Engine | [cached since 6270s ago] (1,)
2025-11-26 22:25:25,546 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-26 22:25:25,547 | INFO | sqlalchemy.engine.Engine | [generated in 0.00114s] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'), 1)
2025-11-26 22:25:30,897 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:26:35,287 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:26:35,289 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:26:35,290 | INFO | sqlalchemy.engine.Engine | [cached since 6353s ago] ()
2025-11-26 22:26:35,299 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:26:35,302 | INFO | sqlalchemy.engine.Engine | [cached since 6340s ago] (1,)
2025-11-26 22:26:35,319 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-26 22:26:35,320 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-26 22:26:35,322 | INFO | sqlalchemy.engine.Engine | [cached since 6353s ago] ()
2025-11-26 22:26:35,332 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-26 22:26:35,332 | INFO | sqlalchemy.engine.Engine | [cached since 6340s ago] (1,)
2025-11-26 22:26:35,410 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-26 22:26:35,411 | INFO | sqlalchemy.engine.Engine | [cached since 4000s ago] ('scenario_id', 'session_completed', 1)
2025-11-26 22:26:35,415 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-26 22:26:35,416 | INFO | sqlalchemy.engine.Engine | [cached since 4000s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-26 22:26:35,433 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-26 22:26:35,439 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 18:42:28,278 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-27 18:42:28,279 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 18:42:28,312 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-27 18:42:28,314 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 18:42:28,364 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-27 18:42:28,365 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 18:42:28,377 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 18:42:28,379 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-27 18:42:28,381 | INFO | sqlalchemy.engine.Engine | [generated in 0.00143s] ()
2025-11-27 18:42:28,408 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 18:42:28,409 | INFO | sqlalchemy.engine.Engine | [generated in 0.00136s] ()
2025-11-27 18:42:28,419 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,419 | INFO | sqlalchemy.engine.Engine | [generated in 0.00109s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,507 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,508 | INFO | sqlalchemy.engine.Engine | [cached since 0.08874s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,511 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,511 | INFO | sqlalchemy.engine.Engine | [cached since 0.09226s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,515 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,515 | INFO | sqlalchemy.engine.Engine | [cached since 0.09719s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,521 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,522 | INFO | sqlalchemy.engine.Engine | [cached since 0.1029s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,525 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,526 | INFO | sqlalchemy.engine.Engine | [cached since 0.107s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,529 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,530 | INFO | sqlalchemy.engine.Engine | [cached since 0.1111s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,533 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 18:42:28,535 | INFO | sqlalchemy.engine.Engine | [cached since 0.1151s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 18:42:28,540 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 18:42:28,541 | INFO | sqlalchemy.engine.Engine | [generated in 0.00126s] ('group_role', 'pg_catalog')
2025-11-27 18:42:28,549 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 18:42:28,551 | INFO | sqlalchemy.engine.Engine | [cached since 0.01156s ago] ('group_membership_status', 'pg_catalog')
2025-11-27 18:42:28,556 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 18:42:28,557 | INFO | sqlalchemy.engine.Engine | [cached since 0.0171s ago] ('user_status', 'pg_catalog')
2025-11-27 18:42:28,561 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 18:42:28,562 | INFO | sqlalchemy.engine.Engine | [cached since 0.02241s ago] ('account_type', 'pg_catalog')
2025-11-27 18:42:28,566 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-27 18:42:28,567 | INFO | sqlalchemy.engine.Engine | [generated in 0.00139s] ()
2025-11-27 18:42:28,667 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-27 18:42:28,668 | INFO | sqlalchemy.engine.Engine | [generated in 0.00122s] ()
2025-11-27 18:42:28,814 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-27 18:42:28,815 | INFO | sqlalchemy.engine.Engine | [generated in 0.00137s] ()
2025-11-27 18:42:29,327 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 18:42:29,395 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-27 19:02:01,047 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:01,048 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:01,050 | INFO | sqlalchemy.engine.Engine | [cached since 1173s ago] ()
2025-11-27 19:02:01,107 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 19:02:01,108 | INFO | sqlalchemy.engine.Engine | [generated in 0.00134s] ('josuelu2@gmail.com',)
2025-11-27 19:02:01,506 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:04,217 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:04,217 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:04,218 | INFO | sqlalchemy.engine.Engine | [cached since 1176s ago] ()
2025-11-27 19:02:04,227 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:04,228 | INFO | sqlalchemy.engine.Engine | [generated in 0.00110s] (1,)
2025-11-27 19:02:04,325 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:08,538 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:08,540 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:08,541 | INFO | sqlalchemy.engine.Engine | [cached since 1180s ago] ()
2025-11-27 19:02:08,552 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:08,553 | INFO | sqlalchemy.engine.Engine | [cached since 4.327s ago] (1,)
2025-11-27 19:02:08,562 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:08,565 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:08,567 | INFO | sqlalchemy.engine.Engine | [cached since 1180s ago] ()
2025-11-27 19:02:08,579 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:08,582 | INFO | sqlalchemy.engine.Engine | [cached since 4.355s ago] (1,)
2025-11-27 19:02:08,695 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:02:08,698 | INFO | sqlalchemy.engine.Engine | [generated in 0.00223s] ('scenario_id', 'session_completed', 1)
2025-11-27 19:02:08,704 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:02:08,705 | INFO | sqlalchemy.engine.Engine | [generated in 0.00173s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:02:08,825 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:08,881 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:19,214 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:19,215 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:19,216 | INFO | sqlalchemy.engine.Engine | [cached since 1191s ago] ()
2025-11-27 19:02:19,226 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:19,228 | INFO | sqlalchemy.engine.Engine | [cached since 15s ago] (1,)
2025-11-27 19:02:19,342 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:02:19,343 | INFO | sqlalchemy.engine.Engine | [generated in 0.00128s] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-27 19:02:19,372 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:42,073 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:42,076 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:42,077 | INFO | sqlalchemy.engine.Engine | [cached since 1214s ago] ()
2025-11-27 19:02:42,084 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:42,085 | INFO | sqlalchemy.engine.Engine | [cached since 37.86s ago] (1,)
2025-11-27 19:02:42,099 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:42,100 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:42,101 | INFO | sqlalchemy.engine.Engine | [cached since 1214s ago] ()
2025-11-27 19:02:42,108 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:42,110 | INFO | sqlalchemy.engine.Engine | [cached since 37.88s ago] (1,)
2025-11-27 19:02:42,193 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:02:42,195 | INFO | sqlalchemy.engine.Engine | [cached since 33.49s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:02:42,198 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:02:42,199 | INFO | sqlalchemy.engine.Engine | [cached since 33.5s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:02:42,218 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:42,220 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:02:46,665 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:02:46,665 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:02:46,667 | INFO | sqlalchemy.engine.Engine | [cached since 1218s ago] ()
2025-11-27 19:02:46,676 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:02:46,678 | INFO | sqlalchemy.engine.Engine | [cached since 42.45s ago] (1,)
2025-11-27 19:02:46,789 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:02:46,790 | INFO | sqlalchemy.engine.Engine | [cached since 27.45s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-27 19:02:46,805 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:04:56,983 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:04:56,985 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:04:56,986 | INFO | sqlalchemy.engine.Engine | [cached since 1349s ago] ()
2025-11-27 19:04:56,991 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:04:56,992 | INFO | sqlalchemy.engine.Engine | [cached since 172.8s ago] (1,)
2025-11-27 19:04:57,006 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:04:57,008 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:04:57,008 | INFO | sqlalchemy.engine.Engine | [cached since 1349s ago] ()
2025-11-27 19:04:57,016 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:04:57,017 | INFO | sqlalchemy.engine.Engine | [cached since 172.8s ago] (1,)
2025-11-27 19:04:57,089 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:04:57,090 | INFO | sqlalchemy.engine.Engine | [cached since 168.4s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:04:57,092 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:04:57,093 | INFO | sqlalchemy.engine.Engine | [cached since 168.4s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:04:57,106 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:04:57,110 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:03,398 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:03,399 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:03,400 | INFO | sqlalchemy.engine.Engine | [cached since 1355s ago] ()
2025-11-27 19:05:03,407 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:03,409 | INFO | sqlalchemy.engine.Engine | [cached since 179.2s ago] (1,)
2025-11-27 19:05:03,530 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:03,531 | INFO | sqlalchemy.engine.Engine | [cached since 164.2s ago] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-27 19:05:03,546 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-27 19:05:03,547 | INFO | sqlalchemy.engine.Engine | [generated in 0.00153s] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-27 19:05:03,573 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:03,574 | INFO | sqlalchemy.engine.Engine | [generated in 0.00143s] (UUID('60540e96-d738-481d-83c4-2bbdfba6c3cf'),)
2025-11-27 19:05:03,719 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:05:04,118 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:04,120 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:04,120 | INFO | sqlalchemy.engine.Engine | [cached since 1356s ago] ()
2025-11-27 19:05:04,128 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:04,130 | INFO | sqlalchemy.engine.Engine | [cached since 179.9s ago] (1,)
2025-11-27 19:05:04,139 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:04,141 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:04,142 | INFO | sqlalchemy.engine.Engine | [cached since 1356s ago] ()
2025-11-27 19:05:04,150 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:04,151 | INFO | sqlalchemy.engine.Engine | [cached since 179.9s ago] (1,)
2025-11-27 19:05:04,257 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:05:04,258 | INFO | sqlalchemy.engine.Engine | [cached since 175.6s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:05:04,261 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:05:04,263 | INFO | sqlalchemy.engine.Engine | [cached since 175.6s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:05:04,288 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:04,294 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:06,454 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:06,454 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:06,455 | INFO | sqlalchemy.engine.Engine | [cached since 1358s ago] ()
2025-11-27 19:05:06,463 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:06,464 | INFO | sqlalchemy.engine.Engine | [cached since 182.2s ago] (1,)
2025-11-27 19:05:06,581 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:06,584 | INFO | sqlalchemy.engine.Engine | [cached since 167.2s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-27 19:05:06,598 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-27 19:05:06,600 | INFO | sqlalchemy.engine.Engine | [cached since 3.054s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-27 19:05:06,619 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:06,621 | INFO | sqlalchemy.engine.Engine | [cached since 3.048s ago] (UUID('df77e7fe-4255-4f24-8ebb-ea3f9b2835b8'),)
2025-11-27 19:05:06,641 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:05:06,927 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:06,929 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:06,932 | INFO | sqlalchemy.engine.Engine | [cached since 1359s ago] ()
2025-11-27 19:05:06,945 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:06,948 | INFO | sqlalchemy.engine.Engine | [cached since 182.7s ago] (1,)
2025-11-27 19:05:06,954 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:06,955 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:06,957 | INFO | sqlalchemy.engine.Engine | [cached since 1359s ago] ()
2025-11-27 19:05:06,967 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:06,968 | INFO | sqlalchemy.engine.Engine | [cached since 182.7s ago] (1,)
2025-11-27 19:05:07,098 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:05:07,099 | INFO | sqlalchemy.engine.Engine | [cached since 178.4s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:05:07,103 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:05:07,105 | INFO | sqlalchemy.engine.Engine | [cached since 178.4s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:05:07,123 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:07,132 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:09,056 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:09,058 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:09,059 | INFO | sqlalchemy.engine.Engine | [cached since 1361s ago] ()
2025-11-27 19:05:09,070 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:09,071 | INFO | sqlalchemy.engine.Engine | [cached since 184.8s ago] (1,)
2025-11-27 19:05:09,185 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:09,187 | INFO | sqlalchemy.engine.Engine | [cached since 169.8s ago] (UUID('5f7538c8-40b3-4d32-881a-cda73a985b1c'),)
2025-11-27 19:05:09,203 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-27 19:05:09,207 | INFO | sqlalchemy.engine.Engine | [cached since 5.661s ago] (UUID('5f7538c8-40b3-4d32-881a-cda73a985b1c'),)
2025-11-27 19:05:09,241 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:09,243 | INFO | sqlalchemy.engine.Engine | [cached since 5.67s ago] (UUID('5f7538c8-40b3-4d32-881a-cda73a985b1c'),)
2025-11-27 19:05:09,250 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:05:09,660 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:09,663 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:09,664 | INFO | sqlalchemy.engine.Engine | [cached since 1361s ago] ()
2025-11-27 19:05:09,673 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:09,674 | INFO | sqlalchemy.engine.Engine | [cached since 185.4s ago] (1,)
2025-11-27 19:05:09,686 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:09,687 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:09,689 | INFO | sqlalchemy.engine.Engine | [cached since 1361s ago] ()
2025-11-27 19:05:09,701 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:09,704 | INFO | sqlalchemy.engine.Engine | [cached since 185.5s ago] (1,)
2025-11-27 19:05:09,822 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:05:09,823 | INFO | sqlalchemy.engine.Engine | [cached since 181.1s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:05:09,828 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:05:09,831 | INFO | sqlalchemy.engine.Engine | [cached since 181.1s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:05:09,857 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:09,868 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:12,620 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:12,622 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:12,624 | INFO | sqlalchemy.engine.Engine | [cached since 1364s ago] ()
2025-11-27 19:05:12,633 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:12,635 | INFO | sqlalchemy.engine.Engine | [cached since 188.4s ago] (1,)
2025-11-27 19:05:12,769 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:12,771 | INFO | sqlalchemy.engine.Engine | [cached since 173.4s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-27 19:05:12,785 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-27 19:05:12,786 | INFO | sqlalchemy.engine.Engine | [cached since 9.241s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-27 19:05:12,807 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:05:12,808 | INFO | sqlalchemy.engine.Engine | [cached since 9.235s ago] (UUID('a3bd26af-1467-43a2-85cd-571d69a2e574'),)
2025-11-27 19:05:12,815 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:05:13,122 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:13,123 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:13,125 | INFO | sqlalchemy.engine.Engine | [cached since 1365s ago] ()
2025-11-27 19:05:13,135 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:13,136 | INFO | sqlalchemy.engine.Engine | [cached since 188.9s ago] (1,)
2025-11-27 19:05:13,150 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:05:13,151 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:05:13,154 | INFO | sqlalchemy.engine.Engine | [cached since 1365s ago] ()
2025-11-27 19:05:13,171 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:05:13,172 | INFO | sqlalchemy.engine.Engine | [cached since 188.9s ago] (1,)
2025-11-27 19:05:13,265 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:05:13,267 | INFO | sqlalchemy.engine.Engine | [cached since 184.6s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:05:13,270 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:05:13,271 | INFO | sqlalchemy.engine.Engine | [cached since 184.6s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:05:13,291 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:13,300 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:05:20,699 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-27 19:05:21,000 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000233B4232610>
2025-11-27 19:05:21,001 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000233B49BE8D0> server_hostname='aviationweather.gov' timeout=10.0
2025-11-27 19:05:21,153 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000233B49D7790>
2025-11-27 19:05:21,155 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-27 19:05:21,157 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-27 19:05:21,158 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-27 19:05:21,159 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-27 19:05:21,160 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-27 19:05:21,252 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Nov 2025 01:05:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'435'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1b3-n5wfjD6YJeSNgLLLCsZnLrVQMdY"'), (b'x-azure-ref', b'20251128T010523Z-15bb6f598fc2nfvbhC1BN1eaw80000000cbg0000000054zt'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-27 19:05:21,254 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-27 19:05:21,255 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-27 19:05:21,255 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-27 19:05:21,257 | DEBUG | httpcore.http11 | response_closed.started
2025-11-27 19:05:21,258 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-27 19:05:21,259 | DEBUG | httpcore.connection | close.started
2025-11-27 19:05:21,260 | DEBUG | httpcore.connection | close.complete
2025-11-27 19:07:32,850 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-27 19:07:32,851 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:07:32,858 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-27 19:07:32,858 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:07:32,867 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-27 19:07:32,868 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:07:32,875 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:07:32,878 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-27 19:07:32,880 | INFO | sqlalchemy.engine.Engine | [generated in 0.00181s] ()
2025-11-27 19:07:32,890 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:07:32,890 | INFO | sqlalchemy.engine.Engine | [generated in 0.00109s] ()
2025-11-27 19:07:32,897 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,898 | INFO | sqlalchemy.engine.Engine | [generated in 0.00099s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,934 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,936 | INFO | sqlalchemy.engine.Engine | [cached since 0.03889s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,940 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,940 | INFO | sqlalchemy.engine.Engine | [cached since 0.04341s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,944 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,945 | INFO | sqlalchemy.engine.Engine | [cached since 0.04802s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,949 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,950 | INFO | sqlalchemy.engine.Engine | [cached since 0.053s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,954 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,956 | INFO | sqlalchemy.engine.Engine | [cached since 0.05806s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,960 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,961 | INFO | sqlalchemy.engine.Engine | [cached since 0.06371s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,965 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:07:32,968 | INFO | sqlalchemy.engine.Engine | [cached since 0.07064s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:07:32,975 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:07:32,976 | INFO | sqlalchemy.engine.Engine | [generated in 0.00138s] ('group_role', 'pg_catalog')
2025-11-27 19:07:32,982 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:07:32,984 | INFO | sqlalchemy.engine.Engine | [cached since 0.009362s ago] ('group_membership_status', 'pg_catalog')
2025-11-27 19:07:32,989 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:07:32,990 | INFO | sqlalchemy.engine.Engine | [cached since 0.0146s ago] ('user_status', 'pg_catalog')
2025-11-27 19:07:32,993 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:07:32,995 | INFO | sqlalchemy.engine.Engine | [cached since 0.02021s ago] ('account_type', 'pg_catalog')
2025-11-27 19:07:32,999 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-27 19:07:33,001 | INFO | sqlalchemy.engine.Engine | [generated in 0.00143s] ()
2025-11-27 19:07:33,008 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-27 19:07:33,009 | INFO | sqlalchemy.engine.Engine | [generated in 0.00138s] ()
2025-11-27 19:07:33,029 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-27 19:07:33,030 | INFO | sqlalchemy.engine.Engine | [generated in 0.00150s] ()
2025-11-27 19:07:33,133 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:07:33,204 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-27 19:07:55,247 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:07:55,248 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:07:55,249 | INFO | sqlalchemy.engine.Engine | [cached since 22.36s ago] ()
2025-11-27 19:07:55,317 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:07:55,319 | INFO | sqlalchemy.engine.Engine | [generated in 0.00157s] (1,)
2025-11-27 19:07:55,599 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-27 19:07:55,605 | INFO | sqlalchemy.engine.Engine | [generated in 0.05003s] (UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'), UUID('5c176027-90d1-4c99-afba-700ad27e3de4'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1015", "windDirection": "100", "windSpeed": "19", "temp": "22", "dewp": "17", "cloudCover": "FEW", "cloudBase": "2000", "wind": "100/19"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 27, 19, 7, 55, 595698, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 27, 19, 7, 55, 595698, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-27 19:07:55,693 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:07:56,655 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:07:56,661 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-27 19:07:56,664 | INFO | sqlalchemy.engine.Engine | [generated in 0.00279s] (UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'),)
2025-11-27 19:07:56,707 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:08:55,653 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:08:55,654 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:08:55,655 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:08:55,658 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,659 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:08:55,660 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:08:55,661 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,662 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:08:55,664 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:08:55,667 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:08:55,669 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:08:55,671 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:08:55,673 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:08:55,675 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,678 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:08:55,680 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:08:55,683 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,685 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:08:55,688 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:08:55,692 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:08:55,696 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:08:55,698 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:08:55,702 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:08:55,704 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,705 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:08:55,707 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:08:55,709 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,710 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:08:55,712 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:08:55,717 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:08:55,719 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:08:55,721 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:8192]
2025-11-27 19:08:56,042 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:56,045 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:56,048 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:56,342 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:56,346 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:56,350 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:56,645 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:56,648 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:56,653 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:56,924 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:56,926 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:56,929 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:56,933 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:08:57,078 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,080 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:57,081 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,084 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:08:57,221 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,223 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:57,225 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:08:57,366 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:57,367 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:57,508 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,510 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:57,513 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:57,644 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,645 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:57,647 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,649 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:08:57,779 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,782 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:57,785 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:57,922 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:57,924 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:57,926 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:58,057 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:58,061 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:58,063 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:08:58,188 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:58,190 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:58,192 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:58,333 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:58,334 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:08:58,466 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:58,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:58,595 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:58,597 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:58,738 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:58,742 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:58,744 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:58,902 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:58,904 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-27 19:08:59,054 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:59,056 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,058 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,190 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,192 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:59,195 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,340 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:08:59,345 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,349 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,476 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,479 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,482 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,485 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,619 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:59,742 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,755 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:59,756 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:08:59,917 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,919 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:08:59,922 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:08:59,924 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:09:00,000 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:09:00,004 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:736]
2025-11-27 19:09:00,005 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:09:00,006 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:09:00,207 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:09:00,209 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:09:00,210 | INFO | sqlalchemy.engine.Engine | [cached since 87.32s ago] ()
2025-11-27 19:09:00,219 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:09:00,219 | INFO | sqlalchemy.engine.Engine | [cached since 64.9s ago] (1,)
2025-11-27 19:09:02,980 | INFO | app.services.transcribe | Starting stream. Total bytes: 1538048. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:09:03,080 | DEBUG | app.services.transcribe | Streamed 8192/1538048 bytes
2025-11-27 19:09:08,140 | DEBUG | app.services.transcribe | Streamed 417792/1538048 bytes
2025-11-27 19:09:13,189 | DEBUG | app.services.transcribe | Streamed 827392/1538048 bytes
2025-11-27 19:09:18,297 | DEBUG | app.services.transcribe | Streamed 1236992/1538048 bytes
2025-11-27 19:09:21,968 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:09:22,295 | DEBUG | app.services.transcribe | Received transcript chunk: superficie Alfa Novi...
2025-11-27 19:09:22,452 | INFO | app.services.transcribe | Transcription complete. Length: 191
2025-11-27 19:09:22,453 | INFO | app.controllers.audio | Transcripcin recibida session=5c176027-90d1-4c99-afba-700ad27e3de4: superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochoomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.
2025-11-27 19:09:22,454 | INFO | app.logs.transcript | student | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | text=superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochoomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.
2025-11-27 19:09:22,608 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:09:22,610 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:09:22,611 | INFO | sqlalchemy.engine.Engine | [generated in 0.00113s] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:09:22,628 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:09:23,790 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:09:23,791 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:09:23,792 | INFO | sqlalchemy.engine.Engine | [cached since 1.183s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:09:23,821 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:09:23,822 | INFO | sqlalchemy.engine.Engine | [generated in 0.00180s] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (14315 characters truncated) ... pv_zone_echo", "intent": "ground_flight_plan_request", "frequency_group": "ground", "intent_confidence": 0.95, "timestamp": "2025-11-28T01:09:23Z"}]}', datetime.datetime(2025, 11, 27, 19, 9, 23, 821602, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:09:23,865 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:09:23,905 | INFO | app.controllers.audio | Fase activa session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_departure_request intent=ground_flight_plan_request freq=ground
2025-11-27 19:09:23,907 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_flight_plan_request freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0507. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": s...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_flight_plan_request
Transcripcin textual del alumno:
superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochoomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Ind...
2025-11-27 19:09:33,190 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_flight_plan_request intento=1: {
  "intent": "ground_flight_plan_request",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0507. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Todos los elementos requeridos fueron proporcionados correctamente.",
  "confidence": 0.95,
  "score": 95,
  "metadata": {
    "nextPhase": "ground_readback"...
2025-11-27 19:09:33,192 | INFO | app.controllers.audio | Transicin automtica de fase session=5c176027-90d1-4c99-afba-700ad27e3de4 de=ground_departure_request a=ground_readback
2025-11-27 19:09:33,328 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:09:33,330 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:09:33,331 | INFO | sqlalchemy.engine.Engine | [cached since 10.72s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:09:33,353 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:09:33,354 | INFO | sqlalchemy.engine.Engine | [cached since 9.534s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (15589 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0507", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 9, 33, 352915, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:09:33,371 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:09:33,392 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:09:33,395 | INFO | sqlalchemy.engine.Engine | [generated in 0.00222s] (UUID('7d9dafb9-ae47-491b-981f-d14d75709b84'), UUID('5c176027-90d1-4c99-afba-700ad27e3de4'), 1, 'ground_readback', 95.0, 'Solicitud completa. Todos los elementos requeridos fueron proporcionados correctamente.')
2025-11-27 19:09:33,415 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:09:33,453 | INFO | app.controllers.audio | Puntuacin guardada session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_readback score=95.00
2025-11-27 19:09:33,454 | INFO | app.logs.transcript | controller | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | intent=ground_flight_plan_request | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0507. Ruede va Alfa 2, Alfa al punto de espera pista uno cero. Llame listo.
2025-11-27 19:11:10,659 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:11:10,661 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:11:10,662 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:11:10,663 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,665 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:11:10,666 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:11:10,667 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,669 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:11:10,671 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:11:10,671 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:11:10,672 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:11:10,673 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:11:10,675 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:11:10,677 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,680 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:11:10,681 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:11:10,682 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,683 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:11:10,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:11:10,688 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:11:10,688 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:11:10,689 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:11:10,690 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:11:10,694 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,695 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:11:10,703 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:11:10,706 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,707 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:11:10,710 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:11:10,713 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:11:10,714 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:11:10,716 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-27 19:11:10,719 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:11:10,721 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:10,882 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:10,884 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:10,888 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:10,890 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:11,053 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:11:11,056 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:11,210 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,212 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,217 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,220 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:11:11,388 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,391 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,395 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:11,566 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,569 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,571 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,573 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:11,742 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,744 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,750 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:11,892 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,895 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:11,902 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:11,905 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:12,052 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,057 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:12,059 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:12,220 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:11:12,222 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,226 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:12,382 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:12,385 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:11:12,389 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:11:12,540 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,543 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:12,545 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:12,689 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:12,691 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,692 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:12,845 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,850 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:12,852 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:12,993 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:12,997 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,002 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,137 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,141 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,143 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,283 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,285 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,287 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,419 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,421 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,424 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,556 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,560 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,565 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,700 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,703 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:11:13,708 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:11:13,842 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2919]
2025-11-27 19:11:13,843 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1]
2025-11-27 19:11:13,845 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:11:13,848 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:11:13,892 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2487]
2025-11-27 19:11:13,893 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:11:13,893 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:11:14,073 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:11:14,074 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:11:14,077 | INFO | sqlalchemy.engine.Engine | [cached since 221.2s ago] ()
2025-11-27 19:11:14,089 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:11:14,090 | INFO | sqlalchemy.engine.Engine | [cached since 198.8s ago] (1,)
2025-11-27 19:11:15,207 | INFO | app.services.transcribe | Starting stream. Total bytes: 1255424. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:11:15,292 | DEBUG | app.services.transcribe | Streamed 8192/1255424 bytes
2025-11-27 19:11:20,409 | DEBUG | app.services.transcribe | Streamed 417792/1255424 bytes
2025-11-27 19:11:23,465 | DEBUG | app.services.transcribe | Received transcript chunk: UNH 1015 Transponder...
2025-11-27 19:11:25,683 | DEBUG | app.services.transcribe | Streamed 827392/1255424 bytes
2025-11-27 19:11:30,919 | DEBUG | app.services.transcribe | Streamed 1236992/1255424 bytes
2025-11-27 19:11:31,228 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:11:31,713 | DEBUG | app.services.transcribe | Received transcript chunk: rodar va Alfa dos ...
2025-11-27 19:11:31,800 | INFO | app.services.transcribe | Transcription complete. Length: 98
2025-11-27 19:11:31,803 | INFO | app.controllers.audio | Transcripcin recibida session=5c176027-90d1-4c99-afba-700ad27e3de4: UNH 1015 Transponder 0522. rodar va Alfa dos Alpha al.de espera pista 10 Alfa Noviembre, India.
2025-11-27 19:11:31,806 | INFO | app.logs.transcript | student | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | text=UNH 1015 Transponder 0522. rodar va Alfa dos Alpha al.de espera pista 10 Alfa Noviembre, India.
2025-11-27 19:11:31,936 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:11:31,937 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:11:31,937 | INFO | sqlalchemy.engine.Engine | [cached since 129.3s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:11:31,965 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:11:34,616 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:11:34,617 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:11:34,618 | INFO | sqlalchemy.engine.Engine | [cached since 132s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:11:34,648 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:11:34,652 | INFO | sqlalchemy.engine.Engine | [cached since 130.8s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (16111 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0507", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 11, 34, 648791, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:11:34,695 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:11:34,759 | INFO | app.controllers.audio | Fase activa session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_readback intent=ground_taxi_instructions freq=ground
2025-11-27 19:11:34,763 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_instructions freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe se...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_instructions
Transcripcin textual del alumno:
UNH 1015 Transponder 0522. rodar va Alfa dos Alpha al.de espera pista 10 Alfa Noviembre, India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
- Uso correc...
2025-11-27 19:11:52,053 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_instructions intento=1: {
  "intent": "ground_taxi_instructions",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Errores detectados: cdigo transponder incorrecto (0522 vs 0507 asignado), falta confirmacin de pista en uso (uno cero), no menciona contacto con Torre 118.3. Corrija estos elementos antes de proceder.",
  "confidence": 0.85,
  "score": 40,
  "metadata": {
    "missingItems": [
      "Cdigo transponder correcto",
      "Confirmacin pista en uso",
      "Contacto Torre 118.3"
    ]
 ...
2025-11-27 19:11:52,216 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:11:52,219 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:11:52,221 | INFO | sqlalchemy.engine.Engine | [cached since 149.6s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:11:52,246 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:11:52,247 | INFO | sqlalchemy.engine.Engine | [cached since 148.4s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (17409 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0507", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 11, 52, 246735, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:11:52,267 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:11:52,307 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:11:52,308 | INFO | sqlalchemy.engine.Engine | [cached since 138.9s ago] (UUID('8e1ba4c3-5c60-44a2-965e-934b82a9654e'), UUID('5c176027-90d1-4c99-afba-700ad27e3de4'), 1, 'ground_readback', 40.0, 'Errores detectados: cdigo transponder incorrecto (0522 vs 0507 asignado), falta confirmacin de pista en uso (uno cero), no menciona contacto con Torre 118.3. Corrija estos elementos antes de proceder.')
2025-11-27 19:11:52,326 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:11:52,361 | INFO | app.controllers.audio | Puntuacin guardada session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_readback score=40.00
2025-11-27 19:11:52,362 | INFO | app.logs.transcript | controller | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | intent=ground_taxi_instructions | phase=ground_readback | allow_response=False | text=
2025-11-27 19:13:41,867 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:13:41,868 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:13:41,868 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:13:41,870 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,871 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:13:41,871 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:13:41,872 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,873 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:13:41,875 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:13:41,876 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:13:41,876 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:13:41,877 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:13:41,878 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:13:41,879 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,881 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:13:41,882 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:13:41,883 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,885 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:13:41,887 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:13:41,889 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:13:41,889 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:13:41,890 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:13:41,892 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:13:41,895 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,899 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:13:41,903 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:13:41,905 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,909 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:13:41,912 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:13:41,915 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:13:41,937 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:13:41,939 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-27 19:13:41,943 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:41,947 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:13:42,053 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:42,055 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,057 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:42,209 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,211 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:42,214 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:42,356 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,358 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,359 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:13:42,516 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,518 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:42,520 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:42,663 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,665 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:42,668 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:42,809 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,810 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:13:42,971 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:42,973 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:42,976 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:43,111 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:43,113 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:43,116 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:43,265 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:43,268 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:43,271 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:43,412 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:43,415 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:43,418 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:43,563 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:43,566 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-27 19:13:43,708 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:43,709 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:13:43,877 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:43,880 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:43,882 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:44,037 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,039 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5840]
2025-11-27 19:13:44,041 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:13:44,178 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:44,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,183 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:44,324 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,326 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:44,328 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:44,473 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,475 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:44,477 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:44,615 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,618 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:44,622 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:44,756 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:13:44,757 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,760 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:13:44,905 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:44,907 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:44,910 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:45,048 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:45,050 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:45,052 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:45,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:45,185 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:45,187 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:45,315 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:13:45,317 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:13:45,319 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:13:45,399 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4235]
2025-11-27 19:13:45,402 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:13:45,403 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:13:45,595 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:13:45,597 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:13:45,598 | INFO | sqlalchemy.engine.Engine | [cached since 372.7s ago] ()
2025-11-27 19:13:45,615 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:13:45,618 | INFO | sqlalchemy.engine.Engine | [cached since 350.3s ago] (1,)
2025-11-27 19:13:46,947 | INFO | app.services.transcribe | Starting stream. Total bytes: 1423360. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:13:47,060 | DEBUG | app.services.transcribe | Streamed 8192/1423360 bytes
2025-11-27 19:13:52,225 | DEBUG | app.services.transcribe | Streamed 417792/1423360 bytes
2025-11-27 19:13:52,358 | DEBUG | app.services.transcribe | Received transcript chunk: UN H 1015 transponde...
2025-11-27 19:13:55,480 | DEBUG | app.services.transcribe | Received transcript chunk: 0507....
2025-11-27 19:13:57,517 | DEBUG | app.services.transcribe | Streamed 827392/1423360 bytes
2025-11-27 19:14:01,728 | DEBUG | app.services.transcribe | Received transcript chunk: lo daremos va alpha...
2025-11-27 19:14:02,737 | DEBUG | app.services.transcribe | Streamed 1236992/1423360 bytes
2025-11-27 19:14:02,940 | DEBUG | app.services.transcribe | Received transcript chunk: cero....
2025-11-27 19:14:04,991 | DEBUG | app.services.transcribe | Received transcript chunk: Alfa Noviembre India...
2025-11-27 19:14:05,140 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:14:05,438 | INFO | app.services.transcribe | Transcription complete. Length: 106
2025-11-27 19:14:05,439 | INFO | app.controllers.audio | Transcripcin recibida session=5c176027-90d1-4c99-afba-700ad27e3de4: UN H 1015 transponder. 0507. lo daremos va alpha dos Alpha Al.de espera uno. cero. Alfa Noviembre India.
2025-11-27 19:14:05,440 | INFO | app.logs.transcript | student | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | text=UN H 1015 transponder. 0507. lo daremos va alpha dos Alpha Al.de espera uno. cero. Alfa Noviembre India.
2025-11-27 19:14:05,620 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:14:05,622 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:14:05,624 | INFO | sqlalchemy.engine.Engine | [cached since 283s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:14:05,655 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:14:08,363 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:14:08,365 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:14:08,367 | INFO | sqlalchemy.engine.Engine | [cached since 285.8s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:14:08,395 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:14:08,397 | INFO | sqlalchemy.engine.Engine | [cached since 284.6s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (17935 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0507", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 14, 8, 395007, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:14:08,413 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:14:08,459 | INFO | app.controllers.audio | Intent detector frequency mismatch session=5c176027-90d1-4c99-afba-700ad27e3de4 detected=tower scenario=ground
2025-11-27 19:14:08,460 | INFO | app.controllers.audio | Fase activa session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_readback intent=tower_departure_instructions freq=ground
2025-11-27 19:14:08,464 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_departure_instructions freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe se...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: tower_departure_instructions
Transcripcin textual del alumno:
UN H 1015 transponder. 0507. lo daremos va alpha dos Alpha Al.de espera uno. cero. Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Confirmar pista en uso.
...
2025-11-27 19:14:17,340 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_departure_instructions intento=1: {
  "intent": "tower_departure_instructions",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "Faltan elementos crticos en la colacin: no menciona viento, no confirma pista en uso (uno cero) y omite contacto con Torre 118.3. Corrija estos puntos antes de proceder.",
  "confidence": 0.85,
  "score": 40,
  "metadata": {
    "missingItems": [
      "Viento 100/19",
      "Confirmacin pista uno cero",
      "Contacto Torre 118.3"
    ],
    "nextPhase": null
  }
}
2025-11-27 19:14:17,501 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:14:17,503 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:14:17,504 | INFO | sqlalchemy.engine.Engine | [cached since 294.9s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:14:17,534 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:14:17,535 | INFO | sqlalchemy.engine.Engine | [cached since 293.7s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (19193 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0507", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 14, 17, 532926, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('19dd75d4-e184-4c38-bd2b-78e02b3f7666'))
2025-11-27 19:14:17,555 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:14:17,576 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:14:17,577 | INFO | sqlalchemy.engine.Engine | [cached since 284.2s ago] (UUID('073c0703-225b-47fc-8585-7fa0a64443fe'), UUID('5c176027-90d1-4c99-afba-700ad27e3de4'), 1, 'ground_readback', 40.0, 'Faltan elementos crticos en la colacin: no menciona viento, no confirma pista en uso (uno cero) y omite contacto con Torre 118.3. Corrija estos puntos antes de proceder.')
2025-11-27 19:14:17,593 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:14:17,645 | INFO | app.controllers.audio | Puntuacin guardada session=5c176027-90d1-4c99-afba-700ad27e3de4 phase_id=ground_readback score=40.00
2025-11-27 19:14:17,648 | INFO | app.logs.transcript | controller | session=5c176027-90d1-4c99-afba-700ad27e3de4 | frequency=121.700 | intent=tower_departure_instructions | phase=ground_readback | allow_response=False | text=
2025-11-27 19:24:21,167 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:21,168 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:21,169 | INFO | sqlalchemy.engine.Engine | [cached since 1008s ago] ()
2025-11-27 19:24:21,171 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:21,172 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:21,174 | INFO | sqlalchemy.engine.Engine | [cached since 1008s ago] ()
2025-11-27 19:24:21,182 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:21,184 | INFO | sqlalchemy.engine.Engine | [cached since 985.9s ago] (1,)
2025-11-27 19:24:21,188 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:21,191 | INFO | sqlalchemy.engine.Engine | [cached since 985.9s ago] (1,)
2025-11-27 19:24:21,204 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:21,206 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:21,207 | INFO | sqlalchemy.engine.Engine | [cached since 1008s ago] ()
2025-11-27 19:24:21,218 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:21,219 | INFO | sqlalchemy.engine.Engine | [cached since 985.9s ago] (1,)
2025-11-27 19:24:21,249 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:21,251 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:21,253 | INFO | sqlalchemy.engine.Engine | [cached since 1008s ago] ()
2025-11-27 19:24:21,261 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:21,263 | INFO | sqlalchemy.engine.Engine | [cached since 985.9s ago] (1,)
2025-11-27 19:24:21,315 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:24:21,316 | INFO | sqlalchemy.engine.Engine | [generated in 0.00149s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:24:21,319 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:24:21,321 | INFO | sqlalchemy.engine.Engine | [cached since 0.00589s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:24:21,327 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:24:21,329 | INFO | sqlalchemy.engine.Engine | [generated in 0.00203s] ('scenario_id', 'session_completed', 1)
2025-11-27 19:24:21,347 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:24:21,349 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:24:21,352 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:24:21,356 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:24:21,357 | INFO | sqlalchemy.engine.Engine | [cached since 0.03106s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:24:21,375 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:24:25,007 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:25,008 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:25,009 | INFO | sqlalchemy.engine.Engine | [cached since 1012s ago] ()
2025-11-27 19:24:25,017 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:25,018 | INFO | sqlalchemy.engine.Engine | [cached since 989.7s ago] (1,)
2025-11-27 19:24:25,116 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:24:25,118 | INFO | sqlalchemy.engine.Engine | [cached since 902.5s ago] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:24:25,131 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.phase_scores WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID
2025-11-27 19:24:25,131 | INFO | sqlalchemy.engine.Engine | [generated in 0.00078s] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:24:25,147 | INFO | sqlalchemy.engine.Engine | DELETE FROM ecowhiskey.training_contexts WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:24:25,148 | INFO | sqlalchemy.engine.Engine | [generated in 0.00088s] (UUID('5c176027-90d1-4c99-afba-700ad27e3de4'),)
2025-11-27 19:24:25,154 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:24:25,581 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:25,583 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:25,585 | INFO | sqlalchemy.engine.Engine | [cached since 1013s ago] ()
2025-11-27 19:24:25,596 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:25,598 | INFO | sqlalchemy.engine.Engine | [cached since 990.3s ago] (1,)
2025-11-27 19:24:25,606 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:24:25,608 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:24:25,609 | INFO | sqlalchemy.engine.Engine | [cached since 1013s ago] ()
2025-11-27 19:24:25,624 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:24:25,628 | INFO | sqlalchemy.engine.Engine | [cached since 990.3s ago] (1,)
2025-11-27 19:24:25,872 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:24:25,875 | INFO | sqlalchemy.engine.Engine | [cached since 4.56s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:24:25,879 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:24:25,883 | INFO | sqlalchemy.engine.Engine | [cached since 4.556s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:24:25,911 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:24:25,916 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:29:32,301 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-27 19:29:32,302 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:29:32,308 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-27 19:29:32,309 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:29:32,315 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-27 19:29:32,317 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 19:29:32,323 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:32,326 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-27 19:29:32,326 | INFO | sqlalchemy.engine.Engine | [generated in 0.00132s] ()
2025-11-27 19:29:32,333 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:32,335 | INFO | sqlalchemy.engine.Engine | [generated in 0.00127s] ()
2025-11-27 19:29:32,345 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,347 | INFO | sqlalchemy.engine.Engine | [generated in 0.00101s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,376 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,377 | INFO | sqlalchemy.engine.Engine | [cached since 0.03074s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,381 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,382 | INFO | sqlalchemy.engine.Engine | [cached since 0.03599s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,387 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,387 | INFO | sqlalchemy.engine.Engine | [cached since 0.04164s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,393 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,394 | INFO | sqlalchemy.engine.Engine | [cached since 0.04762s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,397 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,398 | INFO | sqlalchemy.engine.Engine | [cached since 0.05232s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,403 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,405 | INFO | sqlalchemy.engine.Engine | [cached since 0.05925s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,409 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 19:29:32,411 | INFO | sqlalchemy.engine.Engine | [cached since 0.06468s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 19:29:32,417 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:29:32,418 | INFO | sqlalchemy.engine.Engine | [generated in 0.00113s] ('group_role', 'pg_catalog')
2025-11-27 19:29:32,425 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:29:32,426 | INFO | sqlalchemy.engine.Engine | [cached since 0.009102s ago] ('group_membership_status', 'pg_catalog')
2025-11-27 19:29:32,429 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:29:32,431 | INFO | sqlalchemy.engine.Engine | [cached since 0.01389s ago] ('user_status', 'pg_catalog')
2025-11-27 19:29:32,435 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 19:29:32,436 | INFO | sqlalchemy.engine.Engine | [cached since 0.0187s ago] ('account_type', 'pg_catalog')
2025-11-27 19:29:32,439 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-27 19:29:32,441 | INFO | sqlalchemy.engine.Engine | [generated in 0.00164s] ()
2025-11-27 19:29:32,447 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-27 19:29:32,448 | INFO | sqlalchemy.engine.Engine | [generated in 0.00147s] ()
2025-11-27 19:29:32,474 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-27 19:29:32,477 | INFO | sqlalchemy.engine.Engine | [generated in 0.00282s] ()
2025-11-27 19:29:32,567 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:29:32,751 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-27 19:29:41,287 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:41,287 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:41,288 | INFO | sqlalchemy.engine.Engine | [cached since 8.955s ago] ()
2025-11-27 19:29:41,339 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 19:29:41,340 | INFO | sqlalchemy.engine.Engine | [generated in 0.00101s] ('josuelu2@gmail.com',)
2025-11-27 19:29:41,552 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:29:43,977 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:43,978 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:43,979 | INFO | sqlalchemy.engine.Engine | [cached since 11.65s ago] ()
2025-11-27 19:29:43,989 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:29:43,990 | INFO | sqlalchemy.engine.Engine | [generated in 0.00096s] (1,)
2025-11-27 19:29:44,144 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:29:45,159 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:45,161 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:45,161 | INFO | sqlalchemy.engine.Engine | [cached since 12.83s ago] ()
2025-11-27 19:29:45,169 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:29:45,170 | INFO | sqlalchemy.engine.Engine | [cached since 1.182s ago] (1,)
2025-11-27 19:29:45,194 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:45,197 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:45,199 | INFO | sqlalchemy.engine.Engine | [cached since 12.87s ago] ()
2025-11-27 19:29:45,209 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:29:45,211 | INFO | sqlalchemy.engine.Engine | [cached since 1.222s ago] (1,)
2025-11-27 19:29:45,308 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:29:45,310 | INFO | sqlalchemy.engine.Engine | [generated in 0.00193s] ('scenario_id', 'session_completed', 1)
2025-11-27 19:29:45,315 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:29:45,319 | INFO | sqlalchemy.engine.Engine | [generated in 0.00326s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:29:45,336 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:29:45,345 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:29:50,758 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-27 19:29:50,907 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F24878E8D0>
2025-11-27 19:29:50,909 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F248CFE840> server_hostname='aviationweather.gov' timeout=10.0
2025-11-27 19:29:51,061 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F248CC0C50>
2025-11-27 19:29:51,063 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-27 19:29:51,065 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-27 19:29:51,067 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-27 19:29:51,068 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-27 19:29:51,069 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-27 19:29:51,160 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Nov 2025 01:29:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'435'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1b3-n5wfjD6YJeSNgLLLCsZnLrVQMdY"'), (b'x-azure-ref', b'20251128T012952Z-169c88d7dfcsqbkghC1BN1dws80000001x9000000000280t'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-27 19:29:51,162 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-27 19:29:51,163 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-27 19:29:51,165 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-27 19:29:51,165 | DEBUG | httpcore.http11 | response_closed.started
2025-11-27 19:29:51,168 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-27 19:29:51,169 | DEBUG | httpcore.connection | close.started
2025-11-27 19:29:51,171 | DEBUG | httpcore.connection | close.complete
2025-11-27 19:29:57,921 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:57,922 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:29:57,923 | INFO | sqlalchemy.engine.Engine | [cached since 25.59s ago] ()
2025-11-27 19:29:57,932 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:29:57,933 | INFO | sqlalchemy.engine.Engine | [cached since 13.94s ago] (1,)
2025-11-27 19:29:58,099 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-27 19:29:58,100 | INFO | sqlalchemy.engine.Engine | [generated in 0.01087s] (UUID('b9822e45-c4c5-4400-b2f3-300b39028225'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1015", "windDirection": "100", "windSpeed": "19", "temp": "22", "dewp": "17", "cloudCover": "FEW", "cloudBase": "2000", "wind": "100/19"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 27, 19, 29, 58, 99323, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 27, 19, 29, 58, 99323, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-27 19:29:58,117 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:29:58,446 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:29:58,449 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-27 19:29:58,451 | INFO | sqlalchemy.engine.Engine | [generated in 0.00191s] (UUID('b9822e45-c4c5-4400-b2f3-300b39028225'),)
2025-11-27 19:29:58,471 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:30:37,046 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:30:37,047 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:30:37,049 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:30:37,051 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,052 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:30:37,054 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:30:37,056 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,057 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:30:37,059 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:30:37,062 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:30:37,063 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:30:37,065 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:30:37,067 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:30:37,068 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,070 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:30:37,071 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:30:37,073 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,073 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:30:37,076 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:30:37,076 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:30:37,077 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:30:37,078 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:30:37,080 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:30:37,081 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,083 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:30:37,090 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:30:37,093 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,094 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:30:37,097 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:30:37,101 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:30:37,101 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:30:37,102 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:7300]
2025-11-27 19:30:37,107 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:37,267 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:37,270 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:37,275 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:37,557 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:37,563 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:30:37,835 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:37,838 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:37,841 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:38,016 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,018 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:38,020 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,022 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:38,168 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,172 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:38,175 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:38,315 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:38,322 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,326 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:38,483 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,487 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:38,489 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:38,648 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,651 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:38,653 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:38,812 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:38,817 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:38,957 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,961 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:38,963 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:38,967 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:39,133 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:39,138 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:39,141 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:39,280 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:39,283 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:39,288 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:39,290 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:39,440 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:39,443 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:39,445 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:30:39,591 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:39,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:39,760 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:39,763 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:39,765 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:39,935 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:39,938 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:39,940 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:30:40,122 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,125 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:40,127 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:40,283 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,287 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:40,290 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:40,430 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:40,432 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:40,550 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:30:40,552 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:40,680 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:40,682 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,684 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:30:40,832 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,835 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:40,836 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:40,966 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:40,968 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:40,971 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:41,095 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:41,098 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:30:41,101 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:30:41,200 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:30:41,202 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3613]
2025-11-27 19:30:41,202 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:30:41,203 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:30:41,356 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:30:41,358 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:30:41,358 | INFO | sqlalchemy.engine.Engine | [cached since 69.03s ago] ()
2025-11-27 19:30:41,368 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:30:41,369 | INFO | sqlalchemy.engine.Engine | [cached since 57.38s ago] (1,)
2025-11-27 19:30:43,202 | INFO | app.services.transcribe | Starting stream. Total bytes: 1499136. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:30:43,297 | DEBUG | app.services.transcribe | Streamed 8192/1499136 bytes
2025-11-27 19:30:48,395 | DEBUG | app.services.transcribe | Streamed 417792/1499136 bytes
2025-11-27 19:30:53,647 | DEBUG | app.services.transcribe | Streamed 827392/1499136 bytes
2025-11-27 19:30:58,931 | DEBUG | app.services.transcribe | Streamed 1236992/1499136 bytes
2025-11-27 19:31:02,300 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:31:02,719 | DEBUG | app.services.transcribe | Received transcript chunk: superficie Alfa Novi...
2025-11-27 19:31:02,883 | INFO | app.services.transcribe | Transcription complete. Length: 176
2025-11-27 19:31:02,885 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo UFR hacia zona Eco va Paso Ochoomogo niveles, dos almas a bordo, autonoma cinco.
2025-11-27 19:31:02,887 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=121.700 | text=superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo UFR hacia zona Eco va Paso Ochoomogo niveles, dos almas a bordo, autonoma cinco.
2025-11-27 19:31:03,082 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:31:03,086 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:31:03,088 | INFO | sqlalchemy.engine.Engine | [generated in 0.00183s] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:31:03,123 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:31:04,510 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:31:04,511 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:31:04,513 | INFO | sqlalchemy.engine.Engine | [cached since 1.426s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:31:04,536 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:31:04,538 | INFO | sqlalchemy.engine.Engine | [generated in 0.00264s] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (14665 characters truncated) ... pv_zone_echo", "intent": "ground_flight_plan_request", "frequency_group": "ground", "intent_confidence": 0.95, "timestamp": "2025-11-28T01:31:04Z"}]}', datetime.datetime(2025, 11, 27, 19, 31, 4, 536892, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:31:04,568 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:31:04,612 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=ground_departure_request intent=ground_flight_plan_request freq=ground
2025-11-27 19:31:04,616 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_flight_plan_request freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0552. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": ...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_flight_plan_request
Transcripcin textual del alumno:
superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo UFR hacia zona Eco va Paso Ochoomogo niveles, dos almas a bordo, autonoma cinco.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indicar ubicacin ...
2025-11-27 19:31:18,414 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_flight_plan_request intento=1: {
  "intent": "ground_flight_plan_request",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0552. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, nivel inicial, almas y autonoma. Proceda con autorizacin de rodaje.",
  "confidenc...
2025-11-27 19:31:18,417 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=ground_departure_request a=ground_readback
2025-11-27 19:31:18,618 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:31:18,620 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:31:18,623 | INFO | sqlalchemy.engine.Engine | [cached since 15.54s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:31:18,645 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:31:18,646 | INFO | sqlalchemy.engine.Engine | [cached since 14.11s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (16181 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 31, 18, 645166, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:31:18,673 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:31:18,714 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:31:18,716 | INFO | sqlalchemy.engine.Engine | [generated in 0.00292s] (UUID('74b641bf-76f4-42f4-b6fe-cff9795d280c'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'ground_readback', 95.0, 'Solicitud completa. Se incluyeron todos los elementos requeridos: ubicacin, destino, ruta, nivel inicial, almas y autonoma. Proceda con autorizacin de rodaje.')
2025-11-27 19:31:18,736 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:31:18,789 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=ground_readback score=95.00
2025-11-27 19:31:18,791 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=121.700 | intent=ground_flight_plan_request | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 19 nudos. QNH 1015. Transponder 0552. Ruede va Alfa, Charlie al punto de espera pista uno cero. Llame listo.
2025-11-27 19:35:23,859 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:35:23,861 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:35:23,863 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:35:23,864 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,865 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:35:23,868 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:35:23,870 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,870 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:35:23,872 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:35:23,874 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:35:23,876 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:35:23,879 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:35:23,881 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:35:23,883 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,885 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:35:23,887 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:35:23,888 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,890 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:35:23,891 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:35:23,893 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:35:23,893 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:35:23,896 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:35:23,897 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:35:23,897 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,899 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:35:23,900 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:35:23,901 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,902 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:35:23,903 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:35:23,905 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:35:23,905 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:35:23,909 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-27 19:35:23,913 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:35:24,062 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:24,063 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:24,068 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:24,243 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:24,248 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:24,252 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:24,425 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:24,428 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:24,429 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:24,432 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:24,600 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:24,602 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:24,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:24,757 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:35:24,923 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:24,925 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:25,099 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:25,103 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:25,106 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:25,272 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:25,275 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:25,432 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:25,434 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:25,437 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:25,438 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:25,592 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:25,595 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:25,597 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:25,750 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:25,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5840]
2025-11-27 19:35:25,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:25,932 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:25,936 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:26,102 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:26,107 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:26,289 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:26,292 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:26,295 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:26,473 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:26,475 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:26,478 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:26,635 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:26,636 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:26,639 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:26,794 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:26,797 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:26,800 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:26,998 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:27,002 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:27,005 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:27,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:27,185 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:27,189 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:27,372 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:27,375 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:27,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:27,610 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:27,615 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:27,856 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:27,862 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5840]
2025-11-27 19:35:27,867 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:35:28,030 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:28,033 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:28,035 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:28,178 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:28,181 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:28,183 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:28,324 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:28,326 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:28,327 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:28,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:35:28,468 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:28,470 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:35:28,627 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:35:28,629 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:35:28,632 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:35:28,642 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:561]
2025-11-27 19:35:28,643 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:35:28,643 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:35:28,857 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:35:28,860 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:35:28,861 | INFO | sqlalchemy.engine.Engine | [cached since 356.5s ago] ()
2025-11-27 19:35:28,872 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:35:28,873 | INFO | sqlalchemy.engine.Engine | [cached since 344.9s ago] (1,)
2025-11-27 19:35:30,060 | INFO | app.services.transcribe | Starting stream. Total bytes: 1634304. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:35:30,177 | DEBUG | app.services.transcribe | Streamed 8192/1634304 bytes
2025-11-27 19:35:35,389 | DEBUG | app.services.transcribe | Streamed 417792/1634304 bytes
2025-11-27 19:35:38,893 | DEBUG | app.services.transcribe | Received transcript chunk: QNH 1015 Transponder...
2025-11-27 19:35:40,603 | DEBUG | app.services.transcribe | Streamed 827392/1634304 bytes
2025-11-27 19:35:42,205 | DEBUG | app.services.transcribe | Received transcript chunk: rodar va Alfa....
2025-11-27 19:35:44,254 | DEBUG | app.services.transcribe | Received transcript chunk: Charlie....
2025-11-27 19:35:45,671 | DEBUG | app.services.transcribe | Streamed 1236992/1634304 bytes
2025-11-27 19:35:48,207 | DEBUG | app.services.transcribe | Received transcript chunk: al.de espera pista 1...
2025-11-27 19:35:50,761 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:35:50,825 | DEBUG | app.services.transcribe | Received transcript chunk: Alfa Noviembre, Indi...
2025-11-27 19:35:50,965 | INFO | app.services.transcribe | Transcription complete. Length: 99
2025-11-27 19:35:50,967 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: QNH 1015 Transponder 0552. rodar va Alfa. Charlie. al.de espera pista 10. Alfa Noviembre, India.
2025-11-27 19:35:50,969 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=121.700 | text=QNH 1015 Transponder 0552. rodar va Alfa. Charlie. al.de espera pista 10. Alfa Noviembre, India.
2025-11-27 19:35:51,170 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:35:51,172 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:35:51,175 | INFO | sqlalchemy.engine.Engine | [cached since 288.1s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:35:51,243 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:35:54,878 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:35:54,879 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:35:54,881 | INFO | sqlalchemy.engine.Engine | [cached since 291.8s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:35:54,913 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:35:54,916 | INFO | sqlalchemy.engine.Engine | [cached since 290.4s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (16704 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 19, 35, 54, 913867, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:35:54,940 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:35:54,984 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=ground_readback intent=ground_taxi_instructions freq=ground
2025-11-27 19:35:54,988 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_taxi_instructions freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe se...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: ground_taxi_instructions
Transcripcin textual del alumno:
QNH 1015 Transponder 0552. rodar va Alfa. Charlie. al.de espera pista 10. Alfa Noviembre, India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Colacionar pista asignada.
- Colaci...
2025-11-27 19:36:05,157 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_taxi_instructions intento=1: {
  "intent": "ground_taxi_readback",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, colacin correcta. Cambie a Torre 118.3 cuando est listo.",
  "feedback": "Colacin completa y precisa. Se incluyeron todos los elementos requeridos: QNH, transponder, ruta de rodaje, pista asignada y restricciones. Puede proceder a contactar Torre.",
  "confidence": 0.98,
  "score": 95,
  "metadata": {
    "nextPhase": "tower_hold_short",
    "missingItems": [],
    "extraItems": []
  }
}
2025-11-27 19:36:05,158 | INFO | app.services.audio_pipeline | Intent devuelto por el LLM (ground_taxi_readback) difiere del esperado (ground_taxi_instructions)
2025-11-27 19:36:05,159 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=ground_readback a=tower_hold_short
2025-11-27 19:36:05,331 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:36:05,333 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:36:05,334 | INFO | sqlalchemy.engine.Engine | [cached since 302.2s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:36:05,357 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:36:05,359 | INFO | sqlalchemy.engine.Engine | [cached since 300.8s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (18005 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 36, 5, 357607, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:36:05,383 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:36:05,414 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:36:05,415 | INFO | sqlalchemy.engine.Engine | [cached since 286.7s ago] (UUID('ae3d4618-b49a-46ff-9b2a-aeff60bdec6e'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'tower_hold_short', 95.0, 'Colacin completa y precisa. Se incluyeron todos los elementos requeridos: QNH, transponder, ruta de rodaje, pista asignada y restricciones. Puede proceder a contactar Torre.')
2025-11-27 19:36:05,428 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:36:05,471 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_hold_short score=95.00
2025-11-27 19:36:05,473 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=121.700 | intent=ground_taxi_readback | phase=tower_hold_short | allow_response=True | text=Alfa Noviembre India, colacin correcta. Cambie a Torre 118.3 cuando est listo.
2025-11-27 19:36:42,841 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:36:42,842 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:36:42,843 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:36:42,843 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,844 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:36:42,845 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:36:42,845 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,847 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:36:42,848 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:36:42,849 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:36:42,850 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:36:42,851 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:36:42,852 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:36:42,853 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,853 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:36:42,854 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:36:42,855 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,858 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:36:42,862 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:36:42,864 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:36:42,867 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:36:42,868 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:36:42,869 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:36:42,871 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,873 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:36:42,873 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:36:42,875 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,876 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:36:42,878 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 19:36:42,878 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:36:42,879 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:36:42,880 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:2920]
2025-11-27 19:36:42,884 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:36:43,003 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:43,005 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:43,008 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:43,159 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:36:43,161 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:43,162 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:36:43,307 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:36:43,309 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:43,470 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:43,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:43,474 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:43,629 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:43,632 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:43,634 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:43,790 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:36:43,793 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:43,795 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:36:43,974 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:43,978 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:43,980 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:44,135 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:44,136 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:44,140 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:44,143 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:36:44,292 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:36:44,293 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:44,296 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:44,435 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:36:44,437 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:36:44,503 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:36:44,505 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:411]
2025-11-27 19:36:44,506 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:36:44,506 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:36:44,683 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:36:44,686 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:36:44,687 | INFO | sqlalchemy.engine.Engine | [cached since 432.4s ago] ()
2025-11-27 19:36:44,693 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:36:44,695 | INFO | sqlalchemy.engine.Engine | [cached since 420.7s ago] (1,)
2025-11-27 19:36:45,900 | INFO | app.services.transcribe | Starting stream. Total bytes: 659456. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:36:45,989 | DEBUG | app.services.transcribe | Streamed 8192/659456 bytes
2025-11-27 19:36:51,104 | DEBUG | app.services.transcribe | Streamed 417792/659456 bytes
2025-11-27 19:36:54,287 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:36:54,754 | DEBUG | app.services.transcribe | Received transcript chunk: Pas Torre Alfa Novie...
2025-11-27 19:36:54,833 | INFO | app.services.transcribe | Transcription complete. Length: 67
2025-11-27 19:36:54,834 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: Pas Torre Alfa Noviembre, India en.de espera 10 listo para salida.
2025-11-27 19:36:54,835 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | text=Pas Torre Alfa Noviembre, India en.de espera 10 listo para salida.
2025-11-27 19:36:55,032 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:36:55,034 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:36:55,036 | INFO | sqlalchemy.engine.Engine | [cached since 351.9s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:36:55,071 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:36:56,152 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:36:56,155 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:36:56,157 | INFO | sqlalchemy.engine.Engine | [cached since 353.1s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:36:56,183 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:36:56,185 | INFO | sqlalchemy.engine.Engine | [cached since 351.6s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (18484 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 36, 56, 183719, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:36:56,219 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:36:56,266 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_hold_short intent=tower_ready_for_departure freq=tower
2025-11-27 19:36:56,269 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_ready_for_departure freq_group=tower
SYSTEM> Eres Pavas Torre (118.3). Cuando la aeronave se reporta lista, responde: '[Matrcula], mantenga fuera de pista, trnsito en final corto.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": num...
USER> Fase actual: Contacto inicial con Torre (mantener fuera)
Intent esperado: tower_ready_for_departure
Transcripcin textual del alumno:
Pas Torre Alfa Noviembre, India en.de espera 10 listo para salida.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Fase ID: tower_hold_short

Checklist alumno:
- Reportar punto de espera pista uno cero.
- Colacionar: 'Mantengo fuera de pista' o 'A posicin y mantengo'.
- Colacionar instrucciones condicionales (ej. 'detrs del trnsito').
...
2025-11-27 19:37:07,740 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_ready_for_departure intento=1: {
  "intent": "tower_ready_for_departure",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, mantenga fuera de pista, trnsito en final corto.",
  "feedback": "Reporte correcto de posicin y estado. Se us 'listo para salida' correctamente. Proceda con instruccin de espera.",
  "confidence": 0.95,
  "score": 90,
  "metadata": {
    "nextPhase": "tower_line_up",
    "missingElements": [],
    "additionalNotes": "El alumno report correctamente su posicin y estado. La fraseo...
2025-11-27 19:37:07,745 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=tower_hold_short a=tower_line_up
2025-11-27 19:37:07,935 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:37:07,936 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:37:07,938 | INFO | sqlalchemy.engine.Engine | [cached since 364.9s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:37:07,961 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:37:07,963 | INFO | sqlalchemy.engine.Engine | [cached since 363.4s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (20063 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 37, 7, 960116, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:37:07,993 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:37:08,043 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:37:08,047 | INFO | sqlalchemy.engine.Engine | [cached since 349.3s ago] (UUID('f6fc4b3b-a099-4627-a637-8aa6dd6c3802'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'tower_line_up', 90.0, "Reporte correcto de posicin y estado. Se us 'listo para salida' correctamente. Proceda con instruccin de espera.")
2025-11-27 19:37:08,063 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:37:08,117 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_line_up score=90.00
2025-11-27 19:37:08,118 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | intent=tower_ready_for_departure | phase=tower_line_up | allow_response=True | text=Alfa Noviembre India, mantenga fuera de pista, trnsito en final corto.
2025-11-27 19:37:34,659 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:37:34,660 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:37:34,661 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:37:34,662 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,663 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:37:34,664 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:37:34,666 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,667 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:37:34,669 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:37:34,670 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:37:34,672 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:37:34,673 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:37:34,673 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:37:34,674 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,676 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:37:34,677 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:37:34,678 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,679 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:37:34,680 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:37:34,681 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:37:34,682 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:37:34,683 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:37:34,685 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:37:34,687 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,688 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:37:34,691 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:37:34,693 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,696 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:37:34,697 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 19:37:34,701 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:37:34,706 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:37:34,708 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:5840]
2025-11-27 19:37:34,712 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:37:34,847 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:34,850 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:34,852 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:34,855 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:37:35,032 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:37:35,037 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:37:35,198 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:35,200 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:35,202 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:37:35,364 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:37:35,366 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:35,367 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:37:35,525 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:35,526 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:35,528 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:37:35,674 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:35,676 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:35,679 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:35,682 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:37:35,825 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:35,828 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:37:35,831 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:37:35,972 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:35,973 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:37:35,976 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:37:36,070 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:37:36,072 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:37:36,073 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:558]
2025-11-27 19:37:36,075 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:37:36,076 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:37:36,251 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:37:36,253 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:37:36,256 | INFO | sqlalchemy.engine.Engine | [cached since 483.9s ago] ()
2025-11-27 19:37:36,266 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:37:36,267 | INFO | sqlalchemy.engine.Engine | [cached since 472.3s ago] (1,)
2025-11-27 19:37:36,825 | INFO | app.services.transcribe | Starting stream. Total bytes: 550912. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:37:36,917 | DEBUG | app.services.transcribe | Streamed 8192/550912 bytes
2025-11-27 19:37:41,912 | DEBUG | app.services.transcribe | Streamed 417792/550912 bytes
2025-11-27 19:37:43,683 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:37:43,859 | DEBUG | app.services.transcribe | Received transcript chunk: mantengo fuera Alfa ...
2025-11-27 19:37:43,976 | INFO | app.services.transcribe | Transcription complete. Length: 38
2025-11-27 19:37:43,977 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: mantengo fuera Alfa Noviembre, India.
2025-11-27 19:37:43,977 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | text=mantengo fuera Alfa Noviembre, India.
2025-11-27 19:37:44,115 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:37:44,118 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:37:44,119 | INFO | sqlalchemy.engine.Engine | [cached since 401s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:37:44,134 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:37:45,368 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:37:45,369 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:37:45,370 | INFO | sqlalchemy.engine.Engine | [cached since 402.3s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:37:45,397 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:37:45,400 | INFO | sqlalchemy.engine.Engine | [cached since 400.9s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (20516 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 37, 45, 397385, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:37:45,421 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:37:45,454 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_line_up intent=tower_hold_short_instruction freq=tower
2025-11-27 19:37:45,458 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_hold_short_instruction freq_group=tower
SYSTEM> Sigues en Pavas Torre. Una vez libre el trnsito, instruye: '[Matrcula], ruede a posicin y mantenga pista uno cero.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "meta...
USER> Fase actual: Autorizacin a posicin y mantener
Intent esperado: tower_hold_short_instruction
Transcripcin textual del alumno:
mantengo fuera Alfa Noviembre, India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Fase ID: tower_line_up

Checklist alumno:
- Reconocer la instruccin anterior y estar listo.

Checklist controlador:
- Autorizar 'ruede a posicin y mantenga pista uno cero'.
- Mantener fraseologa local.

Cundo responder:
- allowResponse=true con la instrucc...
2025-11-27 19:38:02,863 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_hold_short_instruction intento=1: {
  "intent": "tower_hold_short_instruction",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, ruede a posicin y mantenga pista uno cero.",
  "feedback": "Se confirma correctamente la instruccin de mantener fuera de pista. Ahora se autoriza rodar a posicin en pista 10. Recuerde no autorizar despegue todava.",
  "confidence": 0.92,
  "score": 85,
  "metadata": {
    "nextPhase": "tower_takeoff_clearance",
    "missingElements": [],
    "additionalNotes": "El alumno recon...
2025-11-27 19:38:02,865 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=tower_line_up a=tower_takeoff_clearance
2025-11-27 19:38:03,061 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:38:03,062 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:38:03,064 | INFO | sqlalchemy.engine.Engine | [cached since 420s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:38:03,115 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:38:03,117 | INFO | sqlalchemy.engine.Engine | [cached since 418.6s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (22145 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 38, 3, 114961, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:38:03,142 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:38:03,204 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:38:03,206 | INFO | sqlalchemy.engine.Engine | [cached since 404.5s ago] (UUID('43e93c01-9fce-4727-b96f-52efa1af2632'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'tower_takeoff_clearance', 85.0, 'Se confirma correctamente la instruccin de mantener fuera de pista. Ahora se autoriza rodar a posicin en pista 10. Recuerde no autorizar despegue todava.')
2025-11-27 19:38:03,222 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:38:03,278 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_takeoff_clearance score=85.00
2025-11-27 19:38:03,278 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | intent=tower_hold_short_instruction | phase=tower_takeoff_clearance | allow_response=True | text=Alfa Noviembre India, ruede a posicin y mantenga pista uno cero.
2025-11-27 19:39:45,622 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:39:45,622 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:39:45,624 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:39:45,626 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,627 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:39:45,628 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:39:45,629 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,630 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:39:45,631 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:39:45,632 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:39:45,633 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:39:45,634 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:39:45,635 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:39:45,635 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,636 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:39:45,638 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:39:45,639 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,640 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:39:45,640 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:39:45,641 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:39:45,642 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:39:45,646 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:39:45,647 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:39:45,648 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,650 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:39:45,652 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:39:45,652 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,655 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:39:45,657 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 19:39:45,658 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:39:45,659 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:39:45,662 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:2920]
2025-11-27 19:39:45,666 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:39:45,794 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:39:45,797 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:45,799 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:39:45,956 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:45,958 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:45,962 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:45,967 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:39:46,109 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,112 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:46,115 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:46,257 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,261 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:46,263 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:46,409 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:46,413 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,416 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:46,548 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,549 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:46,551 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:46,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,700 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:46,702 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:46,886 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:46,888 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:39:46,890 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:39:47,112 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:47,116 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:39:47,121 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:39:47,223 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:39:47,227 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1051]
2025-11-27 19:39:47,231 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:39:47,232 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:39:47,853 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:39:47,856 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:39:47,858 | INFO | sqlalchemy.engine.Engine | [cached since 615.5s ago] ()
2025-11-27 19:39:47,872 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:39:47,875 | INFO | sqlalchemy.engine.Engine | [cached since 603.9s ago] (1,)
2025-11-27 19:39:48,958 | INFO | app.services.transcribe | Starting stream. Total bytes: 604160. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:39:49,061 | DEBUG | app.services.transcribe | Streamed 8192/604160 bytes
2025-11-27 19:39:54,166 | DEBUG | app.services.transcribe | Streamed 417792/604160 bytes
2025-11-27 19:39:56,534 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:39:56,824 | DEBUG | app.services.transcribe | Received transcript chunk: a posicin y manteni...
2025-11-27 19:39:56,909 | INFO | app.services.transcribe | Transcription complete. Length: 56
2025-11-27 19:39:56,911 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: a posicin y manteniendo pista 10 Alfa Noviembre India.
2025-11-27 19:39:56,912 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | text=a posicin y manteniendo pista 10 Alfa Noviembre India.
2025-11-27 19:39:57,485 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:39:57,491 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:39:57,495 | INFO | sqlalchemy.engine.Engine | [cached since 534.4s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:39:57,548 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:40:03,300 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:40:03,302 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:40:03,303 | INFO | sqlalchemy.engine.Engine | [cached since 540.2s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:40:03,323 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:40:03,324 | INFO | sqlalchemy.engine.Engine | [cached since 538.8s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (22615 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 40, 3, 323095, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:40:03,351 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:40:03,392 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_takeoff_clearance intent=tower_position_report freq=tower
2025-11-27 19:40:03,395 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_position_report freq_group=tower
SYSTEM> Como Torre, clearance final: '[Matrcula], viento 100 grados 19 nudos, autorizado despegar pista uno cero. Mantenga rumbo de pista y notifique pasando cinco mil pies.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence":...
USER> Fase actual: Autorizacin de despegue
Intent esperado: tower_position_report
Transcripcin textual del alumno:
a posicin y manteniendo pista 10 Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Fase ID: tower_takeoff_clearance

Checklist alumno:
- Colacionar 'AUTORIZADO DESPEGAR'.
- Colacionar pista asignada.
- Colacionar restricciones (rumbo, altitud, reportes).
- NO colacionar viento ni estado de la pista.

Checklist controlador:
- Dar viento (ver...
2025-11-27 19:40:16,453 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_position_report intento=1: {
  "intent": "tower_position_report",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, viento 100 grados 19 nudos, autorizado despegar pista uno cero. Mantenga rumbo de pista y notifique pasando cinco mil pies.",
  "feedback": "Reporte de posicin correcto. Ahora se procede con autorizacin de despegue incluyendo viento, pista, instrucciones de rumbo y reporte de altitud. Recuerde que en esta fase el alumno debe colacionar la autorizacin de despegue, pista y restricciones...
2025-11-27 19:40:16,455 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=tower_takeoff_clearance a=tower_initial_climb
2025-11-27 19:40:16,599 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:40:16,601 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:40:16,602 | INFO | sqlalchemy.engine.Engine | [cached since 553.5s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:40:16,621 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:40:16,621 | INFO | sqlalchemy.engine.Engine | [cached since 552.1s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (24328 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 40, 16, 620590, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:40:16,643 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:40:16,681 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:40:16,683 | INFO | sqlalchemy.engine.Engine | [cached since 538s ago] (UUID('865c2e12-d286-4dd6-a8ee-dc0467b07fd3'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'tower_initial_climb', 85.0, 'Reporte de posicin correcto. Ahora se procede con autorizacin de despegue incluyendo viento, pista, instrucciones de rumbo y reporte de altitud. Recuerde que en esta fase el alumno debe colacionar la autorizacin de despegue, pista y restricciones, pero no el viento.')
2025-11-27 19:40:16,699 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:40:16,729 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_initial_climb score=85.00
2025-11-27 19:40:16,730 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | intent=tower_position_report | phase=tower_initial_climb | allow_response=True | text=Alfa Noviembre India, viento 100 grados 19 nudos, autorizado despegar pista uno cero. Mantenga rumbo de pista y notifique pasando cinco mil pies.
2025-11-27 19:40:51,534 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:40:51,535 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:40:51,537 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:40:51,539 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,540 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:40:51,541 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:40:51,542 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,542 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:40:51,544 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:40:51,545 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:40:51,546 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:40:51,548 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:40:51,549 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:40:51,550 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,551 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:40:51,552 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:40:51,553 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,556 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:40:51,557 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:40:51,559 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:40:51,561 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:40:51,562 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:40:51,563 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:40:51,563 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,565 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:40:51,565 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:40:51,567 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,568 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:40:51,570 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:40:51,571 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:40:51,572 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:40:51,573 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-27 19:40:51,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:51,582 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:40:51,724 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:51,725 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:51,727 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:51,894 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:51,897 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:51,899 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:40:52,038 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:52,039 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:52,189 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:52,191 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:52,192 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:52,343 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:52,346 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:52,493 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:52,498 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:52,505 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:52,691 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:52,693 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:52,696 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:52,698 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:40:52,874 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:52,880 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:52,883 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:53,050 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:53,053 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:53,056 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:53,207 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:53,209 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:53,211 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:53,362 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:53,363 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:53,366 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:53,534 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:53,537 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:53,686 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:40:53,688 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:53,690 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:40:53,692 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:40:53,839 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:53,841 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:54,002 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:40:54,003 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:40:54,028 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1118]
2025-11-27 19:40:54,030 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:40:54,031 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:40:54,214 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:40:54,216 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:40:54,217 | INFO | sqlalchemy.engine.Engine | [cached since 681.9s ago] ()
2025-11-27 19:40:54,225 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:40:54,228 | INFO | sqlalchemy.engine.Engine | [cached since 670.2s ago] (1,)
2025-11-27 19:40:55,338 | INFO | app.services.transcribe | Starting stream. Total bytes: 944128. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:40:55,451 | DEBUG | app.services.transcribe | Streamed 8192/944128 bytes
2025-11-27 19:41:00,613 | DEBUG | app.services.transcribe | Streamed 417792/944128 bytes
2025-11-27 19:41:02,848 | DEBUG | app.services.transcribe | Received transcript chunk: autorizado a despega...
2025-11-27 19:41:05,688 | DEBUG | app.services.transcribe | Streamed 827392/944128 bytes
2025-11-27 19:41:07,238 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:41:07,695 | DEBUG | app.services.transcribe | Received transcript chunk: reportar pasando 50...
2025-11-27 19:41:07,766 | INFO | app.services.transcribe | Transcription complete. Length: 104
2025-11-27 19:41:07,768 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: autorizado a despegar pista. Mantengo rumbo de pista. reportar pasando 5000 pies Alfa Noviembre India.
2025-11-27 19:41:07,770 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | text=autorizado a despegar pista. Mantengo rumbo de pista. reportar pasando 5000 pies Alfa Noviembre India.
2025-11-27 19:41:08,043 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:41:08,047 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:41:08,049 | INFO | sqlalchemy.engine.Engine | [cached since 605s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:41:08,092 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:41:09,033 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:41:09,034 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:41:09,037 | INFO | sqlalchemy.engine.Engine | [cached since 606s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:41:09,062 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:41:09,064 | INFO | sqlalchemy.engine.Engine | [cached since 604.5s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (24848 characters truncated) ... 122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "tower"}', datetime.datetime(2025, 11, 27, 19, 41, 9, 61271, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:41:09,084 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:41:09,136 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=tower_initial_climb intent=tower_takeoff_clearance freq=tower
2025-11-27 19:41:09,139 | INFO | app.services.audio_pipeline | Prompts generados intent=tower_takeoff_clearance freq_group=tower
SYSTEM> Ya en ascenso; al reportar 5000 pies instruyes cambio a COCO Aproximacin. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser ...
USER> Fase actual: Reporte pasando 5000 y transferencia a Aproximacin
Intent esperado: tower_takeoff_clearance
Transcripcin textual del alumno:
autorizado a despegar pista. Mantengo rumbo de pista. reportar pasando 5000 pies Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: tower
- Fase ID: tower_initial_climb

Checklist alumno:
- Reportar pasando 5000 pies.
- NO decir: 'Coco Aproximacin' todava (sigues con Torre).

Checklist controlador:
- Agradecer reporte....
2025-11-27 19:41:25,309 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=tower_takeoff_clearance intento=1: {
  "intent": "tower_departure_handoff",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, recibido. Contacte COCO Aproximacin 120.5. Buen da.",
  "feedback": "Reporte de altitud correcto. Aunque la fraseologa 'autorizado a despegar' pertenece a la fase anterior, se considera aceptable en este contexto por tratarse de una transicin. Proceda con transferencia a Aproximacin.",
  "confidence": 0.85,
  "score": 88,
  "metadata": {
    "nextPhase": "approach_contact",
    "m...
2025-11-27 19:41:25,310 | INFO | app.services.audio_pipeline | Intent devuelto por el LLM (tower_departure_handoff) difiere del esperado (tower_takeoff_clearance)
2025-11-27 19:41:25,312 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=tower_initial_climb a=approach_contact
2025-11-27 19:41:25,478 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:41:25,480 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:41:25,481 | INFO | sqlalchemy.engine.Engine | [cached since 622.4s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:41:25,507 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:41:25,508 | INFO | sqlalchemy.engine.Engine | [cached since 621s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (26568 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 41, 25, 506029, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:41:25,527 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:41:25,561 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:41:25,563 | INFO | sqlalchemy.engine.Engine | [cached since 606.9s ago] (UUID('0b60c168-e2e4-4646-84a3-5a2d15bda188'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'approach_contact', 88.0, "Reporte de altitud correcto. Aunque la fraseologa 'autorizado a despegar' pertenece a la fase anterior, se considera aceptable en este contexto por tratarse de una transicin. Proceda con transferencia a Aproximacin.")
2025-11-27 19:41:25,578 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:41:25,630 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_contact score=88.00
2025-11-27 19:41:25,632 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | intent=tower_departure_handoff | phase=approach_contact | allow_response=True | text=Alfa Noviembre India, recibido. Contacte COCO Aproximacin 120.5. Buen da.
2025-11-27 19:42:42,411 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,413 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:42:42,415 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:42:42,416 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,417 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:42:42,418 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:42:42,419 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,421 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:42:42,423 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:42,426 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,427 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:42:42,429 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:42:42,431 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,431 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:42:42,432 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:42:42,433 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,434 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,435 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:42:42,436 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:42,436 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,436 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:42:42,438 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:42:42,439 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,439 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:42:42,440 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:42:42,440 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,442 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:42:42,442 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 19:42:42,443 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,443 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,444 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:4380]
2025-11-27 19:42:42,447 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,453 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:42:42,455 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,455 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:42:42,457 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:42:42,458 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,459 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:42:42,462 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:42:42,464 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,466 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,469 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:42:42,470 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:42,472 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,473 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:42:42,473 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:42:42,473 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,475 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:42:42,475 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:42:42,477 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,478 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,480 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:42:42,480 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:42,482 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:42:42,483 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:42:42,483 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:42:42,485 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,485 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:42:42,487 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:42:42,488 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,489 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:42:42,490 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 19:42:42,491 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:42:42,492 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:42:42,493 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:1460]
2025-11-27 19:42:42,494 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5840]
2025-11-27 19:42:42,497 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:42,610 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:42,611 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,615 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:42,634 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:42:42,636 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:42,783 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:42,788 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,790 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:42,793 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,797 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:42,799 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:42,927 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:42,931 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,933 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:42,946 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,949 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,952 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:42,954 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,102 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,103 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,106 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,113 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,116 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,118 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,121 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:43,262 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:42:43,265 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,276 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,280 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,289 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,290 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:43,420 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,421 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,437 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:42:43,440 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,590 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:42:43,591 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,593 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:43,606 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,610 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,615 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,788 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,789 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,790 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,802 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,805 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,806 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,809 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:43,958 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,959 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,961 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:42:43,963 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:42:43,981 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:42:43,983 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:43,987 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:42:44,041 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:44,043 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:243]
2025-11-27 19:42:44,044 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:44,045 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:42:44,060 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:42:44,063 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:243]
2025-11-27 19:42:44,065 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:42:44,067 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:42:44,247 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:42:44,248 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:42:44,250 | INFO | sqlalchemy.engine.Engine | [cached since 791.9s ago] ()
2025-11-27 19:42:44,258 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:42:44,259 | INFO | sqlalchemy.engine.Engine | [cached since 780.3s ago] (1,)
2025-11-27 19:42:44,261 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:42:44,263 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:42:44,264 | INFO | sqlalchemy.engine.Engine | [cached since 791.9s ago] ()
2025-11-27 19:42:44,273 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:42:44,275 | INFO | sqlalchemy.engine.Engine | [cached since 780.3s ago] (1,)
2025-11-27 19:42:45,255 | INFO | app.services.transcribe | Starting stream. Total bytes: 598016. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:42:45,355 | DEBUG | app.services.transcribe | Streamed 8192/598016 bytes
2025-11-27 19:42:50,404 | DEBUG | app.services.transcribe | Streamed 417792/598016 bytes
2025-11-27 19:42:52,709 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:42:53,143 | DEBUG | app.services.transcribe | Received transcript chunk: 120.5. Gracias. Alfa...
2025-11-27 19:42:53,191 | INFO | app.services.transcribe | Transcription complete. Length: 38
2025-11-27 19:42:53,192 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: 120.5. Gracias. Alfa Noviembre India.
2025-11-27 19:42:53,193 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | text=120.5. Gracias. Alfa Noviembre India.
2025-11-27 19:42:53,357 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:42:53,361 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:42:53,362 | INFO | sqlalchemy.engine.Engine | [cached since 710.3s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:42:53,390 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:42:54,548 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:42:54,551 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:42:54,553 | INFO | sqlalchemy.engine.Engine | [cached since 711.5s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:42:54,582 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:42:54,583 | INFO | sqlalchemy.engine.Engine | [cached since 710s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (27013 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 42, 54, 581587, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:42:54,604 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:42:54,642 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_contact intent=approach_readback freq=approach
2025-11-27 19:42:54,643 | INFO | app.controllers.audio | Frecuencia fuera de rango intent=approach_readback freq=118.300 esperado=120.500
2025-11-27 19:42:54,813 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:42:54,814 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:42:54,817 | INFO | sqlalchemy.engine.Engine | [cached since 711.7s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:42:54,844 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:42:54,845 | INFO | sqlalchemy.engine.Engine | [cached since 710.3s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (27575 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 42, 54, 844378, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:42:54,866 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:42:54,893 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:42:54,895 | INFO | sqlalchemy.engine.Engine | [cached since 696.2s ago] (UUID('c5bb80f9-ec09-40ba-9aa8-95bb084fb92f'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'frequency_usage_error', 0.0, 'La frecuencia esperada para esta solicitud es 120.500.')
2025-11-27 19:42:54,916 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:42:54,950 | INFO | app.controllers.audio | Error de frecuencia registrado session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_contact
2025-11-27 19:42:54,951 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=118.300 | intent=approach_readback | phase=approach_contact | allow_response=False | text=La frecuencia esperada para esta solicitud es 120.500.
2025-11-27 19:43:42,173 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:43:42,174 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:43:42,175 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:43:42,175 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,177 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:43:42,179 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:43:42,180 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,181 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:43:42,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:43:42,183 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:43:42,185 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:43:42,186 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:43:42,187 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:43:42,188 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,189 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:43:42,190 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:43:42,191 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,192 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:43:42,193 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:43:42,196 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:43:42,198 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:43:42,200 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:43:42,201 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:43:42,202 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,202 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:43:42,203 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:43:42,204 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,206 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:43:42,206 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:43:42,207 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:43:42,207 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:43:42,208 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-27 19:43:42,210 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,212 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:43:42,347 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:42,349 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,350 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:42,503 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:42,505 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,508 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:42,628 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:43:42,629 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:42,735 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,739 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:42,741 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:42,845 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,846 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:42,849 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:42,955 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:42,956 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,959 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:42,960 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:43:43,067 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,071 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:43,072 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:43,180 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,181 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,183 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:43:43,306 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,308 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:43,310 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:43,420 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,423 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:43,426 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:43,542 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:43,545 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,548 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:43,660 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,662 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:43:43,664 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:43:43,782 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:43,783 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:43,785 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:43,913 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:43:43,915 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:44,031 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:43:44,033 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:43:44,036 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:43:44,050 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:852]
2025-11-27 19:43:44,051 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:43:44,052 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:43:44,185 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:43:44,187 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:43:44,189 | INFO | sqlalchemy.engine.Engine | [cached since 851.9s ago] ()
2025-11-27 19:43:44,199 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:43:44,202 | INFO | sqlalchemy.engine.Engine | [cached since 840.2s ago] (1,)
2025-11-27 19:43:45,177 | INFO | app.services.transcribe | Starting stream. Total bytes: 942080. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:43:45,261 | DEBUG | app.services.transcribe | Streamed 8192/942080 bytes
2025-11-27 19:43:50,350 | DEBUG | app.services.transcribe | Streamed 417792/942080 bytes
2025-11-27 19:43:55,675 | DEBUG | app.services.transcribe | Streamed 827392/942080 bytes
2025-11-27 19:43:56,985 | DEBUG | app.services.transcribe | Received transcript chunk: aproximacin Alfa No...
2025-11-27 19:43:57,147 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:43:57,415 | INFO | app.services.transcribe | Transcription complete. Length: 89
2025-11-27 19:43:57,416 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: aproximacin Alfa Noviembre India pasando 5000 pies ascendiendo a 7000 rumbo a zona Eco.
2025-11-27 19:43:57,418 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | text=aproximacin Alfa Noviembre India pasando 5000 pies ascendiendo a 7000 rumbo a zona Eco.
2025-11-27 19:43:57,781 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:43:57,783 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:43:57,785 | INFO | sqlalchemy.engine.Engine | [cached since 774.7s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:43:57,814 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:43:58,845 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:43:58,848 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:43:58,850 | INFO | sqlalchemy.engine.Engine | [cached since 775.8s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:43:58,871 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:43:58,872 | INFO | sqlalchemy.engine.Engine | [cached since 774.3s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (28084 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 43, 58, 871271, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:43:58,901 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:43:58,951 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_contact intent=approach_altitude_report freq=approach
2025-11-27 19:43:58,955 | INFO | app.services.audio_pipeline | Prompts generados intent=approach_altitude_report freq_group=approach
SYSTEM> Eres COCO Aproximacin (120.5). Responde: '[Matrcula], Coco Aproximacin, contacto radar. Contine ascenso nivel siete mil pies. QNH 1015. Reporte ingresando Zona ECO.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence...
USER> Fase actual: Contacto inicial con COCO Aproximacin
Intent esperado: approach_altitude_report
Transcripcin textual del alumno:
aproximacin Alfa Noviembre India pasando 5000 pies ascendiendo a 7000 rumbo a zona Eco.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: approach
- Fase ID: approach_contact

Checklist alumno:
- Saludo inicial a COCO Aproximacin.
- Reportar altitud actual.
- Reportar altitud asignada/ascenso.
- Reportar rumbo o destino.

Checklist controlador:
- Decir...
2025-11-27 19:44:10,179 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=approach_altitude_report intento=1: {
  "intent": "approach_altitude_report",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Coco Aproximacin, contacto radar. Contine ascenso nivel siete mil pies. QNH 1015. Reporte ingresando Zona ECO.",
  "feedback": "Reporte de altitud y rumbo correctos. Se incluye QNH y transferencia a Zona ECO segn protocolo. La fraseologa cumple con estndares ATC.",
  "confidence": 0.92,
  "score": 95,
  "metadata": {
    "nextPhase": "approach_readback",
    "missingElements": []...
2025-11-27 19:44:10,181 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=approach_contact a=approach_readback
2025-11-27 19:44:10,326 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:44:10,329 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:44:10,331 | INFO | sqlalchemy.engine.Engine | [cached since 787.2s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:44:10,350 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:44:10,351 | INFO | sqlalchemy.engine.Engine | [cached since 785.8s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (29743 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 44, 10, 349391, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:44:10,370 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:44:10,409 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:44:10,411 | INFO | sqlalchemy.engine.Engine | [cached since 771.7s ago] (UUID('cb0a4cce-f453-4cf6-9662-b779e7603a58'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'approach_readback', 95.0, 'Reporte de altitud y rumbo correctos. Se incluye QNH y transferencia a Zona ECO segn protocolo. La fraseologa cumple con estndares ATC.')
2025-11-27 19:44:10,419 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:44:10,445 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_readback score=95.00
2025-11-27 19:44:10,446 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | intent=approach_altitude_report | phase=approach_readback | allow_response=True | text=Alfa Noviembre India, Coco Aproximacin, contacto radar. Contine ascenso nivel siete mil pies. QNH 1015. Reporte ingresando Zona ECO.
2025-11-27 19:45:26,851 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:45:26,852 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:45:26,853 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:45:26,853 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,855 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:45:26,856 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:45:26,856 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,857 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:45:26,858 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:45:26,859 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:45:26,859 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:45:26,860 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:45:26,861 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:45:26,861 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,863 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:45:26,864 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:45:26,865 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,866 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:45:26,868 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:45:26,868 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:45:26,870 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:45:26,871 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:45:26,873 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:45:26,874 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,875 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:45:26,875 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:45:26,876 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,878 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:45:26,879 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:45:26,880 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:45:26,880 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:45:26,882 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:2920]
2025-11-27 19:45:26,886 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:26,889 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:45:27,035 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:45:27,038 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:27,039 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:45:27,198 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:27,201 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:27,203 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:27,429 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:27,434 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:27,439 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:27,660 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:27,664 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:27,667 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:27,884 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:27,888 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:27,890 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:28,122 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,126 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,130 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:45:28,414 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,418 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:28,421 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:28,425 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:45:28,597 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,599 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:28,602 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:28,767 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,770 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:28,775 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:28,965 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:28,970 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:28,975 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:29,151 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:29,155 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,158 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:29,373 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:29,376 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,378 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:29,570 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:29,572 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,574 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:29,575 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:45:29,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,758 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,761 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:45:29,955 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:45:29,956 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:29,959 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 19:45:30,167 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:45:30,169 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:45:30,172 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:30,377 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:45:30,379 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:30,547 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:45:30,549 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:45:30,561 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:472]
2025-11-27 19:45:30,563 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:45:30,565 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:45:30,731 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:45:30,734 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:45:30,735 | INFO | sqlalchemy.engine.Engine | [cached since 958.4s ago] ()
2025-11-27 19:45:30,745 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:45:30,747 | INFO | sqlalchemy.engine.Engine | [cached since 946.8s ago] (1,)
2025-11-27 19:45:31,796 | INFO | app.services.transcribe | Starting stream. Total bytes: 1120256. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:45:31,890 | DEBUG | app.services.transcribe | Streamed 8192/1120256 bytes
2025-11-27 19:45:36,402 | DEBUG | app.services.transcribe | Received transcript chunk: QNH 1015....
2025-11-27 19:45:37,014 | DEBUG | app.services.transcribe | Streamed 417792/1120256 bytes
2025-11-27 19:45:42,308 | DEBUG | app.services.transcribe | Streamed 827392/1120256 bytes
2025-11-27 19:45:46,062 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:45:46,173 | DEBUG | app.services.transcribe | Received transcript chunk: continuamos ascenso ...
2025-11-27 19:45:46,378 | INFO | app.services.transcribe | Transcription complete. Length: 97
2025-11-27 19:45:46,379 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: QNH 1015. continuamos ascenso a 7000 pies. reportaremos ingreso a zona Eco Alfa Noviembre India.
2025-11-27 19:45:46,379 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | text=QNH 1015. continuamos ascenso a 7000 pies. reportaremos ingreso a zona Eco Alfa Noviembre India.
2025-11-27 19:45:46,519 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:45:46,521 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:45:46,523 | INFO | sqlalchemy.engine.Engine | [cached since 883.4s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:45:46,540 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:45:50,137 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:45:50,138 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:45:50,138 | INFO | sqlalchemy.engine.Engine | [cached since 887.1s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:45:50,164 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:45:50,166 | INFO | sqlalchemy.engine.Engine | [cached since 885.6s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (30248 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 45, 50, 164060, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:45:50,189 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:45:50,237 | INFO | app.controllers.audio | Intent detector frequency mismatch session=02346425-9b77-4b0d-b040-048e61ffba68 detected=radar scenario=approach
2025-11-27 19:45:50,239 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_readback intent=radar_altitude_report freq=approach
2025-11-27 19:45:50,243 | INFO | app.services.audio_pipeline | Prompts generados intent=radar_altitude_report freq_group=approach
SYSTEM> Validas la colacin del alumno tras las instrucciones radar. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe ser un nmero de 0...
USER> Fase actual: Readback de COCO Aproximacin
Intent esperado: radar_altitude_report
Transcripcin textual del alumno:
QNH 1015. continuamos ascenso a 7000 pies. reportaremos ingreso a zona Eco Alfa Noviembre India.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: approach
- Fase ID: approach_readback

Checklist alumno:
- Colacionar QNH.
- Colacionar nueva altitud asignada.
- Colacionar reportes solicitados.
- NO colacionar viento ni informacin general.

Checklist controlador:
- D...
2025-11-27 19:46:00,056 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=radar_altitude_report intento=1: {
  "intent": "radar_altitude_report",
  "allowResponse": true,
  "controllerText": "Colacin correcta. Alfa Noviembre India, recibido.",
  "feedback": "La colacin incluye QNH, altitud asignada y reporte de ingreso a Zona ECO. Aunque se repite la matrcula al final, esto no afecta la seguridad y cumple con los requisitos de la fase.",
  "confidence": 0.92,
  "score": 95,
  "metadata": {
    "nextPhase": "approach_zone_entry",
    "missingElements": [],
    "extraElements": ["repeticin de ma...
2025-11-27 19:46:00,058 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=approach_readback a=approach_zone_entry
2025-11-27 19:46:00,233 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:46:00,235 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:46:00,237 | INFO | sqlalchemy.engine.Engine | [cached since 897.2s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:46:00,257 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:46:00,258 | INFO | sqlalchemy.engine.Engine | [cached since 895.7s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (31977 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 46, 0, 257814, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:46:00,279 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:46:00,318 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:46:00,319 | INFO | sqlalchemy.engine.Engine | [cached since 881.6s ago] (UUID('e73ff03e-7cb2-4761-af2f-6aa131d42254'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'approach_zone_entry', 95.0, 'La colacin incluye QNH, altitud asignada y reporte de ingreso a Zona ECO. Aunque se repite la matrcula al final, esto no afecta la seguridad y cumple con los requisitos de la fase.')
2025-11-27 19:46:00,328 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:46:00,361 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_zone_entry score=95.00
2025-11-27 19:46:00,363 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | intent=radar_altitude_report | phase=approach_zone_entry | allow_response=True | text=Colacin correcta. Alfa Noviembre India, recibido.
2025-11-27 19:46:24,455 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:46:24,457 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 19:46:24,457 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 19:46:24,457 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,460 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 19:46:24,461 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 19:46:24,462 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,465 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:46:24,466 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 19:46:24,467 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:46:24,468 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:46:24,470 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 19:46:24,471 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 19:46:24,472 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,472 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 19:46:24,473 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 19:46:24,476 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,478 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:46:24,479 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 19:46:24,480 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:46:24,481 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 19:46:24,485 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 19:46:24,487 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 19:46:24,488 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,490 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 19:46:24,491 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 19:46:24,492 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,492 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 19:46:24,495 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 19:46:24,496 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 19:46:24,498 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 19:46:24,500 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:1460]
2025-11-27 19:46:24,502 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-27 19:46:24,622 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:24,625 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:24,627 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:24,802 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:24,805 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:24,807 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:46:24,981 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:24,985 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:46:24,988 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:24,990 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:46:25,171 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,175 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:25,178 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:25,333 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:46:25,335 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,337 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:891]
2025-11-27 19:46:25,482 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1]
2025-11-27 19:46:25,483 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:25,487 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,490 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:25,643 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,646 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:25,648 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:25,795 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,798 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:25,801 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:25,803 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 19:46:25,977 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 19:46:25,980 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:26,136 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,140 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,143 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 19:46:26,303 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,304 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:26,306 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:26,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,468 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:26,471 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:26,629 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,632 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:26,635 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:26,769 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 19:46:26,774 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 19:46:26,778 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 19:46:26,787 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:379]
2025-11-27 19:46:26,787 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 19:46:26,788 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 19:46:26,992 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:46:26,994 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:46:26,995 | INFO | sqlalchemy.engine.Engine | [cached since 1015s ago] ()
2025-11-27 19:46:27,008 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:46:27,012 | INFO | sqlalchemy.engine.Engine | [cached since 1003s ago] (1,)
2025-11-27 19:46:27,669 | INFO | app.services.transcribe | Starting stream. Total bytes: 878592. Chunk size: 8192. Sleep: 0.0929s
2025-11-27 19:46:27,777 | DEBUG | app.services.transcribe | Streamed 8192/878592 bytes
2025-11-27 19:46:32,915 | DEBUG | app.services.transcribe | Streamed 417792/878592 bytes
2025-11-27 19:46:36,374 | DEBUG | app.services.transcribe | Received transcript chunk: coco aproximacin Al...
2025-11-27 19:46:38,028 | DEBUG | app.services.transcribe | Streamed 827392/878592 bytes
2025-11-27 19:46:38,778 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 19:46:38,785 | DEBUG | app.services.transcribe | Received transcript chunk: nivel 7000 pies....
2025-11-27 19:46:38,927 | INFO | app.services.transcribe | Transcription complete. Length: 77
2025-11-27 19:46:38,928 | INFO | app.controllers.audio | Transcripcin recibida session=02346425-9b77-4b0d-b040-048e61ffba68: coco aproximacin Alfa Noviembre India ingresando Zona Eco. nivel 7000 pies.
2025-11-27 19:46:38,930 | INFO | app.logs.transcript | student | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | text=coco aproximacin Alfa Noviembre India ingresando Zona Eco. nivel 7000 pies.
2025-11-27 19:46:39,127 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:46:39,132 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:46:39,135 | INFO | sqlalchemy.engine.Engine | [cached since 936s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:46:39,170 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:46:40,355 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:46:40,356 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:46:40,357 | INFO | sqlalchemy.engine.Engine | [cached since 937.3s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:46:40,408 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:46:40,410 | INFO | sqlalchemy.engine.Engine | [cached since 935.9s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (32474 characters truncated) ... .0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": false, "default_frequency_group": "approach"}', datetime.datetime(2025, 11, 27, 19, 46, 40, 407961, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:46:40,447 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:46:40,487 | INFO | app.controllers.audio | Fase activa session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=approach_zone_entry intent=approach_position_report freq=approach
2025-11-27 19:46:40,494 | INFO | app.services.audio_pipeline | Prompts generados intent=approach_position_report freq_group=approach
SYSTEM> El alumno reporta 7000 pies ingresando Zona ECO. Responde: '[Matrcula], recibido. Contacte Coco Radio uno dos seis punto ocho.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | nul...
USER> Fase actual: Reporte ingresando Zona ECO
Intent esperado: approach_position_report
Transcripcin textual del alumno:
coco aproximacin Alfa Noviembre India ingresando Zona Eco. nivel 7000 pies.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: approach
- Fase ID: approach_zone_entry

Checklist alumno:
- Confirmar altitud y entrada a la zona.

Checklist controlador:
- Acusar recibo.
- Asignar contacto con COCO Radio 126.8.

Cundo responder:
- Responde siempre con handoff claro.

...
2025-11-27 19:46:53,166 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=approach_position_report intento=1: {
  "intent": "approach_position_report",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, recibido. Contacte Coco Radio uno dos seis punto ocho.",
  "feedback": "El reporte de posicin incluye correctamente la altitud y entrada a Zona ECO. La fraseologa cumple con los estndares requeridos. Se procede con transferencia a COCO Radio segn protocolo.",
  "confidence": 0.98,
  "score": 95,
  "metadata": {
    "nextPhase": "radio_check_in",
    "elementsPresent": [
      "alt...
2025-11-27 19:46:53,167 | INFO | app.controllers.audio | Transicin automtica de fase session=02346425-9b77-4b0d-b040-048e61ffba68 de=approach_zone_entry a=radio_check_in
2025-11-27 19:46:53,369 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:46:53,370 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 19:46:53,372 | INFO | sqlalchemy.engine.Engine | [cached since 950.3s ago] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'),)
2025-11-27 19:46:53,393 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 19:46:53,393 | INFO | sqlalchemy.engine.Engine | [cached since 948.9s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/19", "cloudBase": "2000", "condition": "VMC", "windSpeed": "19", " ... (33902 characters truncated) ... "122.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0552", "session_completed": true, "default_frequency_group": "radio"}', datetime.datetime(2025, 11, 27, 19, 46, 53, 392412, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('b9822e45-c4c5-4400-b2f3-300b39028225'))
2025-11-27 19:46:53,411 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:46:53,449 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 19:46:53,451 | INFO | sqlalchemy.engine.Engine | [cached since 934.7s ago] (UUID('2bb0a45b-207b-4718-82fc-463a6f142c3b'), UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1, 'radio_check_in', 95.0, 'El reporte de posicin incluye correctamente la altitud y entrada a Zona ECO. La fraseologa cumple con los estndares requeridos. Se procede con transferencia a COCO Radio segn protocolo.')
2025-11-27 19:46:53,470 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 19:46:53,500 | INFO | app.controllers.audio | Puntuacin guardada session=02346425-9b77-4b0d-b040-048e61ffba68 phase_id=radio_check_in score=95.00
2025-11-27 19:46:53,501 | INFO | app.logs.transcript | controller | session=02346425-9b77-4b0d-b040-048e61ffba68 | frequency=120.500 | intent=approach_position_report | phase=radio_check_in | allow_response=True | text=Alfa Noviembre India, recibido. Contacte Coco Radio uno dos seis punto ocho.
2025-11-27 19:47:09,043 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:47:09,048 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:47:09,051 | INFO | sqlalchemy.engine.Engine | [cached since 1057s ago] ()
2025-11-27 19:47:09,062 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:47:09,064 | INFO | sqlalchemy.engine.Engine | [cached since 1045s ago] (1,)
2025-11-27 19:47:09,090 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:47:09,091 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:47:09,093 | INFO | sqlalchemy.engine.Engine | [cached since 1057s ago] ()
2025-11-27 19:47:09,107 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:47:09,109 | INFO | sqlalchemy.engine.Engine | [cached since 1045s ago] (1,)
2025-11-27 19:47:09,144 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:47:09,146 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:47:09,147 | INFO | sqlalchemy.engine.Engine | [cached since 1057s ago] ()
2025-11-27 19:47:09,157 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:47:09,159 | INFO | sqlalchemy.engine.Engine | [cached since 1045s ago] (1,)
2025-11-27 19:47:09,177 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:47:09,181 | INFO | sqlalchemy.engine.Engine | [cached since 1044s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:47:09,223 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:47:09,228 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:47:09,233 | INFO | sqlalchemy.engine.Engine | [cached since 1044s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:47:09,253 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:47:09,288 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:47:09,290 | INFO | sqlalchemy.engine.Engine | [cached since 1044s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:47:09,321 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:47:14,814 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:47:14,815 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:47:14,816 | INFO | sqlalchemy.engine.Engine | [cached since 1062s ago] ()
2025-11-27 19:47:14,824 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:47:14,825 | INFO | sqlalchemy.engine.Engine | [cached since 1051s ago] (1,)
2025-11-27 19:47:14,910 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.training_session_id = $1::UUID AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at
2025-11-27 19:47:14,912 | INFO | sqlalchemy.engine.Engine | [generated in 0.00141s] (UUID('02346425-9b77-4b0d-b040-048e61ffba68'), 1)
2025-11-27 19:47:22,313 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:48:28,605 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:48:28,607 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:48:28,609 | INFO | sqlalchemy.engine.Engine | [cached since 1136s ago] ()
2025-11-27 19:48:28,620 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:48:28,621 | INFO | sqlalchemy.engine.Engine | [cached since 1125s ago] (1,)
2025-11-27 19:48:28,641 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 19:48:28,643 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 19:48:28,645 | INFO | sqlalchemy.engine.Engine | [cached since 1136s ago] ()
2025-11-27 19:48:28,659 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 19:48:28,662 | INFO | sqlalchemy.engine.Engine | [cached since 1125s ago] (1,)
2025-11-27 19:48:28,738 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 19:48:28,740 | INFO | sqlalchemy.engine.Engine | [cached since 1123s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 19:48:28,760 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 19:48:28,769 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 19:48:28,771 | INFO | sqlalchemy.engine.Engine | [cached since 1123s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 19:48:28,816 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:07:37,612 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:07:37,614 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:07:37,615 | INFO | sqlalchemy.engine.Engine | [cached since 2285s ago] ()
2025-11-27 20:07:37,621 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:07:37,623 | INFO | sqlalchemy.engine.Engine | [cached since 2276s ago] ('josuelu2@gmail.com',)
2025-11-27 20:07:37,785 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:07:41,348 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:07:41,348 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:07:41,350 | INFO | sqlalchemy.engine.Engine | [cached since 2289s ago] ()
2025-11-27 20:07:41,355 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:07:41,356 | INFO | sqlalchemy.engine.Engine | [cached since 2277s ago] (1,)
2025-11-27 20:07:41,441 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:07:48,126 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:07:48,127 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:07:48,128 | INFO | sqlalchemy.engine.Engine | [cached since 2296s ago] ()
2025-11-27 20:07:48,141 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:07:48,144 | INFO | sqlalchemy.engine.Engine | [cached since 2284s ago] (1,)
2025-11-27 20:07:48,167 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:07:48,167 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:07:48,168 | INFO | sqlalchemy.engine.Engine | [cached since 2296s ago] ()
2025-11-27 20:07:48,178 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:07:48,180 | INFO | sqlalchemy.engine.Engine | [cached since 2284s ago] (1,)
2025-11-27 20:07:48,252 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:07:48,253 | INFO | sqlalchemy.engine.Engine | [cached since 2283s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:07:48,279 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:07:48,281 | INFO | sqlalchemy.engine.Engine | [cached since 2283s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 20:07:48,283 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:07:48,301 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:18,435 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:18,435 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:18,435 | INFO | sqlalchemy.engine.Engine | [cached since 2386s ago] ()
2025-11-27 20:09:18,441 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:40,492 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:40,494 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:40,495 | INFO | sqlalchemy.engine.Engine | [cached since 2408s ago] ()
2025-11-27 20:09:40,507 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:09:40,508 | INFO | sqlalchemy.engine.Engine | [cached since 2399s ago] ('josuelu3@gmail.com',)
2025-11-27 20:09:40,702 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:41,093 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:41,095 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:41,096 | INFO | sqlalchemy.engine.Engine | [cached since 2409s ago] ()
2025-11-27 20:09:41,105 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:09:41,108 | INFO | sqlalchemy.engine.Engine | [cached since 2397s ago] (2,)
2025-11-27 20:09:41,192 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:41,420 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:41,421 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:41,423 | INFO | sqlalchemy.engine.Engine | [cached since 2409s ago] ()
2025-11-27 20:09:41,435 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:09:41,437 | INFO | sqlalchemy.engine.Engine | [cached since 2397s ago] (2,)
2025-11-27 20:09:41,453 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:41,456 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:41,466 | INFO | sqlalchemy.engine.Engine | [cached since 2409s ago] ()
2025-11-27 20:09:41,478 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:09:41,479 | INFO | sqlalchemy.engine.Engine | [cached since 2397s ago] (2,)
2025-11-27 20:09:41,542 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools 
WHERE ecowhiskey.schools.id = $1::INTEGER
2025-11-27 20:09:41,543 | INFO | sqlalchemy.engine.Engine | [generated in 0.00195s] (1,)
2025-11-27 20:09:41,554 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.school_id = $1::INTEGER AND ecowhiskey.users.account_type = $2::account_type ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:09:41,556 | INFO | sqlalchemy.engine.Engine | [generated in 0.00204s] (1, 'STUDENT')
2025-11-27 20:09:41,586 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER ORDER BY ecowhiskey.groups.name
2025-11-27 20:09:41,590 | INFO | sqlalchemy.engine.Engine | [generated in 0.00322s] (2,)
2025-11-27 20:09:41,608 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:41,707 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id IN ($2::INTEGER, $3::INTEGER) AND ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:09:41,709 | INFO | sqlalchemy.engine.Engine | [generated in 0.00195s] (2, 1, 3)
2025-11-27 20:09:41,832 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:42,041 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:42,042 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:42,042 | INFO | sqlalchemy.engine.Engine | [cached since 2410s ago] ()
2025-11-27 20:09:42,053 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:09:42,054 | INFO | sqlalchemy.engine.Engine | [cached since 2398s ago] (2,)
2025-11-27 20:09:42,076 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:09:42,077 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:09:42,078 | INFO | sqlalchemy.engine.Engine | [cached since 2410s ago] ()
2025-11-27 20:09:42,083 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:09:42,085 | INFO | sqlalchemy.engine.Engine | [cached since 2398s ago] (2,)
2025-11-27 20:09:42,128 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:09:42,129 | INFO | sqlalchemy.engine.Engine | [generated in 0.00084s] (3,)
2025-11-27 20:09:42,148 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:09:42,149 | INFO | sqlalchemy.engine.Engine | [generated in 0.00150s] (3, 2)
2025-11-27 20:09:42,153 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:09:42,153 | INFO | sqlalchemy.engine.Engine | [cached since 0.02628s ago] (1,)
2025-11-27 20:09:42,163 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:09:42,163 | INFO | sqlalchemy.engine.Engine | [cached since 0.01737s ago] (1, 2)
2025-11-27 20:09:42,182 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:09:42,183 | INFO | sqlalchemy.engine.Engine | [generated in 0.00115s] (3,)
2025-11-27 20:09:42,190 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:09:42,192 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:09:42,193 | INFO | sqlalchemy.engine.Engine | [cached since 0.01155s ago] (1,)
2025-11-27 20:09:42,199 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:02,898 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:02,899 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:02,901 | INFO | sqlalchemy.engine.Engine | [cached since 2431s ago] ()
2025-11-27 20:10:02,913 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:02,916 | INFO | sqlalchemy.engine.Engine | [cached since 2419s ago] (2,)
2025-11-27 20:10:02,928 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:02,930 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:02,933 | INFO | sqlalchemy.engine.Engine | [cached since 2431s ago] ()
2025-11-27 20:10:02,947 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:02,950 | INFO | sqlalchemy.engine.Engine | [cached since 2419s ago] (2,)
2025-11-27 20:10:03,056 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:10:03,057 | INFO | sqlalchemy.engine.Engine | [cached since 20.93s ago] (1,)
2025-11-27 20:10:03,074 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:10:03,077 | INFO | sqlalchemy.engine.Engine | [cached since 20.95s ago] (1,)
2025-11-27 20:10:03,083 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:10:03,086 | INFO | sqlalchemy.engine.Engine | [cached since 20.94s ago] (1, 2)
2025-11-27 20:10:03,111 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:10:03,114 | INFO | sqlalchemy.engine.Engine | [cached since 20.97s ago] (1, 2)
2025-11-27 20:10:03,152 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:03,158 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:10:03,161 | INFO | sqlalchemy.engine.Engine | [cached since 20.98s ago] (1,)
2025-11-27 20:10:03,173 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:07,903 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:07,905 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:07,906 | INFO | sqlalchemy.engine.Engine | [cached since 2436s ago] ()
2025-11-27 20:10:07,916 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:07,919 | INFO | sqlalchemy.engine.Engine | [cached since 2424s ago] (2,)
2025-11-27 20:10:07,955 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:07,955 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:07,957 | INFO | sqlalchemy.engine.Engine | [cached since 2436s ago] ()
2025-11-27 20:10:07,963 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:07,965 | INFO | sqlalchemy.engine.Engine | [cached since 2424s ago] (2,)
2025-11-27 20:10:08,008 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:10:08,009 | INFO | sqlalchemy.engine.Engine | [cached since 2423s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:10:08,027 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:08,050 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:20,319 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:20,321 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:20,321 | INFO | sqlalchemy.engine.Engine | [cached since 2448s ago] ()
2025-11-27 20:10:20,331 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:20,334 | INFO | sqlalchemy.engine.Engine | [cached since 2436s ago] (2,)
2025-11-27 20:10:20,418 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:10:20,419 | INFO | sqlalchemy.engine.Engine | [cached since 2435s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:10:20,433 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:20,599 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:20,600 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:20,601 | INFO | sqlalchemy.engine.Engine | [cached since 2448s ago] ()
2025-11-27 20:10:20,613 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:20,616 | INFO | sqlalchemy.engine.Engine | [cached since 2437s ago] (2,)
2025-11-27 20:10:20,803 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:10:20,805 | INFO | sqlalchemy.engine.Engine | [cached since 2435s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:10:20,845 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:44,118 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:44,120 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:44,121 | INFO | sqlalchemy.engine.Engine | [cached since 2472s ago] ()
2025-11-27 20:10:44,128 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:44,129 | INFO | sqlalchemy.engine.Engine | [cached since 2460s ago] (2,)
2025-11-27 20:10:44,147 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:44,148 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:44,149 | INFO | sqlalchemy.engine.Engine | [cached since 2472s ago] ()
2025-11-27 20:10:44,155 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:44,156 | INFO | sqlalchemy.engine.Engine | [cached since 2460s ago] (2,)
2025-11-27 20:10:44,179 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:10:44,181 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:10:44,182 | INFO | sqlalchemy.engine.Engine | [cached since 2472s ago] ()
2025-11-27 20:10:44,188 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:10:44,189 | INFO | sqlalchemy.engine.Engine | [cached since 2460s ago] (2,)
2025-11-27 20:10:44,198 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:10:44,199 | INFO | sqlalchemy.engine.Engine | [cached since 2459s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:10:44,217 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:44,222 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:10:44,223 | INFO | sqlalchemy.engine.Engine | [cached since 2459s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:10:44,237 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:10:44,257 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:10:44,258 | INFO | sqlalchemy.engine.Engine | [cached since 2459s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:10:44,279 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:11:56,078 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:11:56,080 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:11:56,081 | INFO | sqlalchemy.engine.Engine | [cached since 2544s ago] ()
2025-11-27 20:11:56,087 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:11:56,088 | INFO | sqlalchemy.engine.Engine | [cached since 2532s ago] (2,)
2025-11-27 20:11:56,103 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:11:56,104 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:11:56,105 | INFO | sqlalchemy.engine.Engine | [cached since 2544s ago] ()
2025-11-27 20:11:56,112 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:11:56,113 | INFO | sqlalchemy.engine.Engine | [cached since 2532s ago] (2,)
2025-11-27 20:11:56,136 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:11:56,137 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:11:56,138 | INFO | sqlalchemy.engine.Engine | [cached since 2544s ago] ()
2025-11-27 20:11:56,147 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:11:56,148 | INFO | sqlalchemy.engine.Engine | [cached since 2532s ago] (2,)
2025-11-27 20:11:56,161 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:11:56,164 | INFO | sqlalchemy.engine.Engine | [cached since 2531s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:11:56,183 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:11:56,186 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:11:56,187 | INFO | sqlalchemy.engine.Engine | [cached since 2531s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:11:56,202 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:11:56,223 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:11:56,223 | INFO | sqlalchemy.engine.Engine | [cached since 2531s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:11:56,241 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:39,729 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:39,730 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:39,731 | INFO | sqlalchemy.engine.Engine | [cached since 2587s ago] ()
2025-11-27 20:12:39,739 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:12:39,740 | INFO | sqlalchemy.engine.Engine | [cached since 2578s ago] ('josuelu3@gmail.com',)
2025-11-27 20:12:39,891 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:40,470 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:40,471 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:40,471 | INFO | sqlalchemy.engine.Engine | [cached since 2588s ago] ()
2025-11-27 20:12:40,478 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:12:40,478 | INFO | sqlalchemy.engine.Engine | [cached since 2576s ago] (2,)
2025-11-27 20:12:40,555 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:41,036 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:41,038 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:41,038 | INFO | sqlalchemy.engine.Engine | [cached since 2589s ago] ()
2025-11-27 20:12:41,048 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:12:41,049 | INFO | sqlalchemy.engine.Engine | [cached since 2577s ago] (2,)
2025-11-27 20:12:41,102 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:41,103 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:41,105 | INFO | sqlalchemy.engine.Engine | [cached since 2589s ago] ()
2025-11-27 20:12:41,113 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:12:41,116 | INFO | sqlalchemy.engine.Engine | [cached since 2577s ago] (2,)
2025-11-27 20:12:41,141 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools 
WHERE ecowhiskey.schools.id = $1::INTEGER
2025-11-27 20:12:41,144 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (1,)
2025-11-27 20:12:41,151 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.school_id = $1::INTEGER AND ecowhiskey.users.account_type = $2::account_type ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:12:41,152 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (1, 'STUDENT')
2025-11-27 20:12:41,169 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:41,219 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER ORDER BY ecowhiskey.groups.name
2025-11-27 20:12:41,221 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (2,)
2025-11-27 20:12:41,243 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id IN ($2::INTEGER, $3::INTEGER) AND ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:12:41,245 | INFO | sqlalchemy.engine.Engine | [cached since 179.5s ago] (2, 1, 3)
2025-11-27 20:12:41,288 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:41,652 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:41,653 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:41,654 | INFO | sqlalchemy.engine.Engine | [cached since 2589s ago] ()
2025-11-27 20:12:41,661 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:12:41,663 | INFO | sqlalchemy.engine.Engine | [cached since 2578s ago] (2,)
2025-11-27 20:12:41,681 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:12:41,683 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:12:41,684 | INFO | sqlalchemy.engine.Engine | [cached since 2589s ago] ()
2025-11-27 20:12:41,691 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:12:41,691 | INFO | sqlalchemy.engine.Engine | [cached since 2578s ago] (2,)
2025-11-27 20:12:41,735 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:12:41,736 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (3,)
2025-11-27 20:12:41,750 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:12:41,752 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (3, 2)
2025-11-27 20:12:41,764 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:12:41,765 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (1,)
2025-11-27 20:12:41,779 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:12:41,780 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (1, 2)
2025-11-27 20:12:41,785 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:12:41,787 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (3,)
2025-11-27 20:12:41,795 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:12:41,810 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:12:41,811 | INFO | sqlalchemy.engine.Engine | [cached since 179.6s ago] (1,)
2025-11-27 20:12:41,819 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:13:47,125 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:13:47,126 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:13:47,128 | INFO | sqlalchemy.engine.Engine | [cached since 2655s ago] ()
2025-11-27 20:13:47,146 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:13:47,148 | INFO | sqlalchemy.engine.Engine | [cached since 2643s ago] (2,)
2025-11-27 20:13:47,178 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:13:47,180 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:13:47,181 | INFO | sqlalchemy.engine.Engine | [cached since 2655s ago] ()
2025-11-27 20:13:47,195 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:13:47,196 | INFO | sqlalchemy.engine.Engine | [cached since 2643s ago] (2,)
2025-11-27 20:13:47,257 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:13:47,258 | INFO | sqlalchemy.engine.Engine | [cached since 245.1s ago] (1,)
2025-11-27 20:13:47,285 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:13:47,287 | INFO | sqlalchemy.engine.Engine | [cached since 245.1s ago] (1, 2)
2025-11-27 20:13:47,305 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:13:47,307 | INFO | sqlalchemy.engine.Engine | [cached since 245.2s ago] (1,)
2025-11-27 20:13:47,328 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:13:47,330 | INFO | sqlalchemy.engine.Engine | [cached since 245.2s ago] (1, 2)
2025-11-27 20:13:47,348 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:13:47,349 | INFO | sqlalchemy.engine.Engine | [cached since 245.2s ago] (1,)
2025-11-27 20:13:47,358 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:13:47,363 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:13:53,288 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:13:53,290 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:13:53,294 | INFO | sqlalchemy.engine.Engine | [cached since 2661s ago] ()
2025-11-27 20:13:53,308 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:13:53,311 | INFO | sqlalchemy.engine.Engine | [cached since 2649s ago] (2,)
2025-11-27 20:13:53,327 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:13:53,330 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:13:53,332 | INFO | sqlalchemy.engine.Engine | [cached since 2661s ago] ()
2025-11-27 20:13:53,354 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:13:53,357 | INFO | sqlalchemy.engine.Engine | [cached since 2649s ago] (2,)
2025-11-27 20:13:53,460 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:13:53,465 | INFO | sqlalchemy.engine.Engine | [cached since 2648s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:13:53,498 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:13:53,501 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:14:08,462 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:14:08,463 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:14:08,467 | INFO | sqlalchemy.engine.Engine | [cached since 2676s ago] ()
2025-11-27 20:14:08,481 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:14:08,482 | INFO | sqlalchemy.engine.Engine | [cached since 2664s ago] (2,)
2025-11-27 20:14:08,513 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:14:08,515 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:14:08,516 | INFO | sqlalchemy.engine.Engine | [cached since 2676s ago] ()
2025-11-27 20:14:08,530 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:14:08,532 | INFO | sqlalchemy.engine.Engine | [cached since 2665s ago] (2,)
2025-11-27 20:14:08,593 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:14:08,595 | INFO | sqlalchemy.engine.Engine | [cached since 2663s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:14:08,630 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:14:08,653 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:14:08,655 | INFO | sqlalchemy.engine.Engine | [cached since 2663s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:14:08,683 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:14:12,533 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:14:12,534 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:14:12,535 | INFO | sqlalchemy.engine.Engine | [cached since 2680s ago] ()
2025-11-27 20:14:12,542 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:14:12,543 | INFO | sqlalchemy.engine.Engine | [cached since 2669s ago] (2,)
2025-11-27 20:14:12,565 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:14:12,566 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:14:12,567 | INFO | sqlalchemy.engine.Engine | [cached since 2680s ago] ()
2025-11-27 20:14:12,581 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:14:12,583 | INFO | sqlalchemy.engine.Engine | [cached since 2669s ago] (2,)
2025-11-27 20:14:12,669 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:14:12,671 | INFO | sqlalchemy.engine.Engine | [cached since 270.5s ago] (1,)
2025-11-27 20:14:12,715 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:14:12,719 | INFO | sqlalchemy.engine.Engine | [cached since 270.6s ago] (1, 2)
2025-11-27 20:14:12,748 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:14:12,750 | INFO | sqlalchemy.engine.Engine | [cached since 270.6s ago] (3,)
2025-11-27 20:14:12,768 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:14:12,770 | INFO | sqlalchemy.engine.Engine | [cached since 270.6s ago] (3, 2)
2025-11-27 20:14:12,777 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:14:12,778 | INFO | sqlalchemy.engine.Engine | [cached since 270.6s ago] (1,)
2025-11-27 20:14:12,789 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:14:12,832 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:14:12,835 | INFO | sqlalchemy.engine.Engine | [cached since 270.7s ago] (3,)
2025-11-27 20:14:12,847 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:31:56,012 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:34:35,729 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-27 20:34:35,731 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:34:35,743 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-27 20:34:35,744 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:34:35,755 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-27 20:34:35,756 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:34:35,762 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:34:35,763 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-27 20:34:35,765 | INFO | sqlalchemy.engine.Engine | [generated in 0.00126s] ()
2025-11-27 20:34:35,773 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:34:35,775 | INFO | sqlalchemy.engine.Engine | [generated in 0.00199s] ()
2025-11-27 20:34:35,790 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,791 | INFO | sqlalchemy.engine.Engine | [generated in 0.00115s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,829 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,831 | INFO | sqlalchemy.engine.Engine | [cached since 0.04033s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,837 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,837 | INFO | sqlalchemy.engine.Engine | [cached since 0.04757s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,842 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,844 | INFO | sqlalchemy.engine.Engine | [cached since 0.05318s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,848 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,849 | INFO | sqlalchemy.engine.Engine | [cached since 0.05879s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,855 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,856 | INFO | sqlalchemy.engine.Engine | [cached since 0.06599s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,862 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,863 | INFO | sqlalchemy.engine.Engine | [cached since 0.07214s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,869 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:34:35,871 | INFO | sqlalchemy.engine.Engine | [cached since 0.08075s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:34:35,878 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:34:35,881 | INFO | sqlalchemy.engine.Engine | [generated in 0.00181s] ('group_role', 'pg_catalog')
2025-11-27 20:34:35,890 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:34:35,891 | INFO | sqlalchemy.engine.Engine | [cached since 0.01217s ago] ('group_membership_status', 'pg_catalog')
2025-11-27 20:34:35,895 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:34:35,896 | INFO | sqlalchemy.engine.Engine | [cached since 0.0169s ago] ('user_status', 'pg_catalog')
2025-11-27 20:34:35,902 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:34:35,903 | INFO | sqlalchemy.engine.Engine | [cached since 0.02426s ago] ('account_type', 'pg_catalog')
2025-11-27 20:34:35,909 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-27 20:34:35,910 | INFO | sqlalchemy.engine.Engine | [generated in 0.00137s] ()
2025-11-27 20:34:35,925 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-27 20:34:35,927 | INFO | sqlalchemy.engine.Engine | [generated in 0.00217s] ()
2025-11-27 20:34:35,960 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-27 20:34:35,960 | INFO | sqlalchemy.engine.Engine | [generated in 0.00135s] ()
2025-11-27 20:34:36,105 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:34:36,181 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-27 20:35:52,208 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:35:52,211 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:35:52,213 | INFO | sqlalchemy.engine.Engine | [cached since 76.44s ago] ()
2025-11-27 20:35:52,287 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:35:52,290 | INFO | sqlalchemy.engine.Engine | [generated in 0.00210s] ('josuelu2@gmail.com',)
2025-11-27 20:35:52,499 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:35:53,070 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:35:53,071 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:35:53,073 | INFO | sqlalchemy.engine.Engine | [cached since 77.3s ago] ()
2025-11-27 20:35:53,086 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:35:53,088 | INFO | sqlalchemy.engine.Engine | [generated in 0.00194s] (1,)
2025-11-27 20:35:53,245 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:42,852 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:42,853 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:42,854 | INFO | sqlalchemy.engine.Engine | [cached since 127.1s ago] ()
2025-11-27 20:36:42,862 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:36:42,864 | INFO | sqlalchemy.engine.Engine | [cached since 50.58s ago] ('josuelu3@gmail.com',)
2025-11-27 20:36:43,016 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:43,305 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:43,306 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:43,307 | INFO | sqlalchemy.engine.Engine | [cached since 127.5s ago] ()
2025-11-27 20:36:43,314 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:43,316 | INFO | sqlalchemy.engine.Engine | [cached since 50.23s ago] (2,)
2025-11-27 20:36:43,417 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:43,635 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:43,635 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:43,636 | INFO | sqlalchemy.engine.Engine | [cached since 127.9s ago] ()
2025-11-27 20:36:43,641 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:43,643 | INFO | sqlalchemy.engine.Engine | [cached since 50.56s ago] (2,)
2025-11-27 20:36:43,649 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:43,650 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:43,651 | INFO | sqlalchemy.engine.Engine | [cached since 127.9s ago] ()
2025-11-27 20:36:43,663 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:43,666 | INFO | sqlalchemy.engine.Engine | [cached since 50.58s ago] (2,)
2025-11-27 20:36:43,861 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools 
WHERE ecowhiskey.schools.id = $1::INTEGER
2025-11-27 20:36:43,862 | INFO | sqlalchemy.engine.Engine | [generated in 0.00163s] (1,)
2025-11-27 20:36:43,871 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER ORDER BY ecowhiskey.groups.name
2025-11-27 20:36:43,876 | INFO | sqlalchemy.engine.Engine | [generated in 0.00472s] (2,)
2025-11-27 20:36:43,888 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.school_id = $1::INTEGER AND ecowhiskey.users.account_type = $2::account_type ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:36:43,892 | INFO | sqlalchemy.engine.Engine | [generated in 0.00229s] (1, 'STUDENT')
2025-11-27 20:36:43,911 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:43,957 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id IN ($2::INTEGER, $3::INTEGER) AND ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:36:43,960 | INFO | sqlalchemy.engine.Engine | [generated in 0.00297s] (2, 1, 3)
2025-11-27 20:36:44,035 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:44,499 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:44,500 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:44,501 | INFO | sqlalchemy.engine.Engine | [cached since 128.7s ago] ()
2025-11-27 20:36:44,506 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:44,508 | INFO | sqlalchemy.engine.Engine | [cached since 51.42s ago] (2,)
2025-11-27 20:36:44,512 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:44,512 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:44,514 | INFO | sqlalchemy.engine.Engine | [cached since 128.7s ago] ()
2025-11-27 20:36:44,523 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:44,524 | INFO | sqlalchemy.engine.Engine | [cached since 51.44s ago] (2,)
2025-11-27 20:36:44,605 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:36:44,606 | INFO | sqlalchemy.engine.Engine | [generated in 0.00116s] (3,)
2025-11-27 20:36:44,608 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:36:44,610 | INFO | sqlalchemy.engine.Engine | [cached since 0.005289s ago] (1,)
2025-11-27 20:36:44,626 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:36:44,627 | INFO | sqlalchemy.engine.Engine | [generated in 0.00097s] (1, 2)
2025-11-27 20:36:44,629 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:36:44,630 | INFO | sqlalchemy.engine.Engine | [cached since 0.004101s ago] (3, 2)
2025-11-27 20:36:44,661 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:36:44,662 | INFO | sqlalchemy.engine.Engine | [generated in 0.00101s] (1,)
2025-11-27 20:36:44,663 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:36:44,663 | INFO | sqlalchemy.engine.Engine | [cached since 0.00363s ago] (3,)
2025-11-27 20:36:44,669 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:44,676 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:51,672 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:51,674 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:51,675 | INFO | sqlalchemy.engine.Engine | [cached since 135.9s ago] ()
2025-11-27 20:36:51,682 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:36:51,683 | INFO | sqlalchemy.engine.Engine | [cached since 59.4s ago] ('josuelu2@gmail.com',)
2025-11-27 20:36:51,900 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:36:55,515 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:36:55,516 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:36:55,517 | INFO | sqlalchemy.engine.Engine | [cached since 139.7s ago] ()
2025-11-27 20:36:55,525 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:36:55,527 | INFO | sqlalchemy.engine.Engine | [cached since 62.44s ago] (1,)
2025-11-27 20:36:55,661 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:15,665 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:15,668 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:15,671 | INFO | sqlalchemy.engine.Engine | [cached since 159.9s ago] ()
2025-11-27 20:37:15,680 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:15,681 | INFO | sqlalchemy.engine.Engine | [cached since 82.6s ago] (2,)
2025-11-27 20:37:15,690 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:15,691 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:15,692 | INFO | sqlalchemy.engine.Engine | [cached since 159.9s ago] ()
2025-11-27 20:37:15,702 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:15,705 | INFO | sqlalchemy.engine.Engine | [cached since 82.62s ago] (2,)
2025-11-27 20:37:15,850 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:37:15,852 | INFO | sqlalchemy.engine.Engine | [cached since 31.25s ago] (1,)
2025-11-27 20:37:15,855 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:37:15,857 | INFO | sqlalchemy.engine.Engine | [cached since 31.25s ago] (1,)
2025-11-27 20:37:15,881 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:37:15,882 | INFO | sqlalchemy.engine.Engine | [cached since 31.26s ago] (1, 2)
2025-11-27 20:37:15,884 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:37:15,886 | INFO | sqlalchemy.engine.Engine | [cached since 31.26s ago] (1, 2)
2025-11-27 20:37:15,945 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:15,948 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:37:15,949 | INFO | sqlalchemy.engine.Engine | [cached since 31.29s ago] (1,)
2025-11-27 20:37:15,957 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:19,685 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:19,685 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:19,687 | INFO | sqlalchemy.engine.Engine | [cached since 163.9s ago] ()
2025-11-27 20:37:19,697 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:19,699 | INFO | sqlalchemy.engine.Engine | [cached since 86.61s ago] (2,)
2025-11-27 20:37:19,703 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:19,705 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:19,709 | INFO | sqlalchemy.engine.Engine | [cached since 163.9s ago] ()
2025-11-27 20:37:19,720 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:19,724 | INFO | sqlalchemy.engine.Engine | [cached since 86.64s ago] (2,)
2025-11-27 20:37:19,840 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:19,840 | INFO | sqlalchemy.engine.Engine | [cached since 86.75s ago] (1,)
2025-11-27 20:37:19,842 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:19,843 | INFO | sqlalchemy.engine.Engine | [cached since 86.76s ago] (1,)
2025-11-27 20:37:19,848 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:37:19,849 | INFO | sqlalchemy.engine.Engine | [generated in 0.00127s] ('scenario_id', 'session_completed', 1)
2025-11-27 20:37:19,855 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:37:19,858 | INFO | sqlalchemy.engine.Engine | [generated in 0.00367s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:37:19,882 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:19,887 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:26,717 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:26,718 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:26,719 | INFO | sqlalchemy.engine.Engine | [cached since 170.9s ago] ()
2025-11-27 20:37:26,732 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:26,735 | INFO | sqlalchemy.engine.Engine | [cached since 93.65s ago] (2,)
2025-11-27 20:37:26,851 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:26,852 | INFO | sqlalchemy.engine.Engine | [cached since 93.77s ago] (1,)
2025-11-27 20:37:26,859 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.phase_id = $1::VARCHAR AND ecowhiskey.phase_scores.user_id = $2::INTEGER ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:37:26,861 | INFO | sqlalchemy.engine.Engine | [generated in 0.00214s] ('ground_readback', 1)
2025-11-27 20:37:35,323 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:43,532 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:43,533 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:43,535 | INFO | sqlalchemy.engine.Engine | [cached since 187.8s ago] ()
2025-11-27 20:37:43,545 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:43,547 | INFO | sqlalchemy.engine.Engine | [cached since 110.5s ago] (2,)
2025-11-27 20:37:43,549 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:43,550 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:43,552 | INFO | sqlalchemy.engine.Engine | [cached since 187.8s ago] ()
2025-11-27 20:37:43,561 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:43,562 | INFO | sqlalchemy.engine.Engine | [cached since 110.5s ago] (2,)
2025-11-27 20:37:43,685 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:43,686 | INFO | sqlalchemy.engine.Engine | [cached since 110.6s ago] (1,)
2025-11-27 20:37:43,687 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:43,689 | INFO | sqlalchemy.engine.Engine | [cached since 110.6s ago] (1,)
2025-11-27 20:37:43,692 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:37:43,693 | INFO | sqlalchemy.engine.Engine | [cached since 23.85s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 20:37:43,696 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:37:43,697 | INFO | sqlalchemy.engine.Engine | [cached since 23.84s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:37:43,713 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:43,722 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:49,429 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:49,430 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:49,430 | INFO | sqlalchemy.engine.Engine | [cached since 193.7s ago] ()
2025-11-27 20:37:49,437 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:49,437 | INFO | sqlalchemy.engine.Engine | [cached since 116.4s ago] (2,)
2025-11-27 20:37:49,533 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:49,536 | INFO | sqlalchemy.engine.Engine | [cached since 116.4s ago] (2,)
2025-11-27 20:37:49,539 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:37:49,540 | INFO | sqlalchemy.engine.Engine | [cached since 29.69s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:37:49,560 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:49,705 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:49,706 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:49,706 | INFO | sqlalchemy.engine.Engine | [cached since 193.9s ago] ()
2025-11-27 20:37:49,717 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:49,719 | INFO | sqlalchemy.engine.Engine | [cached since 116.6s ago] (2,)
2025-11-27 20:37:49,847 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:49,848 | INFO | sqlalchemy.engine.Engine | [cached since 116.8s ago] (2,)
2025-11-27 20:37:49,852 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:37:49,854 | INFO | sqlalchemy.engine.Engine | [cached since 30s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:37:49,880 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:52,841 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:52,842 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:52,843 | INFO | sqlalchemy.engine.Engine | [cached since 197.1s ago] ()
2025-11-27 20:37:52,848 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:52,849 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:52,850 | INFO | sqlalchemy.engine.Engine | [cached since 197.1s ago] ()
2025-11-27 20:37:52,851 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:52,855 | INFO | sqlalchemy.engine.Engine | [cached since 119.8s ago] (2,)
2025-11-27 20:37:52,862 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:52,863 | INFO | sqlalchemy.engine.Engine | [cached since 119.8s ago] (2,)
2025-11-27 20:37:52,976 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:52,977 | INFO | sqlalchemy.engine.Engine | [cached since 119.9s ago] (2,)
2025-11-27 20:37:52,980 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:52,981 | INFO | sqlalchemy.engine.Engine | [cached since 119.9s ago] (2,)
2025-11-27 20:37:52,983 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:37:52,985 | INFO | sqlalchemy.engine.Engine | [cached since 33.13s ago] (2, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:37:52,989 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:37:52,991 | INFO | sqlalchemy.engine.Engine | [cached since 33.15s ago] ('scenario_id', 'session_completed', 2)
2025-11-27 20:37:53,013 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:53,017 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:56,756 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:56,757 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:56,760 | INFO | sqlalchemy.engine.Engine | [cached since 201s ago] ()
2025-11-27 20:37:56,769 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:56,770 | INFO | sqlalchemy.engine.Engine | [cached since 123.7s ago] (2,)
2025-11-27 20:37:56,844 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:37:56,846 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:37:56,847 | INFO | sqlalchemy.engine.Engine | [cached since 201.1s ago] ()
2025-11-27 20:37:56,862 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools ORDER BY ecowhiskey.schools.name
2025-11-27 20:37:56,865 | INFO | sqlalchemy.engine.Engine | [generated in 0.00282s] ()
2025-11-27 20:37:56,916 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:37:57,015 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:37:57,016 | INFO | sqlalchemy.engine.Engine | [cached since 123.9s ago] (2,)
2025-11-27 20:37:57,024 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at, ecowhiskey.group_memberships.id AS id_1, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at AS created_at_1, ecowhiskey.group_memberships.updated_at AS updated_at_1 
FROM ecowhiskey.groups JOIN ecowhiskey.group_memberships ON ecowhiskey.group_memberships.group_id = ecowhiskey.groups.id 
WHERE ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:37:57,026 | INFO | sqlalchemy.engine.Engine | [generated in 0.00219s] (2,)
2025-11-27 20:37:57,103 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER
2025-11-27 20:37:57,105 | INFO | sqlalchemy.engine.Engine | [generated in 0.00183s] (2,)
2025-11-27 20:37:57,113 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:08,289 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:08,290 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:08,291 | INFO | sqlalchemy.engine.Engine | [cached since 212.5s ago] ()
2025-11-27 20:38:08,300 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:08,301 | INFO | sqlalchemy.engine.Engine | [cached since 135.2s ago] (2,)
2025-11-27 20:38:08,459 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:08,462 | INFO | sqlalchemy.engine.Engine | [cached since 135.4s ago] (2,)
2025-11-27 20:38:08,473 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.users SET photo=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE ecowhiskey.users.id = $3::INTEGER
2025-11-27 20:38:08,475 | INFO | sqlalchemy.engine.Engine | [generated in 0.00130s] ('iVBORw0KGgoAAAANSUhEUgAAARIAAADuCAYAAAD1EIj1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABvQSURBVHgB7Z1vcFXlnccftDqwsomiq4bmq ... (9338 characters truncated) ... CQgixhkJCCLGGQkIIsYZCQgixhkJCCLGGQkIIsYZCQgixhkJCCLGGQkIIsYZCQgixhkJCCLGGQkIIsYZCQgixhkJCCLGGQkIIsYZCQgixhkJCCLGGQkIIseb/Acg3IxLEdTzeAAAAAElFTkSuQmCC', datetime.datetime(2025, 11, 28, 2, 38, 8, 473431), 2)
2025-11-27 20:38:08,524 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:38:08,800 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:08,804 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:08,808 | INFO | sqlalchemy.engine.Engine | [generated in 0.00324s] (2,)
2025-11-27 20:38:08,953 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:27,940 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:27,942 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:27,943 | INFO | sqlalchemy.engine.Engine | [cached since 232.2s ago] ()
2025-11-27 20:38:27,951 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:38:27,952 | INFO | sqlalchemy.engine.Engine | [cached since 155.7s ago] ('josuelu3@gmail.com',)
2025-11-27 20:38:28,169 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:29,132 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:29,133 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:29,133 | INFO | sqlalchemy.engine.Engine | [cached since 233.4s ago] ()
2025-11-27 20:38:29,141 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:29,144 | INFO | sqlalchemy.engine.Engine | [cached since 156.1s ago] (2,)
2025-11-27 20:38:29,275 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:29,772 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:29,774 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:29,775 | INFO | sqlalchemy.engine.Engine | [cached since 234s ago] ()
2025-11-27 20:38:29,786 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:29,789 | INFO | sqlalchemy.engine.Engine | [cached since 156.7s ago] (2,)
2025-11-27 20:38:29,834 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:29,836 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:29,837 | INFO | sqlalchemy.engine.Engine | [cached since 234.1s ago] ()
2025-11-27 20:38:29,845 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:29,847 | INFO | sqlalchemy.engine.Engine | [cached since 156.8s ago] (2,)
2025-11-27 20:38:29,928 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools 
WHERE ecowhiskey.schools.id = $1::INTEGER
2025-11-27 20:38:29,929 | INFO | sqlalchemy.engine.Engine | [cached since 106.1s ago] (1,)
2025-11-27 20:38:29,936 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER ORDER BY ecowhiskey.groups.name
2025-11-27 20:38:29,939 | INFO | sqlalchemy.engine.Engine | [cached since 106.1s ago] (2,)
2025-11-27 20:38:29,942 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.school_id = $1::INTEGER AND ecowhiskey.users.account_type = $2::account_type ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:38:29,943 | INFO | sqlalchemy.engine.Engine | [cached since 106.1s ago] (1, 'STUDENT')
2025-11-27 20:38:29,959 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:29,973 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id IN ($2::INTEGER, $3::INTEGER) AND ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:38:29,975 | INFO | sqlalchemy.engine.Engine | [cached since 106s ago] (2, 1, 3)
2025-11-27 20:38:30,019 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:30,657 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:30,659 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:30,660 | INFO | sqlalchemy.engine.Engine | [cached since 234.9s ago] ()
2025-11-27 20:38:30,668 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:30,668 | INFO | sqlalchemy.engine.Engine | [cached since 157.6s ago] (2,)
2025-11-27 20:38:30,673 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:30,674 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:30,675 | INFO | sqlalchemy.engine.Engine | [cached since 234.9s ago] ()
2025-11-27 20:38:30,686 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:30,688 | INFO | sqlalchemy.engine.Engine | [cached since 157.6s ago] (2,)
2025-11-27 20:38:30,794 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:38:30,795 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (1,)
2025-11-27 20:38:30,798 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:38:30,798 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (3,)
2025-11-27 20:38:30,818 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:38:30,820 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (1, 2)
2025-11-27 20:38:30,823 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:38:30,825 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (3, 2)
2025-11-27 20:38:30,860 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:38:30,861 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (1,)
2025-11-27 20:38:30,862 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:38:30,863 | INFO | sqlalchemy.engine.Engine | [cached since 106.2s ago] (3,)
2025-11-27 20:38:30,867 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:30,872 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:35,367 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:35,368 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:35,369 | INFO | sqlalchemy.engine.Engine | [cached since 239.6s ago] ()
2025-11-27 20:38:35,383 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:35,385 | INFO | sqlalchemy.engine.Engine | [cached since 162.3s ago] (2,)
2025-11-27 20:38:35,394 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:38:35,397 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:38:35,399 | INFO | sqlalchemy.engine.Engine | [cached since 239.6s ago] ()
2025-11-27 20:38:35,409 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools ORDER BY ecowhiskey.schools.name
2025-11-27 20:38:35,411 | INFO | sqlalchemy.engine.Engine | [cached since 38.55s ago] ()
2025-11-27 20:38:35,445 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:38:35,526 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:38:35,527 | INFO | sqlalchemy.engine.Engine | [cached since 162.4s ago] (2,)
2025-11-27 20:38:35,531 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at, ecowhiskey.group_memberships.id AS id_1, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at AS created_at_1, ecowhiskey.group_memberships.updated_at AS updated_at_1 
FROM ecowhiskey.groups JOIN ecowhiskey.group_memberships ON ecowhiskey.group_memberships.group_id = ecowhiskey.groups.id 
WHERE ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:38:35,533 | INFO | sqlalchemy.engine.Engine | [cached since 38.51s ago] (2,)
2025-11-27 20:38:35,591 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER
2025-11-27 20:38:35,593 | INFO | sqlalchemy.engine.Engine | [cached since 38.49s ago] (2,)
2025-11-27 20:38:35,599 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:42:13,684 | INFO | sqlalchemy.engine.Engine | select pg_catalog.version()
2025-11-27 20:42:13,686 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:42:13,695 | INFO | sqlalchemy.engine.Engine | select current_schema()
2025-11-27 20:42:13,697 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:42:13,703 | INFO | sqlalchemy.engine.Engine | show standard_conforming_strings
2025-11-27 20:42:13,705 | INFO | sqlalchemy.engine.Engine | [raw sql] ()
2025-11-27 20:42:13,709 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:42:13,711 | INFO | sqlalchemy.engine.Engine | CREATE SCHEMA IF NOT EXISTS "ecowhiskey"
2025-11-27 20:42:13,712 | INFO | sqlalchemy.engine.Engine | [generated in 0.00093s] ()
2025-11-27 20:42:13,716 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:42:13,718 | INFO | sqlalchemy.engine.Engine | [generated in 0.00124s] ()
2025-11-27 20:42:13,727 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,729 | INFO | sqlalchemy.engine.Engine | [generated in 0.00262s] ('groups', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,762 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,763 | INFO | sqlalchemy.engine.Engine | [cached since 0.0363s ago] ('group_memberships', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,765 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,767 | INFO | sqlalchemy.engine.Engine | [cached since 0.04034s ago] ('hello_messages', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,769 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,770 | INFO | sqlalchemy.engine.Engine | [cached since 0.04446s ago] ('request_logs', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,774 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,775 | INFO | sqlalchemy.engine.Engine | [cached since 0.04857s ago] ('phase_scores', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,778 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,778 | INFO | sqlalchemy.engine.Engine | [cached since 0.05293s ago] ('schools', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,783 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,784 | INFO | sqlalchemy.engine.Engine | [cached since 0.05726s ago] ('training_contexts', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,787 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_namespace.nspname = $7::VARCHAR
2025-11-27 20:42:13,788 | INFO | sqlalchemy.engine.Engine | [cached since 0.06243s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'ecowhiskey')
2025-11-27 20:42:13,797 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:42:13,798 | INFO | sqlalchemy.engine.Engine | [generated in 0.00131s] ('group_role', 'pg_catalog')
2025-11-27 20:42:13,804 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:42:13,806 | INFO | sqlalchemy.engine.Engine | [cached since 0.009454s ago] ('group_membership_status', 'pg_catalog')
2025-11-27 20:42:13,810 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:42:13,812 | INFO | sqlalchemy.engine.Engine | [cached since 0.01588s ago] ('user_status', 'pg_catalog')
2025-11-27 20:42:13,817 | INFO | sqlalchemy.engine.Engine | SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-11-27 20:42:13,818 | INFO | sqlalchemy.engine.Engine | [cached since 0.02133s ago] ('account_type', 'pg_catalog')
2025-11-27 20:42:13,821 | INFO | sqlalchemy.engine.Engine | ALTER TABLE IF EXISTS schools ADD COLUMN IF NOT EXISTS value VARCHAR(20)
2025-11-27 20:42:13,822 | INFO | sqlalchemy.engine.Engine | [generated in 0.00093s] ()
2025-11-27 20:42:13,828 | INFO | sqlalchemy.engine.Engine | UPDATE schools SET value = CONCAT('school_', id) WHERE value IS NULL OR btrim(value) = ''
2025-11-27 20:42:13,828 | INFO | sqlalchemy.engine.Engine | [generated in 0.00150s] ()
2025-11-27 20:42:13,868 | INFO | sqlalchemy.engine.Engine | 
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM information_schema.columns
                    WHERE table_schema = current_schema()
                      AND table_name = 'schools'
                      AND column_name = 'value'
                ) THEN
                    IF NOT EXISTS (
                        SELECT 1
                        FROM information_schema.table_constraints tc
                        JOIN information_schema.constraint_column_usage ccu
                          ON tc.constraint_name = ccu.constraint_name
                         AND tc.table_schema = ccu.table_schema
                        WHERE tc.table_schema = current_schema()
                          AND tc.table_name = 'schools'
                          AND tc.constraint_type = 'UNIQUE'
                          AND ccu.column_name = 'value'
                    ) THEN
                        ALTER TABLE schools
                        ADD CONSTRAINT uq_schools_value UNIQUE (value);
                    END IF;

                    ALTER TABLE schools
                    ALTER COLUMN value SET NOT NULL;
                END IF;
            END
            $$;
            
2025-11-27 20:42:13,869 | INFO | sqlalchemy.engine.Engine | [generated in 0.00146s] ()
2025-11-27 20:42:14,012 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:42:14,119 | INFO | app.database | Ensured database tables in schema 'ecowhiskey'.
2025-11-27 20:43:30,853 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:43:30,855 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:43:30,855 | INFO | sqlalchemy.engine.Engine | [cached since 77.14s ago] ()
2025-11-27 20:43:30,901 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:43:30,904 | INFO | sqlalchemy.engine.Engine | [generated in 0.00211s] (2,)
2025-11-27 20:43:30,931 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:43:30,932 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:43:30,934 | INFO | sqlalchemy.engine.Engine | [cached since 77.22s ago] ()
2025-11-27 20:43:30,944 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools ORDER BY ecowhiskey.schools.name
2025-11-27 20:43:30,945 | INFO | sqlalchemy.engine.Engine | [generated in 0.00120s] ()
2025-11-27 20:43:30,981 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:43:31,105 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:43:31,108 | INFO | sqlalchemy.engine.Engine | [cached since 0.2063s ago] (2,)
2025-11-27 20:43:31,117 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at, ecowhiskey.group_memberships.id AS id_1, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at AS created_at_1, ecowhiskey.group_memberships.updated_at AS updated_at_1 
FROM ecowhiskey.groups JOIN ecowhiskey.group_memberships ON ecowhiskey.group_memberships.group_id = ecowhiskey.groups.id 
WHERE ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:43:31,118 | INFO | sqlalchemy.engine.Engine | [generated in 0.00217s] (2,)
2025-11-27 20:43:31,188 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER
2025-11-27 20:43:31,189 | INFO | sqlalchemy.engine.Engine | [generated in 0.00134s] (2,)
2025-11-27 20:43:31,195 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:43:34,757 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:43:34,760 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:43:34,761 | INFO | sqlalchemy.engine.Engine | [cached since 81.04s ago] ()
2025-11-27 20:43:34,771 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools ORDER BY ecowhiskey.schools.name
2025-11-27 20:43:34,772 | INFO | sqlalchemy.engine.Engine | [cached since 3.829s ago] ()
2025-11-27 20:43:34,835 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:31,904 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:31,905 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:31,905 | INFO | sqlalchemy.engine.Engine | [cached since 198.2s ago] ()
2025-11-27 20:45:31,916 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:31,918 | INFO | sqlalchemy.engine.Engine | [cached since 121s ago] (2,)
2025-11-27 20:45:32,085 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:34,495 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:34,498 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:34,500 | INFO | sqlalchemy.engine.Engine | [cached since 200.8s ago] ()
2025-11-27 20:45:34,512 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:34,515 | INFO | sqlalchemy.engine.Engine | [cached since 123.6s ago] (2,)
2025-11-27 20:45:34,565 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:34,576 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:34,580 | INFO | sqlalchemy.engine.Engine | [cached since 200.9s ago] ()
2025-11-27 20:45:34,591 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:34,596 | INFO | sqlalchemy.engine.Engine | [cached since 123.7s ago] (2,)
2025-11-27 20:45:34,869 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.schools.id, ecowhiskey.schools.name, ecowhiskey.schools.value, ecowhiskey.schools.location, ecowhiskey.schools.created_at 
FROM ecowhiskey.schools 
WHERE ecowhiskey.schools.id = $1::INTEGER
2025-11-27 20:45:34,870 | INFO | sqlalchemy.engine.Engine | [generated in 0.00177s] (1,)
2025-11-27 20:45:34,877 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.owner_id = $1::INTEGER ORDER BY ecowhiskey.groups.name
2025-11-27 20:45:34,880 | INFO | sqlalchemy.engine.Engine | [generated in 0.00307s] (2,)
2025-11-27 20:45:34,892 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.school_id = $1::INTEGER AND ecowhiskey.users.account_type = $2::account_type ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:45:34,895 | INFO | sqlalchemy.engine.Engine | [generated in 0.00244s] (1, 'STUDENT')
2025-11-27 20:45:34,922 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:34,936 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id IN ($2::INTEGER, $3::INTEGER) AND ecowhiskey.group_memberships.user_id = $1::INTEGER
2025-11-27 20:45:34,941 | INFO | sqlalchemy.engine.Engine | [generated in 0.00574s] (2, 1, 3)
2025-11-27 20:45:35,007 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:35,641 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:35,800 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:35,802 | INFO | sqlalchemy.engine.Engine | [cached since 202.1s ago] ()
2025-11-27 20:45:35,807 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:35,807 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:35,810 | INFO | sqlalchemy.engine.Engine | [cached since 202.1s ago] ()
2025-11-27 20:45:35,813 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:35,815 | INFO | sqlalchemy.engine.Engine | [cached since 124.9s ago] (2,)
2025-11-27 20:45:35,824 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:35,826 | INFO | sqlalchemy.engine.Engine | [cached since 124.9s ago] (2,)
2025-11-27 20:45:35,963 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:45:35,963 | INFO | sqlalchemy.engine.Engine | [generated in 0.00110s] (3,)
2025-11-27 20:45:35,966 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.groups.id, ecowhiskey.groups.name, ecowhiskey.groups.description, ecowhiskey.groups.school_id, ecowhiskey.groups.owner_id, ecowhiskey.groups.created_at, ecowhiskey.groups.updated_at 
FROM ecowhiskey.groups 
WHERE ecowhiskey.groups.id = $1::INTEGER
2025-11-27 20:45:35,967 | INFO | sqlalchemy.engine.Engine | [cached since 0.004682s ago] (1,)
2025-11-27 20:45:35,995 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:45:35,997 | INFO | sqlalchemy.engine.Engine | [generated in 0.00230s] (3, 2)
2025-11-27 20:45:36,000 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at 
FROM ecowhiskey.group_memberships 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER AND ecowhiskey.group_memberships.user_id = $2::INTEGER
2025-11-27 20:45:36,000 | INFO | sqlalchemy.engine.Engine | [cached since 0.006479s ago] (1, 2)
2025-11-27 20:45:36,048 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:45:36,049 | INFO | sqlalchemy.engine.Engine | [generated in 0.00120s] (1,)
2025-11-27 20:45:36,051 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.group_memberships.id, ecowhiskey.group_memberships.group_id, ecowhiskey.group_memberships.user_id, ecowhiskey.group_memberships.role, ecowhiskey.group_memberships.status, ecowhiskey.group_memberships.invited_by_id, ecowhiskey.group_memberships.created_at, ecowhiskey.group_memberships.updated_at, ecowhiskey.users.id AS id_1, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status AS status_1, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at AS created_at_1, ecowhiskey.users.updated_at AS updated_at_1, schools_1.id AS id_2, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_2 
FROM ecowhiskey.group_memberships JOIN ecowhiskey.users ON ecowhiskey.users.id = ecowhiskey.group_memberships.user_id LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.group_memberships.group_id = $1::INTEGER ORDER BY ecowhiskey.users.first_name, ecowhiskey.users.last_name
2025-11-27 20:45:36,052 | INFO | sqlalchemy.engine.Engine | [cached since 0.00448s ago] (3,)
2025-11-27 20:45:36,059 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:36,062 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:48,521 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:48,522 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:48,523 | INFO | sqlalchemy.engine.Engine | [cached since 214.8s ago] ()
2025-11-27 20:45:48,538 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.email = $1::VARCHAR
2025-11-27 20:45:48,543 | INFO | sqlalchemy.engine.Engine | [generated in 0.00511s] ('josuelu2@gmail.com',)
2025-11-27 20:45:48,729 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:51,174 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:51,175 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:51,176 | INFO | sqlalchemy.engine.Engine | [cached since 217.5s ago] ()
2025-11-27 20:45:51,183 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:51,186 | INFO | sqlalchemy.engine.Engine | [cached since 140.3s ago] (1,)
2025-11-27 20:45:51,300 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:54,998 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:54,999 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:55,001 | INFO | sqlalchemy.engine.Engine | [cached since 221.3s ago] ()
2025-11-27 20:45:55,012 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:55,015 | INFO | sqlalchemy.engine.Engine | [cached since 144.1s ago] (1,)
2025-11-27 20:45:55,023 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:45:55,024 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:45:55,025 | INFO | sqlalchemy.engine.Engine | [cached since 221.3s ago] ()
2025-11-27 20:45:55,036 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:55,038 | INFO | sqlalchemy.engine.Engine | [cached since 144.1s ago] (1,)
2025-11-27 20:45:55,172 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:55,174 | INFO | sqlalchemy.engine.Engine | [cached since 144.3s ago] (1,)
2025-11-27 20:45:55,176 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:45:55,178 | INFO | sqlalchemy.engine.Engine | [cached since 144.3s ago] (1,)
2025-11-27 20:45:55,183 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:45:55,184 | INFO | sqlalchemy.engine.Engine | [generated in 0.00208s] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:45:55,189 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:45:55,191 | INFO | sqlalchemy.engine.Engine | [generated in 0.00149s] ('scenario_id', 'session_completed', 1)
2025-11-27 20:45:55,214 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:45:55,217 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:46:02,947 | DEBUG | httpcore.connection | connect_tcp.started host='aviationweather.gov' port=443 local_address=None timeout=10.0 socket_options=None
2025-11-27 20:46:03,101 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002070A4D12D0>
2025-11-27 20:46:03,102 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000002070A4AEE70> server_hostname='aviationweather.gov' timeout=10.0
2025-11-27 20:46:03,225 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002070A447490>
2025-11-27 20:46:03,227 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-11-27 20:46:03,229 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-11-27 20:46:03,231 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-11-27 20:46:03,233 | DEBUG | httpcore.http11 | send_request_body.complete
2025-11-27 20:46:03,234 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-11-27 20:46:03,337 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Nov 2025 02:46:05 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'454'), (b'Connection', b'keep-alive'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Content-Security-Policy', b"frame-ancestors 'self' *.weather.gov"), (b'Strict-Transport-Security', b'max-age=63072000; includeSubDomains'), (b'Cache-control', b'max-age=60'), (b'ETag', b'W/"1c6-3VwIasbSUhq0Rgy8PasttItNwSE"'), (b'x-azure-ref', b'20251128T024605Z-1654ff75797zvk25hC1MIAp3mw00000004ag000000005fma'), (b'x-fd-int-roxy-purgeid', b'66958920'), (b'X-Cache', b'TCP_MISS'), (b'Accept-Ranges', b'bytes')])
2025-11-27 20:46:03,338 | INFO | httpx | HTTP Request: GET https://aviationweather.gov/api/data/metar?ids=MROC&format=json "HTTP/1.1 200 OK"
2025-11-27 20:46:03,339 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-11-27 20:46:03,341 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-11-27 20:46:03,345 | DEBUG | httpcore.http11 | response_closed.started
2025-11-27 20:46:03,348 | DEBUG | httpcore.http11 | response_closed.complete
2025-11-27 20:46:03,351 | DEBUG | httpcore.connection | close.started
2025-11-27 20:46:03,355 | DEBUG | httpcore.connection | close.complete
2025-11-27 20:46:08,003 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:46:08,005 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:46:08,006 | INFO | sqlalchemy.engine.Engine | [cached since 234.3s ago] ()
2025-11-27 20:46:08,015 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:46:08,017 | INFO | sqlalchemy.engine.Engine | [cached since 157.1s ago] (1,)
2025-11-27 20:46:08,157 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.training_contexts (id, training_session_id, user_id, context, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::JSONB, $5::TIMESTAMP WITH TIME ZONE, $6::TIMESTAMP WITH TIME ZONE)
2025-11-27 20:46:08,158 | INFO | sqlalchemy.engine.Engine | [generated in 0.00935s] (UUID('0fae9ff5-daff-41a8-82c8-3a1bb11662a1'), UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'), 1, '{"route": "MRPV-mrpv_zone_echo", "meteo": {"condition": "VMC", "vis": ">10km", "qnh": "1015", "windDirection": "100", "windSpeed": "18", "temp": "22", "dewp": "17", "cloudCover": "FEW", "cloudBase": "1000", "wind": "100/18"}, "scenario_id": "mrpv_zone_echo", "session_completed": false}', datetime.datetime(2025, 11, 27, 20, 46, 8, 157130, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), datetime.datetime(2025, 11, 27, 20, 46, 8, 157130, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')))
2025-11-27 20:46:08,169 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:46:08,437 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:46:08,442 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.id = $1::UUID
2025-11-27 20:46:08,443 | INFO | sqlalchemy.engine.Engine | [generated in 0.00218s] (UUID('0fae9ff5-daff-41a8-82c8-3a1bb11662a1'),)
2025-11-27 20:46:08,467 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:46:46,346 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:46:46,346 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 20:46:46,347 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 20:46:46,348 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,349 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 20:46:46,349 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 20:46:46,349 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,351 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:46:46,352 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 20:46:46,353 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:46:46,354 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:46:46,355 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 20:46:46,356 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 20:46:46,358 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,358 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 20:46:46,360 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 20:46:46,361 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,362 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:46:46,363 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 20:46:46,363 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:46:46,364 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:46:46,365 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 20:46:46,365 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 20:46:46,367 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,367 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 20:46:46,368 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 20:46:46,369 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,369 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 20:46:46,370 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:436]
2025-11-27 20:46:46,370 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:46:46,372 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:46:46,373 | DEBUG | python_multipart.multipart | Calling on_part_data with data[440:5840]
2025-11-27 20:46:46,379 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 20:46:46,484 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:46,485 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:46,487 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:46,609 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:46,612 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:46,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:46,751 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:46,753 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:46,897 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:46,899 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:47,043 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:47,044 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,046 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 20:46:47,179 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,180 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:47,182 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:47,315 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,317 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:5272]
2025-11-27 20:46:47,463 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,467 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:47,469 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:47,601 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,602 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:47,605 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:47,738 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,740 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:47,741 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:47,897 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:47,900 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:47,904 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:48,061 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:48,064 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:48,066 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 20:46:48,197 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:48,198 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:48,332 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:48,335 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:48,336 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:48,473 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:48,477 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:48,479 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 20:46:48,611 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:48,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:6732]
2025-11-27 20:46:48,738 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:48,741 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:48,743 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:48,867 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:48,869 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:48,871 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:48,997 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:48,997 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:49,000 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,145 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:49,148 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:49,149 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,281 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:49,284 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:49,285 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 20:46:49,415 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:49,416 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:49,418 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,551 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:49,552 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:49,555 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,683 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:49,685 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,817 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:46:49,820 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:46:49,823 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,967 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:46:49,969 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:46:49,974 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:293]
2025-11-27 20:46:49,976 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:46:49,978 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 20:46:50,205 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:46:50,208 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:46:50,209 | INFO | sqlalchemy.engine.Engine | [cached since 276.5s ago] ()
2025-11-27 20:46:50,218 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:46:50,220 | INFO | sqlalchemy.engine.Engine | [cached since 199.3s ago] (1,)
2025-11-27 20:46:52,043 | INFO | app.services.transcribe | Starting stream. Total bytes: 1572864. Chunk size: 8192. No throttling.
2025-11-27 20:46:52,046 | DEBUG | app.services.transcribe | Streamed 8192/1572864 bytes
2025-11-27 20:46:52,082 | DEBUG | app.services.transcribe | Streamed 417792/1572864 bytes
2025-11-27 20:46:52,107 | DEBUG | app.services.transcribe | Streamed 827392/1572864 bytes
2025-11-27 20:46:52,131 | DEBUG | app.services.transcribe | Streamed 1236992/1572864 bytes
2025-11-27 20:46:52,154 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 20:47:00,605 | DEBUG | app.services.transcribe | Received transcript chunk: superficie Alfa Novi...
2025-11-27 20:47:00,767 | INFO | app.services.transcribe | Transcription complete. Length: 190
2025-11-27 20:47:00,769 | INFO | app.controllers.audio | Transcripcin recibida session=ab8c878c-a76e-421b-bf02-b589d0088a92: superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.
2025-11-27 20:47:00,771 | INFO | app.logs.transcript | student | session=ab8c878c-a76e-421b-bf02-b589d0088a92 | frequency=121.700 | text=superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.
2025-11-27 20:47:00,949 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:00,951 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:47:00,952 | INFO | sqlalchemy.engine.Engine | [generated in 0.00143s] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:47:00,979 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:47:02,059 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:02,059 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:47:02,061 | INFO | sqlalchemy.engine.Engine | [cached since 1.111s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:47:02,082 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 20:47:02,083 | INFO | sqlalchemy.engine.Engine | [generated in 0.00201s] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/18", "cloudBase": "1000", "condition": "VMC", "windSpeed": "18", " ... (14655 characters truncated) ... pv_zone_echo", "intent": "ground_flight_plan_request", "frequency_group": "ground", "intent_confidence": 0.95, "timestamp": "2025-11-28T02:47:01Z"}]}', datetime.datetime(2025, 11, 27, 20, 47, 2, 81709, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('0fae9ff5-daff-41a8-82c8-3a1bb11662a1'))
2025-11-27 20:47:02,108 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:47:02,155 | INFO | app.controllers.audio | Fase activa session=ab8c878c-a76e-421b-bf02-b589d0088a92 phase_id=ground_departure_request intent=ground_flight_plan_request freq=ground
2025-11-27 20:47:02,159 | INFO | app.services.audio_pipeline | Prompts generados intent=ground_flight_plan_request freq_group=ground
SYSTEM> Eres Pavas Superficie (121.7). Recibes la llamada inicial. Responde: '[Matrcula], Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 18 nudos. QNH 1015. Transponder 0532. Ruede va Alfa, Bravo al punto de espera pista uno cero. Llame listo.' Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": st...
USER> Fase actual: Solicitud de apertura y autorizacin de rodaje
Intent esperado: ground_flight_plan_request
Transcripcin textual del alumno:
superficie Alfa Noviembre India en plataforma remota tres solicito apertura de plan de vuelo VFR hacia zona Eco va Paso Ochomogo nivel 7000 pies, dos almas a bordo, autonoma, cinco horas.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_departure_request

Checklist alumno:
- Saludo correcto a Pavas Superficie.
- Indi...
2025-11-27 20:47:13,338 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=ground_flight_plan_request intento=1: {
  "intent": "ground_flight_plan_request",
  "allowResponse": true,
  "controllerText": "Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 18 nudos. QNH 1015. Transponder 0532. Ruede va Alfa, Bravo al punto de espera pista uno cero. Llame listo.",
  "feedback": "Solicitud completa. Todos los elementos requeridos fueron incluidos correctamente.",
  "confidence": 0.95,
  "score": 95,
  "metadata": {
    "nextPhase": "ground_readback"
  }
}
2025-11-27 20:47:13,339 | INFO | app.controllers.audio | Transicin automtica de fase session=ab8c878c-a76e-421b-bf02-b589d0088a92 de=ground_departure_request a=ground_readback
2025-11-27 20:47:13,491 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:13,492 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:47:13,493 | INFO | sqlalchemy.engine.Engine | [cached since 12.54s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:47:13,518 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 20:47:13,520 | INFO | sqlalchemy.engine.Engine | [cached since 11.44s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/18", "cloudBase": "1000", "condition": "VMC", "windSpeed": "18", " ... (15917 characters truncated) ... "126.8", "unicom": "122.0"}, "scenario_id": "mrpv_zone_echo", "transponder": "0532", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 20, 47, 13, 518872, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('0fae9ff5-daff-41a8-82c8-3a1bb11662a1'))
2025-11-27 20:47:13,539 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:47:13,574 | INFO | sqlalchemy.engine.Engine | INSERT INTO ecowhiskey.phase_scores (id, training_session_id, user_id, phase_id, score, feedback) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING ecowhiskey.phase_scores.created_at
2025-11-27 20:47:13,574 | INFO | sqlalchemy.engine.Engine | [generated in 0.00115s] (UUID('47a3a85a-a5c9-41d0-a7f2-b93186e360ce'), UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'), 1, 'ground_readback', 95.0, 'Solicitud completa. Todos los elementos requeridos fueron incluidos correctamente.')
2025-11-27 20:47:13,584 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:47:13,630 | INFO | app.controllers.audio | Puntuacin guardada session=ab8c878c-a76e-421b-bf02-b589d0088a92 phase_id=ground_readback score=95.00
2025-11-27 20:47:13,631 | INFO | app.logs.transcript | controller | session=ab8c878c-a76e-421b-bf02-b589d0088a92 | frequency=121.700 | intent=ground_flight_plan_request | phase=ground_readback | allow_response=True | text=Alfa Noviembre India, Pavas Superficie, recibido su solicitud. Pista en uso uno cero, viento 100 grados 18 nudos. QNH 1015. Transponder 0532. Ruede va Alfa, Bravo al punto de espera pista uno cero. Llame listo.
2025-11-27 20:47:42,638 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:42,639 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:47:42,642 | INFO | sqlalchemy.engine.Engine | [cached since 328.9s ago] ()
2025-11-27 20:47:42,643 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:42,645 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:47:42,647 | INFO | sqlalchemy.engine.Engine | [cached since 328.9s ago] ()
2025-11-27 20:47:42,661 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:42,663 | INFO | sqlalchemy.engine.Engine | [cached since 251.8s ago] (1,)
2025-11-27 20:47:42,666 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:42,668 | INFO | sqlalchemy.engine.Engine | [cached since 251.8s ago] (1,)
2025-11-27 20:47:42,844 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:42,846 | INFO | sqlalchemy.engine.Engine | [cached since 251.9s ago] (1,)
2025-11-27 20:47:42,850 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:42,853 | INFO | sqlalchemy.engine.Engine | [cached since 252s ago] (1,)
2025-11-27 20:47:42,859 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.context[$1::TEXT] AS scenario_id, ecowhiskey.training_contexts.context[$2::TEXT] AS session_completed, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.user_id = $3::INTEGER ORDER BY ecowhiskey.training_contexts.created_at DESC
2025-11-27 20:47:42,862 | INFO | sqlalchemy.engine.Engine | [cached since 107.7s ago] ('scenario_id', 'session_completed', 1)
2025-11-27 20:47:42,871 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.phase_scores.id, ecowhiskey.phase_scores.training_session_id, ecowhiskey.phase_scores.user_id, ecowhiskey.phase_scores.phase_id, ecowhiskey.phase_scores.score, ecowhiskey.phase_scores.feedback, ecowhiskey.phase_scores.created_at 
FROM ecowhiskey.phase_scores 
WHERE ecowhiskey.phase_scores.user_id = $1::INTEGER AND ecowhiskey.phase_scores.phase_id IN ($2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::VARCHAR, $13::VARCHAR, $14::VARCHAR, $15::VARCHAR) ORDER BY ecowhiskey.phase_scores.created_at DESC
2025-11-27 20:47:42,877 | INFO | sqlalchemy.engine.Engine | [cached since 107.7s ago] (1, 'ground_departure_request', 'frequency_usage_error', 'ground_readback', 'tower_hold_short', 'tower_line_up', 'tower_takeoff_clearance', 'tower_initial_climb', 'approach_contact', 'approach_readback', 'approach_zone_entry', 'radio_check_in', 'radio_position_reporting', 'radio_exit_zone', 'approach_return_contact')
2025-11-27 20:47:42,907 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:47:42,915 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:47:46,140 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:47:46,141 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:47:46,142 | INFO | sqlalchemy.engine.Engine | [cached since 332.4s ago] ()
2025-11-27 20:47:46,151 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:46,152 | INFO | sqlalchemy.engine.Engine | [cached since 255.3s ago] (1,)
2025-11-27 20:47:46,267 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:47:46,268 | INFO | sqlalchemy.engine.Engine | [cached since 45.32s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:47:46,290 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:47:46,291 | INFO | sqlalchemy.engine.Engine | [cached since 255.4s ago] (1,)
2025-11-27 20:47:46,295 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:48:19,437 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:48:19,439 | DEBUG | python_multipart.multipart | Calling on_header_field with data[40:59]
2025-11-27 20:48:19,440 | DEBUG | python_multipart.multipart | Calling on_header_value with data[61:89]
2025-11-27 20:48:19,440 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,442 | DEBUG | python_multipart.multipart | Calling on_header_field with data[91:105]
2025-11-27 20:48:19,443 | DEBUG | python_multipart.multipart | Calling on_header_value with data[107:109]
2025-11-27 20:48:19,443 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,445 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:48:19,448 | DEBUG | python_multipart.multipart | Calling on_part_data with data[113:149]
2025-11-27 20:48:19,450 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:48:19,451 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:48:19,452 | DEBUG | python_multipart.multipart | Calling on_header_field with data[191:210]
2025-11-27 20:48:19,453 | DEBUG | python_multipart.multipart | Calling on_header_value with data[212:239]
2025-11-27 20:48:19,455 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,457 | DEBUG | python_multipart.multipart | Calling on_header_field with data[241:255]
2025-11-27 20:48:19,458 | DEBUG | python_multipart.multipart | Calling on_header_value with data[257:258]
2025-11-27 20:48:19,459 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,460 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:48:19,461 | DEBUG | python_multipart.multipart | Calling on_part_data with data[262:269]
2025-11-27 20:48:19,463 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:48:19,463 | DEBUG | python_multipart.multipart | Calling on_part_begin with no data
2025-11-27 20:48:19,464 | DEBUG | python_multipart.multipart | Calling on_header_field with data[311:330]
2025-11-27 20:48:19,465 | DEBUG | python_multipart.multipart | Calling on_header_value with data[332:386]
2025-11-27 20:48:19,467 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,468 | DEBUG | python_multipart.multipart | Calling on_header_field with data[388:400]
2025-11-27 20:48:19,469 | DEBUG | python_multipart.multipart | Calling on_header_value with data[402:412]
2025-11-27 20:48:19,471 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,473 | DEBUG | python_multipart.multipart | Calling on_header_field with data[414:428]
2025-11-27 20:48:19,476 | DEBUG | python_multipart.multipart | Calling on_header_value with data[430:435]
2025-11-27 20:48:19,477 | DEBUG | python_multipart.multipart | Calling on_header_end with no data
2025-11-27 20:48:19,482 | DEBUG | python_multipart.multipart | Calling on_headers_finished with no data
2025-11-27 20:48:19,485 | DEBUG | python_multipart.multipart | Calling on_part_data with data[439:5840]
2025-11-27 20:48:19,488 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 20:48:19,609 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:48:19,614 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:19,770 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:48:19,774 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:19,778 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2352]
2025-11-27 20:48:19,950 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:19,952 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:19,953 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:20,128 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:20,130 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,132 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:20,311 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,313 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:20,320 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,325 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 20:48:20,461 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,464 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:20,472 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:20,608 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,611 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:20,613 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:20,752 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:4380]
2025-11-27 20:48:20,754 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,756 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:892]
2025-11-27 20:48:20,901 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:2920]
2025-11-27 20:48:20,903 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:1460]
2025-11-27 20:48:20,907 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:3812]
2025-11-27 20:48:20,921 | DEBUG | python_multipart.multipart | Calling on_part_data with data[0:931]
2025-11-27 20:48:20,921 | DEBUG | python_multipart.multipart | Calling on_part_end with no data
2025-11-27 20:48:20,923 | DEBUG | python_multipart.multipart | Calling on_end with no data
2025-11-27 20:48:21,127 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:48:21,128 | INFO | sqlalchemy.engine.Engine | SET search_path TO "ecowhiskey", public
2025-11-27 20:48:21,130 | INFO | sqlalchemy.engine.Engine | [cached since 367.4s ago] ()
2025-11-27 20:48:21,141 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.users.id, ecowhiskey.users.email, ecowhiskey.users.first_name, ecowhiskey.users.last_name, ecowhiskey.users.password_hash, ecowhiskey.users.status, ecowhiskey.users.account_type, ecowhiskey.users.school_id, ecowhiskey.users.photo, ecowhiskey.users.created_at, ecowhiskey.users.updated_at, schools_1.id AS id_1, schools_1.name, schools_1.value, schools_1.location, schools_1.created_at AS created_at_1 
FROM ecowhiskey.users LEFT OUTER JOIN ecowhiskey.schools AS schools_1 ON schools_1.id = ecowhiskey.users.school_id 
WHERE ecowhiskey.users.id = $1::INTEGER
2025-11-27 20:48:21,142 | INFO | sqlalchemy.engine.Engine | [cached since 290.2s ago] (1,)
2025-11-27 20:48:22,110 | INFO | app.services.transcribe | Starting stream. Total bytes: 581632. Chunk size: 8192. No throttling.
2025-11-27 20:48:22,112 | DEBUG | app.services.transcribe | Streamed 8192/581632 bytes
2025-11-27 20:48:22,173 | DEBUG | app.services.transcribe | Streamed 417792/581632 bytes
2025-11-27 20:48:22,187 | INFO | app.services.transcribe | Finished streaming audio bytes. Ending stream.
2025-11-27 20:48:23,696 | DEBUG | app.services.transcribe | Received transcript chunk: Mi perro se llama Ol...
2025-11-27 20:48:24,429 | DEBUG | app.services.transcribe | Received transcript chunk: y mi perro se llama ...
2025-11-27 20:48:24,602 | INFO | app.services.transcribe | Transcription complete. Length: 48
2025-11-27 20:48:24,606 | INFO | app.controllers.audio | Transcripcin recibida session=ab8c878c-a76e-421b-bf02-b589d0088a92: Mi perro se llama Olo y mi perro se llama Nube.
2025-11-27 20:48:24,607 | INFO | app.logs.transcript | student | session=ab8c878c-a76e-421b-bf02-b589d0088a92 | frequency=121.700 | text=Mi perro se llama Olo y mi perro se llama Nube.
2025-11-27 20:48:24,923 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:48:24,925 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:48:24,927 | INFO | sqlalchemy.engine.Engine | [cached since 83.98s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:48:24,958 | INFO | sqlalchemy.engine.Engine | ROLLBACK
2025-11-27 20:48:27,488 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:48:27,489 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:48:27,490 | INFO | sqlalchemy.engine.Engine | [cached since 86.54s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:48:27,513 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
2025-11-27 20:48:27,513 | INFO | sqlalchemy.engine.Engine | [cached since 85.43s ago] ('{"meteo": {"qnh": "1015", "vis": ">10km", "dewp": "17", "temp": "22", "wind": "100/18", "cloudBase": "1000", "condition": "VMC", "windSpeed": "18", " ... (16374 characters truncated) ... 22.0", "approach": "120.5"}, "scenario_id": "mrpv_zone_echo", "transponder": "0532", "session_completed": false, "default_frequency_group": "ground"}', datetime.datetime(2025, 11, 27, 20, 48, 27, 512183, tzinfo=zoneinfo.ZoneInfo(key='America/Costa_Rica')), UUID('0fae9ff5-daff-41a8-82c8-3a1bb11662a1'))
2025-11-27 20:48:27,529 | INFO | sqlalchemy.engine.Engine | COMMIT
2025-11-27 20:48:27,576 | INFO | app.controllers.audio | Fase activa session=ab8c878c-a76e-421b-bf02-b589d0088a92 phase_id=ground_readback intent=non_atc_communication freq=ground
2025-11-27 20:48:27,578 | INFO | app.services.audio_pipeline | Prompts generados intent=non_atc_communication freq_group=ground
SYSTEM> Sigues como Pavas Superficie. Evalas la colacin y decides si pasa a Torre. Modo normal: Balancea la precisin con la fluidez. Penaliza errores de seguridad o informacin crtica, pero permite ligeras variaciones. Responde nicamente en formato JSON vlido con la estructura exacta: {
  "intent": string,
  "allowResponse": boolean,
  "controllerText": string | null,
  "feedback": string,
  "confidence": number | null,
  "score": number | null,
  "metadata": object
 }.
El campo "score" debe se...
USER> Fase actual: Readback de autorizacin de rodaje
Intent esperado: non_atc_communication
Transcripcin textual del alumno:
Mi perro se llama Olo y mi perro se llama Nube.

Contexto operativo:
- Aeropuerto: MRPV
- Grupo de frecuencia: ground
- Fase ID: ground_readback

Checklist alumno:
- Colacionar QNH correctamente.
- Colacionar cdigo transponder asignado.
- Colacionar ruta de rodaje completa asignada.
- Colacionar pista asignada.
- Colacionar restricciones (mantenga, espere).
- NO colacionar...
2025-11-27 20:48:41,449 | INFO | app.services.audio_pipeline | Respuesta LLM cruda intent=non_atc_communication intento=1: {
  "intent": "non_atc_communication",
  "allowResponse": false,
  "controllerText": null,
  "feedback": "La transmisin no corresponde a una colacin de autorizacin de rodaje. Se esperaba la confirmacin de QNH, cdigo transponder, ruta de rodaje y pista asignada. Por favor, realice el readback correcto de la autorizacin recibida.",
  "confidence": 0.95,
  "score": 0,
  "metadata": {
    "missing_items": [
      "QNH 1015",
      "Transponder 0532",
      "Ruta Alfa, Bravo",
      "Pista u...
2025-11-27 20:48:41,637 | INFO | sqlalchemy.engine.Engine | BEGIN (implicit)
2025-11-27 20:48:41,640 | INFO | sqlalchemy.engine.Engine | SELECT ecowhiskey.training_contexts.id, ecowhiskey.training_contexts.training_session_id, ecowhiskey.training_contexts.user_id, ecowhiskey.training_contexts.context, ecowhiskey.training_contexts.created_at, ecowhiskey.training_contexts.updated_at 
FROM ecowhiskey.training_contexts 
WHERE ecowhiskey.training_contexts.training_session_id = $1::UUID
2025-11-27 20:48:41,643 | INFO | sqlalchemy.engine.Engine | [cached since 100.7s ago] (UUID('ab8c878c-a76e-421b-bf02-b589d0088a92'),)
2025-11-27 20:48:41,681 | INFO | sqlalchemy.engine.Engine | UPDATE ecowhiskey.training_contexts SET context=$1::JSONB, updated_at=$2::TIMESTAMP WITH TIME ZONE WHERE ecowhiskey.training_contexts.id = $3::UUID
