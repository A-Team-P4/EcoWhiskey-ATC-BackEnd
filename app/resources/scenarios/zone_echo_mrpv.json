{
  "id": "zone_echo_mrpv",
  "display_name": "Retorno de Zona ECO a MRPV",
  "airport": "MRPV",
  "default_phase": "approach_return_contact",
  "default_frequency_group": "approach",
  "frequencies": {
    "ground": "121.7",
    "tower": "118.3",
    "approach": "120.5",
    "radio": "126.8",
    "unicom": "122.0"
  },
  "shared": {
    "student": {}
  },
  "phases": [
    {
      "id": "approach_return_contact",
      "name": "Regreso a Aproximación desde Zona ECO",
      "frequency": "approach",
      "intent": "approach_return_contact",
      "transitions": {
        "onSuccess": "approach_three_rivers_report"
      },
      "llm": {
        "role": "COCO Aproximación recibe al tráfico. Responde: '[Matrícula], recibido, descenso autorizado a cinco mil pies. Reporte Tres Ríos con Pavas a la vista.'",
        "studentChecklist": [
          "Colacionar descenso asignado.",
          "Colacionar reporte solicitado ('reportaré Tres Ríos').",
          "NO colacionar tráfico irrelevante."
        ],
        "controllerChecklist": [
          "Autorizar descenso (descenso autorizado a cinco mil pies).",
          "Solicitar reporte visual (Reporte Tres Ríos con Pavas a la vista)."
        ],
        "allowResponseRules": [
          "Responder siempre."
        ],
        "feedbackGuidance": [
          "Indicar elementos faltantes en el reporte."
        ],
        "notes": "Mantén ritmo radar estándar. Colacionar descenso y reportes. NO colacionar indicaciones de tráfico si no afectan. Mantén la respuesta breve, concisa y precisa."
      },
      "data": {
        "controller_callsign": "COCO Aproximación",
        "report_point": "Tres Ríos"
      }
    },
    {
      "id": "approach_three_rivers_report",
      "name": "Reporte Tres Ríos y transferencia a Torre",
      "frequency": "approach",
      "intent": "approach_transfer_tower",
      "transitions": {
        "onSuccess": "tower_arrival_contact"
      },
      "llm": {
        "role": "Al recibir reporte Tres Ríos con Pavas a la vista. Responde: 'Contacte Pavas Torre uno uno ocho punto tres.'",
        "studentChecklist": [
          "Reportar: 'Vertical Tres Ríos con Pavas a la vista'."
        ],
        "controllerChecklist": [
          "Transferir a Pavas Torre 118.3."
        ],
        "allowResponseRules": [
          "Siempre responde."
        ],
        "feedbackGuidance": [
          "Si falta altitud o visual, menciónalo."
        ],
        "notes": "Mantén despedida. Mantén la respuesta breve, concisa y precisa. Evita palabras innecesarias."
      },
      "data": {
        "controller_callsign": "COCO Aproximación",
        "next_frequency_phrase": "Pavas Torre 118.3"
      }
    },
    {
      "id": "tower_arrival_contact",
      "name": "Ingreso al circuito en Pavas Torre",
      "frequency": "tower",
      "intent": "tower_arrival_clearance",
      "transitions": {
        "onSuccess": "tower_final"
      },
      "llm": {
        "role": "De vuelta en Pavas Torre. Responde: '[Matrícula], incorpórese circuito derecho pista [data.runway_human]. QNH [data.qnh]. Viento [data.wind_direction] grados [data.wind_speed] nudos. Reporte final Palomas.'",
        "studentChecklist": [
          "Colacionar circuito asignado (derecho/izquierdo).",
          "Colacionar pista.",
          "Colacionar QNH.",
          "Colacionar reporte solicitado.",
          "NO colacionar viento."
        ],
        "controllerChecklist": [
          "Asignar circuito (derecho pista [data.runway_human]).",
          "Dar QNH (ver data.qnh).",
          "Dar viento (ver data).",
          "Solicitar reporte en final Palomas."
        ],
        "allowResponseRules": [
          "Responde siempre."
        ],
        "feedbackGuidance": [
          "Resaltar si el alumno omitió intención o posición."
        ],
        "notes": "Usa fraseología local. NO colacionar VIENTO ni intensidad de tráfico. Mantén la respuesta breve, concisa y precisa."
      },
      "data": {
        "controller_callsign": "Pavas Torre",
        "runway_human": "uno cero",
        "report_point": "final Palomas"
      }
    },
    {
      "id": "tower_final",
      "name": "Reporte final Palomas",
      "frequency": "tower",
      "intent": "tower_final_report",
      "transitions": {
        "onSuccess": "tower_landing"
      },
      "llm": {
        "role": "Al recibir 'final Palomas'. Responde: '[Matrícula], autorizado aterrizar pista [data.runway_human], viento [data.wind_direction] grados [data.wind_speed] nudos.'",
        "studentChecklist": [
          "Reportar posición en final.",
          "Confirmar pista."
        ],
        "controllerChecklist": [
          "Autorizar aterrizar pista [data.runway_human].",
          "Incluir viento actual."
        ],
        "allowResponseRules": [
          "Responde siempre, aunque sea con 'mantenga'."
        ],
        "feedbackGuidance": [
          "Corrige si olvidó datos clave."
        ],
        "notes": "Puedes pasar directo a autorización si está libre. Mantén la respuesta breve, concisa y precisa. Evita palabras innecesarias."
      },
      "data": {
        "controller_callsign": "Pavas Torre",
        "runway_human": "uno cero"
      }
    },
    {
      "id": "tower_landing",
      "name": "Autorización de aterrizaje",
      "frequency": "tower",
      "intent": "tower_landing_clearance",
      "transitions": {
        "onSuccess": "tower_taxi_in"
      },
      "llm": {
        "role": "Emitir la autorización de aterrizaje con viento. Responde: '[Matrícula], autorizado aterrizar pista [data.runway_human], viento [data.wind_direction] grados [data.wind_speed] nudos.'",
        "studentChecklist": [
          "Colacionar 'Autorizado aterrizar'.",
          "Colacionar pista.",
          "NO colacionar viento."
        ],
        "controllerChecklist": [
          "Autorizar aterrizar pista [data.runway_human].",
          "Incluir viento actual."
        ],
        "allowResponseRules": [
          "Solo set allowResponse=true para la autorización."
        ],
        "feedbackGuidance": [
          "Refuerza fraseología correcta."
        ],
        "notes": "Mantén respuesta concisa. NO colacionar VIENTO, 'sin tránsito' ni clima. Mantén la respuesta breve, concisa y precisa."
      },
      "data": {
        "controller_callsign": "Pavas Torre",
        "runway_human": "uno cero"
      }
    },
    {
      "id": "tower_taxi_in",
      "name": "Rodaje a hangar después de liberar pista",
      "frequency": "ground",
      "intent": "ground_taxi_in",
      "transitions": {
        "onSuccess": null
      },
      "llm": {
        "role": "Eres Pavas Superficie (121.7). Tras la liberación de pista, asigna rodaje al hangar.",
        "studentChecklist": [
          "Colacionar ruta completa de rodaje.",
          "Colacionar hangar o destino.",
          "Colacionar permanencia en frecuencia (si se indica).",
          "NO colacionar viento."
        ],
        "controllerChecklist": [
          "Asignar ruta (Alfa 3 – Alfa – Alfa 2).",
          "Indicar mantener frecuencia."
        ],
        "allowResponseRules": [
          "Responde siempre con instrucciones de rodaje."
        ],
        "feedbackGuidance": [
          "Apunta omisiones del alumno."
        ],
        "notes": "Cierra la operación. Colacionar ruta completa y destino. NO colacionar viento ni observaciones. Mantén la respuesta breve, concisa y precisa."
      },
      "data": {
        "controller_callsign": "Pavas Superficie",
        "taxi_route": "Alfa 3 – Alfa – Alfa 2",
        "hangar": "37"
      },
      "session_completed": true
    }
  ]
}